(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e,i){t.exports=i(28)(0)},function(t,e,i){"use strict";function n(t,e,i,n,r,o,a,s){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):r&&(c=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(t,e){return c.call(e),d(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:l}}i.d(e,"a",(function(){return n}))},function(t,e,i){t.exports=i(28)(1)},function(t,e,i){t.exports=i(28)(3)},function(t,e,i){t.exports=i(28)(33)},,function(t,e,i){t.exports=i(28)(6)},function(t,e,i){var n=i(17),r=i(147),o=i(299),a=(i(10),i(2)),s=i(148),c=i(0),l=i(243),d=(i(4),o.val());t.exports={_ajaxIframeCache:{iframe:{},cb:{}},request:function(t){function e(e){l.request({$:e,config:t.config||{},methodName:t.methodName,sync:!!t.sync,type:l.getRequestType(t),url:t.url,body:t.body,query:c.extend({token:s.get("csrf_token"),lang:d},t.query),params:t.params,timeout:t.timeout,dataType:t.dataType,json:t.json,jsonpCallback:t.jsonpCallback,cache:t.cache,beforeSend:t.beforeSend,complete:t.complete,callCode:n,call:t.call,error:t.error,always:t.always})}function n(n,r){var o=+n.code;if(999===o&&!t.noDealAuth)return i(26).showLogin(),!1;if(1012===o)return i(305).show({ok:function(){e(a)}}),!1;var s=t.captcha;return s&&s.type&&c.id(s.code||1125)===c.id(o)?(function(t,n,r){var o=t.captcha;i(119).show({type:o.type,call:function(i){var n=t.captchaHandler,r="get"===l.getRequestType(t).toLowerCase()?"query":"body";n&&n(t,i),!n&&(t[r]=c.extend({},t[r],i)),e(a)},cancel:function(){t.error&&t.error(n,r)}})}(t,n,r),!1):void 0}"jsonp"===t.dataType?e(a):r.create(t.url,e)},add:function(t,e,i,r){var o=this,a=t.urlPrefix||"";e=e||t.url,i=i||t.domain,r=r||t.domainDev;var s=n.isInHttps(),d=n.isInDev();i=d&&r?r:i&&d?"d."+i:i,c.forEach(e,(function(e,n){c.isString(e)&&(e=a+e,e=i&&!/^(?:http|\/\/)/.test(e)?(s?"https://":"http://")+i+e:e,t[n]=function(t){t=l.getConfParam(t,e,n),o.request(t)},t[n+"Url"]=function(t){return l.getConfUrl(t,e,n)})}))}}},function(t,e,i){t.exports=i(28)(11)},,function(t,e,i){t.exports=i(28)(2)},function(t,e,i){t.exports=i(28)(7)},function(t,e,i){t.exports=i(28)(29)},,,function(t,e){t.exports={questionType:{danxuan:1,duoxuan:2,tiankong:3,biancheng:4,wenda:5,bigdata:6},syncType:{ctsTest:1,discuss:2,interview:3},captcha:{login:"login",register:"register",refAnswer:"ref_answer_query",runCode:"run_code",sysRightAnswer:"get_right_option",postComment:"post_comment",sendMessage:"send_message",offerChoose:"show_offer_choose",offerNormal:"show_offer_normal",sendVerifyCode:"send_verify_code"},type:{user:1,comment:2,problem:3,topic:4,feed:5,paper:6,recommendAnswer:7,post:8,message:9,live:11,note:14,clockRecord:15,ctsTest:19,schoolCalendar:28,stack:41,learningMaterial:42,gitProject:45,stackCompany:50,book:52,bookOneWord:55,offerData:56,blog:73,subject:88,acmCollection:92,campus:1201,community:1301,liveCourse:1501,liveChapter:1502,liveSection:1503,liveLive:1504,vodCourse:1401,vodChapter:1402,vodSection:1403,aiQuestion:2301},draftType:{answer:1,post:2,answerPost:3,note:4},uploadType:{none:0,image:1,doc:2,data:3,resume:4,file:5,screenShot:7,learningMaterial:11},loginType:{wb:1,qq:2,db:3,rr:4,git:5,wx:6},FEInput:{1:"html",2:"css",3:"javascript"},FELib:{1:{text:"jquery (2.1.4)",value:"jquery"},2:{text:"underscore (1.8.2)",value:"underscore"}},avatar:{small:"//static.nowcoder.com/images/head.png"},activityType:{seattle:1,xingtai:2,taipei:3,ali2015:4,qihu2016:5,calenderOj:14,calenderBigData:15},aodianyun:{account:"nowcoder_weekly",password:"sub_034da48a83095baef7f0196896b38629",topic:"weekly",liveAccount:"live_course",livePassword:"sub_71b59a68e7a86347ce77eece262de375"},doSomeThingType:{wantAnswer:1,liveCourseSignUp:2,liveAskAnswer:3,loginRecord:4,cheat:5,spring2016InternJava:6,spring2016InternC:7},userSource:["牛客网","微信","微博","老师、朋友推荐","技术社区","其他"],share:{contest:1,comment:2,book:3,schedule:4},acmPlanType:{1:{name:"CSP-J入门组",url:"/acm/skill/csp-pj"},2:{name:"CSP-S提高组",url:"/acm/skill/csp-tg"},3:{name:"省选/NOI",url:"/acm/skill/noi"},4:{name:"ACM",url:"/acm/skill/acm"}},eduNames:["博士后","博士","硕士","本科","专科","高中","初中","小学"],jobs:{"Java工程师":"639","C++工程师":"640","iOS工程师":"641","安卓工程师":"642","运维工程师":"643","前端工程师":"644","算法工程师":"645","PHP工程师":"649","测试工程师":"680","安全工程师":"682","C#工程师":"683","数据库工程师":"684","数据分析师":"894","产品":"891","运营":"892","其它":"685"}}},,function(t,e,i){var n=i(0),r=i(10);t.exports={data:window.globalInfo||{},getUser:function(){return this.data},getUid:function(){return n.id(this.data.ownerId)},isLogin:function(){return!!n.id(this.data.ownerId)},isActive:function(){return"0"===n.id(this.data.status)},isAdmin:function(){return"3"===n.id(this.data.ownerType)},isCompleteInfo:function(){return!!this.data.isCompleteInfo},isInDev:function(){if("ncJsInDev"in window)return!!window.ncJsInDev;return(((window.seajs||{}).data||{}).base||"").indexOf("javascripts")>=0},isInHttps:function(){return r.isHttps(window.location.href)},isInMainSite:function(){return!!window.ncIsInNowcoderMainSite},canInIframe:function(){return"true"===this.data.canLoadInIframe},getMainDomain:function(t){if(this.isInMainSite())return"";var e=this.isInDev()?"d.nowcoder.com":"www.nowcoder.com";return(t?this.isInHttps()?"https://":"http://":"")+e}}},function(t,e,i){t.exports=i(28)(28)},function(t,e,i){t.exports=i(28)(13)},function(t,e,i){var n=i(62),r=i(0),o=i(2),a=i(11),s=i(8),c=i(19),l=i(12),d=i(4),u=(i(17),i(31)),h=document.createElement("A");t.exports={jumpUrl:function(t,e){return this.isNcUrl(t)&&t||e||"/"},isNcUrl:function(t){if(!r.isString(t))return!1;h.href=t;var e=h.href.split("#")[0].split("?")[0].split("/")[2];return/nowcoder\.[a-z]+$/gi.test(e)},getEditor:function(t,e){var n={codeEditor:i(307),codeDataEditor:i(312),codeFEEditor:i(313),codeHadoopEditor:i(314),mdEditor:i(247),hEditor:i(250)};if(!t||r.isString(t)){var o=t?n[t]:null;return void(o&&(o.loadDep?o.loadDep((function(){e&&e(o)})):e&&e(o)))}var a={};r.forEachAsync(t,(function(t,e){var i=t?n[t]:null;if(!i)return e&&e();a[t]=i,i.loadDep?i.loadDep(e):e&&e()}),(function(){e&&e(a)}))},loadEcharts:function(t,e){n.use(e||"//static.nowcoder.com/lib/echarts.3.7.2.min.js",(function(){a.waitUtil({times:250,condition:function(){return!!window.echarts},call:t})}))},getSiteNav:function(){var t=o(".nowcoder-header");return!t.get(0)&&(t=o(".js-site-global-nav")),t},getNavHeight:function(){return(this.getSiteNav().height()||0)+(o(".email-validate").height()||0)},getUploadUrl:function(t){return c.addParam({type:t},"/uploadImage")},fixEl:function(t){if(!(t=t||{}).target||!t.fixCls)return;var e=t.target=o(t.target),i=o("<div></div>"),n=0,c=a.frequency(16);return i.outerHeight(e.outerHeight()),i.css("margin",e.css("margin")),o(t.scrollEl||document).on("scroll",l),l(),function(){o(t.scrollEl||document).off("scroll",l)};function l(){c((function(){var a=n?i:e,c=o(s.getScrollParent(a)||window),l=s.getPosTop(a,c);if(c.scrollTop()>l-(t.redress||0))return e.addClass(t.fixCls),e.after(i),1===n||r.isFunction(t.change)&&t.change(!0),void(n=1);e.removeClass(t.fixCls),i.remove(),0===n||r.isFunction(t.change)&&t.change(!1),n=0}))}},shareImg:function(t){var e=d.mask('<div class="popbook-loading-tips"><img src="//static.nowcoder.com/images/img/icons/loading.png" alt="">图片生成中，请稍等...</div>');u.createImg({query:{shareType:t.shareType,entityId:t.entityId},call:function(t){var e=o.trim(t.data);if(!e)return d.alert("网络异常，请稍后重试");var i=new d({width:500,hasNoTitle:!0,hasNoFooter:!0,content:["<div>",'<a href="javascript:void(0);" class="pop-close js-close" title="关闭"></a>','<div class="pop-qrcode pop-share-qrcode" style="padding:0;">','<div class="pop-qrcode-title">分享给好友</div>','<div class="pop-qrcode-img" style="width:380px;"><img src="',e,'" alt="图片"></div>','<div class="submit-btnbox">','<a href="javascript:void(0);" class="btn btn-primary js-share-phone">手机分享</a>',"</div>","</div>","</div>"].join("")});i.getEl(".js-close").on("click",(function(){i.close()})),i.getEl("img").on("load",(function(){i.fixPosition()})),i.getEl(".js-share-phone").on("click",(function(){var t=l.rqUrl(e),i=new d({title:"保存至手机",width:320,content:['<div class="avarta-box">','<img height="200px" style="display:block;margin:0 auto;" src="',t,'" />','<div style="text-align:center;font-size:14px;margin-top:20px;">扫一扫，长按保存图片</div>',"<div>"].join("")});i.getEl("img").on("load",(function(){i.fixPosition()}))}))},error:function(e){t.error?t.error(e):d.alert(e.msg)},always:function(){e.close()}})}}},,,,,function(t,e,i){var n=i(2),r=i(0),o=i(6),a=i(3),s=i(10),c=i(8),l=t.exports=a.create();function d(t,e){var i=this,n=i.inputEl;return 0===arguments.length?n.val():(n.val()!==t&&(n.val(t),!e&&i.fire("change"),n.trigger("change")),i.setNone(),i)}function u(t){var e=this.getEl();return this.none(),this[!1===t?"removeClass":"addClass"](e,"success"),this.errorTipsEl.hide(),this}function h(t){var e=this.getEl();return this.none(),this[!1===t?"removeClass":"addClass"](e,"error"),!1===t&&this.errorTipsEl.hide(),this}function p(t){t?(this.error(),this.errorTipsEl.html(t).show()):(this.error(!1),this.errorTipsEl.html("").hide())}function f(){var t=this.getEl();return this.removeClass(t,"success"),this.removeClass(t,"error"),this.errorTipsEl.html("").hide(),this}a.mix(l,o,{_template:['<#{tag} class="control-group">',"#{inputStr}",'<i class="input-icon fui-cross"></i>','<i class="input-icon fui-check-inverted"></i>','<span class="input-tip"></span>',"</#{tag}>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){this.rawConfig;var t=this.getEl();this.errorTipsEl=t.find("span.input-tip"),this.inputEl=this.isTextarea?t.find("textarea"):t.find("input"),this.initAction()}}],transformConf:function(t){t.addClass("control-group");var e=t.find("input").length,i=t.find("textarea").length;0===e&&0===i&&t.append('<input type="text" />');0===t.find("i.fui-cross").length&&t.append('<i class="input-icon fui-cross"></i>');0===t.find("i.fui-check-inverted").length&&t.append('<i class="input-icon fui-check-inverted"></i>');0===t.find("span.input-tip").length&&t.append('<span class="input-tip"></span>');return{type:i>0?"textarea":"text"}}},{initialize:function(t){this.isTextarea="textarea"===t.type,t.value=s.decodeHTML(t.value||"")},initAction:function(){var t=this,e=t.rawConfig,i=t.inputEl;c.bindChange(i,(function(){t.fire("change")})),i.on("blur",(function(){e.focusTips&&t.setNone(),t.fire("blur")})),i.on("focus",(function(){t.setFocusTips(),t.fire("focus")})),i.on("keydown",(function(e){"13"===r.id(e.keyCode)&&t.fire("pressEnter")}))},focus:function(){this.inputEl.focus()},blur:function(){this.inputEl.blur(),this.fire("blur")},val:d,success:u,error:h,errorTips:p,none:f,_getData:function(t){var e='<input class="#{cls}" '+(t.id?' id="#{id}" ':" ")+(t.name?' name="#{name}" ':" ")+' type="#{type}" placeholder="#{placeholder}" value="#{value}"/>';return this.isTextarea&&(e='<textarea class="#{cls}" '+(t.id?' id="#{id}" ':" ")+(t.name?' name="#{name}" ':" ")+' placeholder="#{placeholder}" style="resize:none;">#{value}</textarea>'),{_execAgain:!0,tag:t.tag||"div",cls:t.clsIpt,placeholder:t.placeholder||"",value:t.value||"",type:t.type||"text",name:t.name||0===t.name?t.name:"",id:t.id||"",inputStr:e}},readonly:function(t){this.inputEl[!1===t?"removeAttr":"attr"]("readonly",1)},disabled:function(t){this.inputEl[!1===t?"removeAttr":"attr"]("disabled",1)},isDisabled:function(){return this.inputEl.prop("disabled")},addClass:function(t,e){!(t=n(t)).hasClass(e)&&t.addClass(e)},removeClass:function(t,e){(t=n(t)).hasClass(e)&&t.removeClass(e)},getValue:function(t){return t?n.trim(this.val()):this.val()},setValue:d,setSuccess:u,setError:h,setErrorTips:p,setFocusTips:function(t){var e=this.rawConfig;return t=e.focusTips=t||e.focusTips,this.none(),this.errorTipsEl.html(t||"")[t?"show":"hide"](),this},setNone:f})},function(t,e,i){var n=i(2),r=i(0),o=i(4),a=i(17),s=(i(31),i(300)),c=i(129);t.exports={showLogin:function(t){var e=this,i=(t=t||{}).href;return s.show({href:i,loginCb:function(){if(!i||window.location.href===i)return window.location.reload();window.location.href=i},registerCb:function(){e.showCompleteInfo({close:function(){window.location.reload()}})}})},showActive:function(){var t=a.getUser();return t&&t.ownerId&&new o({title:"帐号激活提醒",hasNoFooter:!0,content:['<div class="pop-account-content">','<p class="pop-tip">亲爱的用户</p>','<p class="pop-tip">你的帐号还没激活，为保障安全暂时无法进行此操作。</p>','<div class="submit-btnbox">','<a class="btn btn-primary confirm-btn" href="'+a.getMainDomain(!0)+"/profile/"+t.ownerId+'/account">去设置</a>',"</div>","</div>"].join("")})},showCompleteInfo:function(t){t=t||{};return c.show({callCb:t.call||function(){window.location.reload()},closeCb:t.close})},click:function(t){var e=this,i=n(t.el);function r(i){var r=n(i.currentTarget);t.click&&t.click(i,r),function(i,n){!t.needLogin&&n&&n(),t.needLogin&&e.checkLogin(i,n)}(r,(function(){!function(i,n){!t.needActive&&n&&n(),t.needActive&&e.checkActive(i,n)}(r,(function(){t.call&&t.call(i,r)}))}))}i=i.get(0)?i:n(document),t.cls?i.on("click",t.cls,r):i.on("click",r)},checkLogin:function(t,e){r.isFunction(t)&&(e=t,t=null);if(a.isLogin())return e&&e(t);(t=t?n(t):null)&&!t.hasClass("nc-req-auth")&&this.showLogin()},checkActive:function(t,e){var i=this;r.isFunction(t)&&(e=t,t=null);i.checkLogin(t,(function(){if(a.isActive())return e&&e(t);(t=t?n(t):null)&&!t.hasClass("nc-req-active")&&i.showActive()}))}}},function(t,e,i){t.exports=i(28)(20)},,function(t,e,i){t.exports=i(28)(4)},,function(t,e,i){var n=i(7),r=i(17).isInMainSite();t.exports={domain:r?"":"www.nowcoder.com",domainDev:r?"":"d.nowcoder.com",urlPrefix:"/nccommon",url:{scanGetCode:"/scan/code",scanPingAppScanned:"/scan/updateInfo",makePaper:"/daily-task/makePaper",checkSensitive:"/profile/sensitive/check",searchGetHot:"/search/hot-query",searchGetHistory:"/search/last-query",searchDelHistory:"/search/delete-latest-query",searchClearHistory:"/search/delete-all-latest-query",searchBlackQuery:"/mark-query-black",searchSuggest:"/suggest",queryUnreadCount:"/sns/message/unread-count-v2",blogGetContent:"/blog/content",blogSpam:"/blog/spam",blogOpen:"/profile/blog/open",checkLoginOtherPlace:"/token/login-other-place",getLoginPublicKey:"/environment/config",getOauthState:"/register/oauthState",login:"/login/do",logout:"/logout/do",register:"/register/new",getSMSSupportCountries:"/helper/sms/supported_countries",checkEmail:"/register/check-email-available",checkPhone:"/register/check-phone-available",checkNickName:"/register/check-nickname-available",validatePhone:"/register/validate-phone-v2",validateEmail:"/register/validate-email",activePhone:"/register/active-phone",activeOAuthPhone:"/register/active-phone-oauth",activeEmail:"/register/active-email",updateEmail:"/profile/update-email",completeness:"/completeness/connect",getBasicInfo:"/completeness/user-info",getUserNameCard:"/profile/#{uid}/card",saveHead:"/saveHead",unbindAccount:"/account/unbind",unbindAccountResult:"/account/previous",sendMessage:"/sns/message/send-msg",queryUsers:"/sns/message/query-users",queryRecentlyUsers:"/sns/message/recently-sent-users",atSuggest:"/at/suggest",subjectSuggest:"/subject/query",follow:"/sns/follow",unfollow:"/sns/unfollow",like:"/sns/like",unlike:"/sns/del_like",blackUser:"/sns/black",unblackUser:"/sns/unblack",getFollowData:"/sns/followdata",codeBigDataRun:"/bigdata/submit",codeBigDataStatus:"/bigdata/status",codeSubmit:"/submit_cd",codeRun:"/submit",codeStatus:"/status",codeSelfTest:"/submit_cd_selftest_withoutdata",codeSelfTestStatus:"/status-self-test",codeDmRun:"/submit_dm_in_terminal",codeDmStatus:"/new_dmstatus",codeGetLastSubmission:"/practice/latestSubmission",codeGetLastAcceptSubmission:"/practice/latestAcceptSubmission",codeGetSubmissionDiff:"/judge/submissionDiff",emojiGetMenu:"/emoji/menu",emojiGetData:"/emoji/data",voteCreate:"/vote/create",voteEdit:"/vote/edit",voteInfo:"/vote/info",vote:"/vote/do-vote",uploadImageOnline:"/upload-image-online",getGtData:"/captcha/geetest/#{type}",getCaptcha:"/captcha/#{type}",getAllSchool:"//static.nowcoder.com/nc/school.jsonp",getSchool:"/school/query",getSchoolBrief:"/school/brief",addSchool:"/school/add/customize",systemTime:"/common/system-time",addReport:"/report/add",isReported:"/report/isReported",cmtMarkSpam:"/admin/mark-comment-spam",cmtMarkUserAllSpam:"/admin/delete-all-ugc",cmtAdd:"/comment/create",cmtDel:"/comment/delete",cmtAccept:"/comment/accept",cmtGetPageNum:"/comment/pageNum",cmtGetPageNumV2:"/comment/pageNum-v2",cmtGetAcceptedList:"/comment/accepted/list",cmtGetWonderfulList:"/comment/woderful/list",cmtAddWonderful:"/comment/wonderful",cmtDelWonderful:"/comment/unwonderful",cmtAddLitigant:"/comment/litigant",cmtDelLitigant:"/comment/un-litigant",cmtGetByPageV2:"/comment/list-by-page-v2",adNotInterest:"/ad/uninterest",createImg:"/helper/share/pic"}},n.add(t.exports,t.exports.url)},,,,function(t,e,i){var n=i(264);t.exports=n},,function(t,e,i){t.exports=i(28)(8)},,,,,function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(6),s=i(84),c=i(8),l=i(63),d=i(104),u=i(31),h=t.exports=o.create(),p={description:"默认",type:"-1"};o.mix(h,a,{_template:['<div class="tooltip bottom tooltip-info" style="position:relative;">','<div class="tooltip-arrow" style="left:50%;margin-left:-9px;"><i></i></div>','<div class="tooltip-inner layer-emotion-box js-main"></div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig,e=this.getEl();t.verReverse&&e.removeClass("bottom").addClass("top"),e.find(".js-main").html(this.getTips()),this.initContent()}},{name:"click .js-type",handler:function(t){var e=n(t.currentTarget),i=n.trim(e.attr("data-type"));this.select(i,0)}},{name:"click .js-page",handler:function(t){var e=n(t.currentTarget),i="next"===n.trim(e.attr("data-type")),r=h.dataMap[this.currentType];l.page(r.length,45);this.select(this.currentType,this.currentPage+(i?1:-1))}},{name:"click .js-emoji-item",handler:function(t){var e=this.rawConfig,i=this.getEmojiByEl(t.currentTarget).emoji;if(i){var n=!!i.word,r={isEmoji:n,text:i[n?"word":"name"],html:n?"<span>"+i.word+"</span>":i.url};e.call&&e.call(r),this.fire("select",r)}}}],show:function(t){var e=new h(t=t||{}),i="verReverse"in t?!!t.verReverse:undefined;return d.wrap(e,r.extend({target:t.target,content:e.html(),attach:r.extend({verReverse:i},t.attach,{center:!0})})),e},renderInIpt:function(t,e){try{(t=n(t)).caret(t.range().end),t.range(e.text),t.caret(t.range().end),c.dispatchEvent(t,"input")}catch(i){}},menuList:null,dataMap:{},getMenu:function(t,e,i){var n=this;if(t)return e&&e([p]);if(n.menuList)return e&&e(n.menuList);u.emojiGetMenu({type:"GET",call:function(t){var i=(t.data||{}).data||[];i.unshift(p),n.menuList=i,e&&e(i)},error:i})},getEmoji:function(t,e,i){var n=this.dataMap,o=r.id(t);o!==p.type||n[o]||(n[o]=h.getDefaultEmoji());if(n[o])return e&&e(n[o]);u.emojiGetData({query:{type:o},call:function(t){var i=(t.data||{}).data||[];n[o]=i,e&&e(i)},error:i})},getDefaultEmoji:function(){return[{id:1,code:"1F600",word:"😀"},{id:2,code:"1F601",word:"😁"},{id:3,code:"1F602",word:"😂"},{id:4,code:"1F923",word:"🤣"},{id:5,code:"1F603",word:"😃"},{id:6,code:"1F604",word:"😄"},{id:7,code:"1F605",word:"😅"},{id:8,code:"1F606",word:"😆"},{id:9,code:"1F609",word:"😉"},{id:10,code:"1F60A",word:"😊"},{id:11,code:"1F60B",word:"😋"},{id:12,code:"1F60E",word:"😎"},{id:13,code:"1F60D",word:"😍"},{id:14,code:"1F618",word:"😘"},{id:16,code:"1F617",word:"😗"},{id:17,code:"1F619",word:"😙"},{id:18,code:"1F61A",word:"😚"},{id:20,code:"1F642",word:"🙂"},{id:21,code:"1F917",word:"🤗"},{id:22,code:"1F929",word:"🤩"},{id:23,code:"1F914",word:"🤔"},{id:24,code:"1F928",word:"🤨"},{id:25,code:"1F610",word:"😐"},{id:26,code:"1F611",word:"😑"},{id:27,code:"1F636",word:"😶"},{id:28,code:"1F644",word:"🙄"},{id:29,code:"1F60F",word:"😏"},{id:30,code:"1F623",word:"😣"},{id:31,code:"1F625",word:"😥"},{id:32,code:"1F62E",word:"😮"},{id:33,code:"1F910",word:"🤐"},{id:34,code:"1F62F",word:"😯"},{id:35,code:"1F62A",word:"😪"},{id:36,code:"1F62B",word:"😫"},{id:37,code:"1F634",word:"😴"},{id:38,code:"1F60C",word:"😌"},{id:39,code:"1F61B",word:"😛"},{id:40,code:"1F61C",word:"😜"},{id:41,code:"1F61D",word:"😝"},{id:42,code:"1F924",word:"🤤"},{id:43,code:"1F612",word:"😒"},{id:44,code:"1F613",word:"😓"},{id:45,code:"1F614",word:"😔"},{id:46,code:"1F615",word:"😕"},{id:47,code:"1F643",word:"🙃"},{id:48,code:"1F911",word:"🤑"},{id:49,code:"1F632",word:"😲"},{id:50,code:"2639",word:"☹"},{id:51,code:"1F641",word:"🙁"},{id:52,code:"1F616",word:"😖"},{id:53,code:"1F61E",word:"😞"},{id:54,code:"1F61F",word:"😟"},{id:55,code:"1F624",word:"😤"},{id:56,code:"1F622",word:"😢"},{id:57,code:"1F62D",word:"😭"},{id:58,code:"1F626",word:"😦"},{id:59,code:"1F627",word:"😧"},{id:60,code:"1F628",word:"😨"},{id:61,code:"1F629",word:"😩"},{id:62,code:"1F92F",word:"🤯"},{id:63,code:"1F62C",word:"😬"},{id:64,code:"1F630",word:"😰"},{id:65,code:"1F631",word:"😱"},{id:68,code:"1F633",word:"😳"},{id:69,code:"1F92A",word:"🤪"},{id:70,code:"1F635",word:"😵"},{id:71,code:"1F621",word:"😡"},{id:72,code:"1F620",word:"😠"},{id:73,code:"1F92C",word:"🤬"},{id:74,code:"1F637",word:"😷"},{id:75,code:"1F912",word:"🤒"},{id:76,code:"1F915",word:"🤕"},{id:77,code:"1F922",word:"🤢"},{id:78,code:"1F92E",word:"🤮"},{id:79,code:"1F927",word:"🤧"},{id:80,code:"1F607",word:"😇"},{id:81,code:"1F920",word:"🤠"},{id:85,code:"1F925",word:"🤥"},{id:86,code:"1F92B",word:"🤫"},{id:87,code:"1F92D",word:"🤭"},{id:88,code:"1F9D0",word:"🧐"},{id:89,code:"1F913",word:"🤓"},{id:90,code:"1F608",word:"😈"},{id:91,code:"1F47F",word:"👿"}]}},{initialize:function(){this.menu=null,this.currentType=null,this.currentPage=0},initContent:function(){var t=this,e=t.rawConfig;h.getMenu(e.onlyDefault,(function(e){t.menu=e,t.renderMenu(e),t.initHover(),t.select(e[0].type,0)}),(function(e){t.getEl(".js-main").html(t.getTips(e.msg))}))},initHover:function(){var t=this;t.getEl(".js-emoji").on("mouseenter",".js-emoji-item",(function(e){var i=t.previewEl,n=t.getEmojiByEl(e.currentTarget),r=n.index,o=n.emoji;if(!o||!o.url&&!o.word)return i.hide().html("");i.html(o.url||"<span>"+o.word+"</span>").show(),function(t,e){e[2*(t%=9)<9?"removeClass":"addClass"]("left")}(r,i)})).on("mouseleave",".js-emoji-item",(function(e){t.previewEl.hide().html("")}))},select:function(t,e){var i=this,n=i.getEl(),r=(n.find(".js-emoji"),i.getEl(".js-tips"),h.dataMap[t]);i.currentType=t,i.currentPage=e,n.find(".js-type").removeClass("selected"),n.find('.js-type[data-type="'+t+'"]').addClass("selected"),r?i.renderEmoji(r,e):(i.renderEmoji([],1),h.getEmoji(t,(function(n){t===i.currentType&&i.renderEmoji(n,e)}),(function(t){i.getEl();i.tipsEl.html(i.getTips(t.msg)).show(),i.emojiEl.hide()})))},renderMenu:function(t){var e=this.getEl(),i=s.execTpl(['<div class="layer-emotion-label" v-if="hasMenu">','<a v-for="(item, index) in items" href="javascript:void(0);" class="js-type" :data-type="item.type">#{item.description}</a>',"</div>",'<div class="layer-emotion-content">','<div class="layer-emotion-hover js-preview-box" style="display:none;"></div>','<div class="js-emoji" style="display:none;user-select:none;"></div>','<div class="js-tips">#{tips}</div>',"</div>"],{hasMenu:t.length>1,items:t,tips:this.getTips()});e.find(".js-main").html(i),this.previewEl=e.find(".js-preview-box"),this.tipsEl=e.find(".js-tips"),this.emojiEl=e.find(".js-emoji")},renderEmoji:function(t,e){var i=this.getEl().find(".js-emoji"),n=this.getEl(".js-tips"),o=l.page(t.length,45);if(e+1>o||e<0)return;var a=t.slice(45*e,45*(e+1));r.forCount(45-a.length,(function(){a.push({})}));var c=45*e,d=s.execTpl(['<div class="layer-emotion-wrapper">','<div v-for="(item, index) in items" class="layer-emotion-item js-emoji-item" :data-index="getIndex(index)" :title="item.name || \'\'">','<span v-if="item.url">#{item.url}</span>','<span v-if="item.word">#{item.word}</span>',"</div>","</div>",'<div class="layer-emotion-ft">',"<div><span>#{page}</span> / <span>#{total}</span></div>",'<div class="layer-emotion-page">','<a href="javascript:void(0);" data-type="pre" :class="cls()"></a>','<a href="javascript:void(0);" data-type="next" :class="cls(true)"></a>',"</div>","</div>"],{items:a,page:e+1,total:o,getIndex:function(t){return c+t},cls:function(t){return t?["icon-angle-right","js-page",e+1>=o?" disabled":""]:["icon-angle-left","js-page",e<=0?" disabled":""]}});i.html(d).show(),n.hide().html("")},getEmojiByEl:function(t){var e=+n.trim(n(t).attr("data-index"))||0,i=h.dataMap[this.currentType];return{index:e,emoji:i[e]}},getTips:function(t){return'<div style="padding:20px;text-align:center;font-size:14px;">'+(t||"加载中...")+"</div>"}})},function(t,e,i){var n=i(2),r=(i(0),i(6)),o=i(3),a=(i(8),t.exports=o.create());o.mix(a,r,{xtype:"checkbox",_template:['<label class="#{chbCls}">','<span class="icons"></span>','<input type="#{chbType}" #{isChecked} data-toggle="#{chbToggle}" value="#{val}" name="#{name}" />#{text}',"</label>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig,e=this.getEl();this.iconEl=e.find("span"),this.valIpt=e.find("input"),this._val=t.val||0===t.val?t.val:this.valIpt.val()||"",t.checked&&this.checked()}},{name:"click",type:"bind",handler:function(t){t.stopPropagation(),t.preventDefault(),this.fire("click")}},{name:"click",type:"custom",handler:function(){var t=this.rawConfig;this.getEl();this.isDisabled()||t.canChange&&!1===t.canChange.call(this)||(this.checked(!this.isChecked()),this.fire("change"),t.change&&t.change.call(this))}}],transformConf:function(t){var e={checked:!!t.hasClass("checked"),disabled:!!t.hasClass("disabled"),radio:!!t.hasClass("radio"),val:t.find("input").val(),text:n.trim(t.text())};t.addClass(e.radio?"radio":"checkbox"),0===t.find("span.icons").length&&t.prepend('<span class="icons"></span>');0===t.find("input").length&&t.prepend('<input value="'+(e.val||"")+'" type="'+(e.radio?"radio":"checkbox")+'" />');return e}},{val:function(t){var e=this;e.getEl();if(0===arguments.length)return e._val;e._val=t,e.valIpt.val(t)},text:function(){return this.rawConfig.text},disabled:function(t){this.getEl()[!1===t?"removeClass":"addClass"]("disabled")},isDisabled:function(){return this.getEl().hasClass("disabled")},checked:function(t){var e=this.rawConfig,i=this.getEl(),n=e.checkedCls;(t=!1!==t)?(i.addClass("checked"),this.valIpt.attr("checked",1),n&&i.addClass(n)):(i.removeClass("checked"),this.valIpt.removeAttr("checked"),n&&i.removeClass(n))},isChecked:function(){return this.getEl().hasClass("checked")},isRadio:function(){return!!this.rawConfig.radio},_getData:function(t){var e=this.isRadio(),i=[e?"radio":"checkbox"];return t.disabled&&i.push("disabled"),t.checked&&i.push("checked"),{chbType:e?"radio":"checkbox",chbToggle:e?"radio":"checkbox",chbCls:i.join(" "),text:t.text,val:t.val,name:t.name}}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(37),s=i(8),c=i(10),l=i(61),d=i(31),u=t.exports=o.create();r.extend(u,a,{_pool:{},input:function(t,e){return new u(t,e)},showList:function(t,e){var i=this._pool[t]=this._pool[t]||{},o=i.listMenu;if(!r.isObject(e))return i.isListMenuShow=!1,o&&o.attach&&o.attach.fire("forceHide");i.bakInput||(i.bakInput=n('<input type="input" style="position:absolute;left:-999999px;top:-999999px;" />'),n(document.body).append(i.bakInput));o||((o=i.listMenu=l.show({input:i.bakInput,focusIpt:e.ipt,needSame:!0,noHover:!0,noEnterLeave:!0,selectCls:"hover",reqList:function(t,e){t=n.trim(t),d.atSuggest({body:{query:t},call:function(t){e(t.data)},error:function(t){e([])}})},getItemStr:function(t){return c.execTpl(['<li class="js-item suggest-user" data-id="#{_sid}">','<img class="list-head" src="#{head}">','<span class="list-name" title="#{nickname}">#{nickname}</span>',"</li>"].join(""),{_sid:t._sid,head:t.head||"//static.nowcoder.com/images/head.png",nickname:t.nickname})},ok:function(t){e.ok&&e.ok(t),o.attach.fire("forceHide")}})).listen("hideList",(function(t){t&&i.isListMenuShow&&(i.isListMenuShow=!1)})),o.attach.listen("attachHide",(function(){i.isListMenuShow=!1})));i.bakInput.val(e.text);var a=o.attach,s=a.getEl();a.one("attachShow",(function(){i.isListMenuShow=!0;var t=e.pos||{},n=e.ext||{};o.getEl().addClass("letter-content"),s.css("left",(t.left||0)+(n.left||0)),s.css("top",(t.top||0)+(n.top||0)),o.getEl().outerWidth(220)})),a.fire("forceShow")},getPool:function(t){return this._pool[t]=this._pool[t]||{}}}),r.extend(u.prototype,a,{initialize:function(t,e){this.ipt=t,this.conf=e||{},this.id=r.ascId(),this.lineHeight=0,this.initIpt()},initIpt:function(){var t,e=this,i=e.ipt,n=u.getPool(e.id);function r(){window.clearTimeout(t),t=window.setTimeout((function(){e.analyze()}),50)}i.on("click",r),i.on("focus",r),i.on("propertychange",r),i.on("blur",(function(){window.clearTimeout(t),t=window.setTimeout((function(){u.showList(e.id)}),150)})),i.on("keydown",(function(e){window.clearTimeout(t);var i=+e.keyCode;if(!{38:1,40:1,13:1}[i])return r();13===i&&n.isListMenuShow&&e.preventDefault()}))},analyze:function(){var t=this,e=t.ipt,i=t.getAtInfo();if(!i)return u.showList(t.id);var r=s.getCursorPos({el:e,index:i.range.start,beforeRemove:t.lineHeight?null:function(e,i){t.lineHeight=n(i).outerHeight()}}),o=s.getPosLeft(e),a=s.getPosTop(e);u.showList(t.id,{ipt:e,text:i.text,pos:r,ext:{top:t.lineHeight+a-e.scrollTop()+2,left:o},ok:function(i){var n=t.getAtInfo().range,r="@"+c.decodeHTML(i.nickname)+" ";e.range(n.start,n.end),e.range(r),e.caret(n.start+r.length),t.conf.ok&&t.conf.ok(i),s.dispatchEvent(e,"input"),s.dispatchEvent(e,"change")}})},getAtInfo:function(){var t,e=this.ipt.val(),i=this.ipt.range(),n=i.start-1,r=-1;for(;n>=0&&("@"===(t=e[n])&&(r=n),"@"!==t&&!/\s/.test(t));)n--;if(-1===r)return null;if(r>0&&/[1-9a-z]/gi.test(e[r-1]))return null;return{index:r,text:e.substring(r+1,i.start),full:e.substring(r,i.start),range:{start:r,end:i.end}}}})},,function(t,e,i){t.exports=i(28)(26)},,,,,function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(37),s=i(8),c=i(10),l=i(61),d=i(31),u=t.exports=o.create();r.extend(u,a,{_pool:{},input:function(t,e){return new u(t,e)},showList:function(t,e){var i=this._pool[t]=this._pool[t]||{},o=i.listMenu;if(!r.isObject(e))return i.isListMenuShow=!1,o&&o.attach&&o.attach.fire("forceHide");i.bakInput||(i.bakInput=n('<input type="input" style="position:absolute;left:-999999px;top:-999999px;" />'),n(document.body).append(i.bakInput));o||((o=i.listMenu=l.show({input:i.bakInput,focusIpt:e.ipt,needSame:!0,noHover:!0,noEnterLeave:!0,selectCls:"hover",reqList:function(t,e){t=n.trim(t),d.subjectSuggest({query:{query:t},call:function(t){var i=t.data.subjects;e(i)},error:function(t){e([])}})},getItemStr:function(t){var e=t._sid,i=t.content,n=t.momentCount;return c.execTpl(['<li class="js-item suggest-user" data-id="#{_sid}">','<span class="topic-txt">#{content}</span>','<span class="topic-num">#{momentCount} 讨论</span>',"</li>"].join(""),{_sid:e,content:i,momentCount:n})},ok:function(t){e.ok&&e.ok(t),o.attach.fire("forceHide")}})).listen("hideList",(function(t){t&&i.isListMenuShow&&(i.isListMenuShow=!1)})),o.attach.listen("attachHide",(function(){i.isListMenuShow=!1})));i.bakInput.val(e.text);var a=o.attach,s=a.getEl();a.one("attachShow",(function(){i.isListMenuShow=!0;var t=e.pos||{},n=e.ext||{};o.getEl().addClass("letter-content"),o.getEl(".js-menu").removeClass("dropdown-menu").addClass("feed-topic-list"),s.css("left",(t.left||0)+(n.left||0)),s.css("top",(t.top||0)+(n.top||0)),o.getEl().outerWidth(220)})),a.fire("forceShow")},getPool:function(t){return this._pool[t]=this._pool[t]||{}}}),r.extend(u.prototype,a,{initialize:function(t,e){this.ipt=t,this.conf=e||{},this.id=r.ascId(),this.lineHeight=0,this.initIpt()},initIpt:function(){var t,e=this,i=e.ipt,n=u.getPool(e.id);function r(){window.clearTimeout(t),t=window.setTimeout((function(){e.analyze()}),50)}i.on("click",r),i.on("focus",r),i.on("propertychange",r),i.on("blur",(function(){window.clearTimeout(t),t=window.setTimeout((function(){u.showList(e.id)}),150)})),i.on("keydown",(function(e){window.clearTimeout(t);var i=+e.keyCode;if(!{38:1,40:1,13:1}[i])return r();13===i&&n.isListMenuShow&&e.preventDefault()}))},analyze:function(){var t=this,e=t.ipt,i=t.getSubjectInfo();if(!i)return u.showList(t.id);var r=s.getCursorPos({el:e,index:i.range.start,beforeRemove:t.lineHeight?null:function(e,i){t.lineHeight=n(i).outerHeight()}}),o=s.getPosLeft(e),a=s.getPosTop(e);u.showList(t.id,{ipt:e,text:i.text,pos:r,ext:{top:t.lineHeight+a-e.scrollTop()+2,left:o},ok:function(i){var n=t.getSubjectInfo().range,r="#"+c.decodeHTML(i.content)+"# ";e.range(n.start,n.end),e.range(r),e.caret(n.start+r.length),t.conf.ok&&t.conf.ok(i),s.dispatchEvent(e,"input"),s.dispatchEvent(e,"change")}})},getSubjectInfo:function(){var t,e=this.ipt.val(),i=this.ipt.range(),n=i.start-1,r=-1;for(;n>=0&&("#"===(t=e[n])&&(r=n),"#"!==t&&!/\s/.test(t));)n--;this.conf.ignoreHashtag&&(r=0);if(-1===r)return null;if(r>0&&/[1-9a-z]/gi.test(e[r-1]))return null;return{index:r,text:e.substring(this.conf.ignoreHashtag?0:r+1,i.start),full:e.substring(r,i.start),range:{start:r,end:i.end}}}})},,,function(t,e,i){var n=i(2),r=i(0),o=i(6),a=i(3),s=i(104),c=(i(8),i(63)),l=i(58),d=i(4),u=i(60),h=t.exports=a.create();a.mix(h,o,{_template:['<div style="overflow:hidden;cursor:pointer;">','<input class="js-upload" #{multiple} #{accept} type="file" style="display:block;opacity:0;cursor:pointer;" />',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){this.rawConfig;var t=this.getEl();this.fileEl=t.find("input.js-upload"),this.resize(),this.initIpt()}}],show:function(t){t=t||{},this.file=null;var e=(t.attach||{}).extOffset||{},i=r.extend({},t.attach,{extOffset:{left:e.left,top:-1*n(t.target).outerHeight()+(+e.top||0)}}),o=new h(t);s.wrap(o,{target:t.target,attach:i,content:o.html(),zIndex:t.zIndex,noHover:t.noHover,needClick:t.needClick,canShow:t.canShow,attachShow:function(){try{o.resize()}catch(t){}}});return o}},{initialize:function(t){var e=t.fileType||"";this.isMultiple=!!t.isMultiple,this.needShowProgress=!t.noProgress,this.needShowError=!t.noError,this.types="*"===e?[]:r.filter(e.replace(/\*\./gi,"").split(";"),(function(t){return n.trim(t).toLowerCase()}))},initIpt:function(){var t=this,e=t.rawConfig,i=t.fileEl;i.on("change",(function(n){var o=r.filter(i.get(0).files||[],(function(t){return!!t}));if(0===o.length)return t.clear();var a=t.isMultiple?o:o[0];t.file=a,!e.manual&&t.start(),e.manual&&t.fire("loaded",a)}))},start:function(t){var e=this,i=e.rawConfig,n=e.isMultiple?e.file:[e.file],o=e.types;r.forEach(n,(function(n){if(!n)return e.error({msg:"上传文件不存在"},n);var a=n.size;if(0===a)return e.error({msg:"文件大小为0"},n);if(o.length>0){var s=(n.name||"").split(".").pop().toLowerCase();if(!r.contains(o,s)){var l=i.getFileTypeTips?i.getFileTypeTips(o):"";return l=l||"文件类型不正确，支持的类型："+o.join(","),e.error({msg:l},n)}}var d=+i.fileSize||0;if(d>0&&a>1024*d*1024)return e.error({msg:"上传的文件不能超过"+d+"MB，当前文件"+c.byte2Size(a)},n);var u=i.checkFile?i.checkFile(n,a,s):null;if(u&&!u.right)return e.error({msg:u.msg||"出现错误，请检查上传文件是否正确"},n);e.upload(n,t)})),e.clear()},upload:function(t,e){var i=this.rawConfig,n=i.getUpload?i.getUpload.call(this,t,e):null;(n=n||this.getUpload(t,e)).uploadFile(t)},getUpload:function(t,e){var i=this,n=i.rawConfig;return new l(r.extend({},n,{extData:r.extend({},n.extData,e),progress:function(e,r,o){if(n.progress&&n.progress.call(i,e,r,o,t),i.needShowProgress){var a=i.getPopupTips();a.showProgress("正在上传："+e+"%",e),r===o&&a.showProgress("正在保存文件，请稍等...",100)}},call:function(e){i.getPopupTips().close(),n.call&&n.call.call(i,e,t)},error:function(e){var o=999===((e=e||{})||{}).code;if(n.error&&n.error.call(i,e,t),i.needShowError){var a=o?"上传失败，请重新登录":e.msg||"出现错误，请重试";i.getPopupTips().showError(a)}o&&(n.goLogin&&n.goLogin(),!n.goLogin&&window.setTimeout(r.bind(window.location.reload,window.location),2e3))}}))},getPopupTips:function(){var t=this;if(!t._popupTips){(t._popupTips=u.show({})).popup.listen("close",(function(){t._popupTips=null}))}return t._popupTips},error:function(t,e){var i=this.rawConfig;this.clear(),this.needShowError&&d.alert(t.msg||"出现错误，请重试"),i.error&&i.error.call(this,t,e)},clear:function(){this.fileEl.val("")},resize:function(){var t=this.getEl(),e=this.rawConfig,i=n(e.target),r=i.outerWidth(),o=i.outerHeight();r&&(t.outerWidth(r),this.fileEl.outerWidth(r));o&&(t.outerHeight(o),this.fileEl.outerHeight(o))},_getData:function(t){var e=this.types;return{multiple:t.isMultiple?'multiple="1"':"",accept:0===e.length?"":'accept="'+r.map(e,(function(t){return"."+t})).join(",")+'"'}}})},,,function(t,e,i){var n=i(2),r=i(0),o=i(6),a=i(3),s=i(8),c=i(10),l=t.exports=a.create();a.mix(l,o,{_showTips:[],_template:['<div class="tooltip top">','<div class="tooltip-arrow"></div>','<div class="tooltip-inner"></div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig,e=this.getEl();this.contentEl=e.find("div.tooltip-inner");var i=r.id(t.width);i&&e.outerWidth(i),!i&&!t.autoWidth&&e.css("max-width",250),this.val(t.content,!0),t.noCenter&&this.contentEl.css("textAlign","left"),this.theme(t.theme)}},{name:"destroy",type:"custom",handler:function(){var t=this,e=l._showTips;r.forReverse(e,(function(i,n){i._index===t._index&&e.splice(n,1)}))}}],index:1,wrap:function(t,e){if(!t||!e)return;e.content=t.html();var i=this.show(e);return t.tips=i,i.listen("render",(function(){o.setEvents()})),i.listen("destroy",(function(){t.destroy&&t.destroy()})),t.listen("destroy",(function(){i.destroy&&i.destroy()})),i},show:function(t){var e,i=n(t.target),o=new l(r.extend({},t,{noRender:!0})),a=!!t.noEnterLeave;return i.on("mouseenter",s).on("mouseleave",d).on("click",d),!a&&o.listen("render",(function(){o.getEl().on("mouseenter",s).on("mouseleave",d)})),o.listen("destroy",(function(){window.clearTimeout(e),i.unbind("mouseenter",s).unbind("mouseleave",d).unbind("click",d),o.getEl().unbind("mouseenter",s).on("mouseleave",d)})),o.listen("forceUniqHide",(function(){window.clearTimeout(e),o.hide()})),l._showTips.push(o),o;function s(){window.clearTimeout(e),e=window.setTimeout((function(){c(),e=window.setTimeout((function(){if(!o.__destroy){if(document.contains&&!document.contains(i.get(0)))return d();c(),e=window.setTimeout(arguments.callee,500)}}),500)}),100)}function c(){r.forEach(l._showTips,(function(t){t!==o&&t.fire("forceUniqHide")})),o.render(),o.show(),o.attachTo(i,t.attach)}function d(){window.clearTimeout(e),a&&o.hide(),!a&&(e=window.setTimeout((function(){o.hide()}),100))}},title:function(t,e){e=e||{};var i=this,o={},a=l._commonTips=l._commonTips||new l(r.extend({},e.initConf,{noRender:!0}));if(t=n.trim(t),e=e||{},!t)return;if(t=t.replace(/^\.+/,""),d(),e.keep){var s,c=function(){window.clearTimeout(s),s=window.setTimeout(d,250)};return n(document).on("mousemove",c),function(){n(document).unbind("mousemove",c),window.clearTimeout(s)}}function d(){var s=n("."+t);0!==s.length&&r.forEach(s,(function(r){var s;r=n(r);var c=n.trim(r.attr("data-tips-index")),l=n.trim(r.attr("data-title"))||n.trim(r.attr("title")),d="white"===r.attr("data-theme");if(!c||!o[c]){r.removeAttr("title"),r.attr("data-title",l);var h=n.trim(i.index++);r.attr("data-tips-index",h),o[h]=!0,!e.keepCls&&r.removeClass(t),r.on("mouseenter",(function(t){window.clearTimeout(s),a._updateTxt(r,e.attachConf),a.theme(d),s=window.setTimeout((function(){if(document.contains&&!document.contains(r.get(0)))return u(a,s);a._updateTxt(r,e.attachConf),s=window.setTimeout(arguments.callee,500)}),500)})).on("mouseleave",(function(){u(a,s)})),r.on("click",(function(){u(a,s)}))}}))}function u(t,e){window.clearTimeout(e),t.hide()}},titleEl:function(t,e,i){2===arguments.length&&r.isFunction(e)&&(i=e);var o=500;function a(t,e){window.clearTimeout(e),t.hide()}r.forEach(t,(function(t){t=n(t);var r,s=new l({noRender:!0}),c="white"===t.attr("data-theme");t.on("mouseenter",(function(i){window.clearTimeout(r),s.theme(c),s._updateTxt(t,e),r=window.setTimeout((function(){if(document.contains&&!document.contains(t.get(0)))return a(s,r);s._updateTxt(t,e),r=window.setTimeout(arguments.callee,o)}),o)})).on("mouseleave",(function(){a(s,r)})),t.on("click",(function(){a(s,r)})),i&&i(s)}))}},{initialize:function(t){t.renderTo=t.renderTo||n(document.body)},topArrow:function(t){this.getEl().removeClass("top bottom").addClass(!1===t?"bottom":"top")},val:function(t,e){if(t=(t=n.trim(t)).replace(/(\n)+|(\\n)+/g,"<br />"),!this.rendered)return;this.contentEl.html(t||"&nbsp;"),!0===e&&this.fixPosition()},attachTo:function(t,e){var i=this.getEl();if(!(t=n(t)).get(0))return;var o=s.attachTo(r.extend({zIndex:1e4},e,{el:this.getEl(),target:t}));this.topArrow(!!o.verReverse);var a=i.find("div.tooltip-arrow"),c=t.outerWidth(),l=i.outerWidth(),d=parseInt(i.css("left"),10),u=0;if(!e||!e.horz)if(o.reverse){a.css("left","50%"),u=1+(l-c)/2;var h=parseInt(a.css("left"),10);a.css("left",Math.min(h+u,l-13))}else if((d-=(l-c)/2)<1&&(u=1-d,d=1),i.css("left",d),a.css("left","50%"),u>0){h=parseInt(a.css("left"),10);a.css("left",Math.max(h-u,13))}},fixPosition:function(){var t=this.rawConfig;this.attachTo(t.target,t.attach)},theme:function(t){var e=this.getEl();t=!!t,this.isWhite!==t&&(e[t?"addClass":"removeClass"]("tooltip-info"),e.find(".tooltip-arrow").html(t?"<i></i>":""),this.isWhite=t)},_updateTxt:function(t,e){if(!(t=n(t)).get(0))return;var i="1"===t.attr("data-encode"),r=n.trim(t.attr("title"))||n.trim(t.attr("data-title")),o=n.trim(t.attr("data-title"));r=i?c.encodeHTML(r):r,t.removeAttr("title"),r!==o&&(t.attr("data-title",r),t.removeAttr("data-encode"));if(!r)return;this.render(),this.show(),this.val(r),this.attachTo(t,e)}})},function(t,e,i){i(2);var n=i(0),r=i(3),o=window.FormData,a=t.exports=r.create();n.extend(a,{support:!!(o&&window.XMLHttpRequest&&window.JSON&&window.addEventListener)}),n.extend(a.prototype,{initialize:function(t){this.rawConfig=t||{}},uploadFile:function(t,e){var i,n=this,r=n.rawConfig,a=t.size,s=r.name||"file",c=0,l=0;if(!t||0===a)return;if(!e||a<=256e3){var d=new o;d.append(s,t),n.uploadForm(d)}else u();function u(){if(l=0,c<a){t.slice(c,256e3);var e=new o;e.append(s,e),function d(t){n.upload({data:t,url:r.url,extData:r.extData,XMLHttpRequest:r.XMLHttpRequest,beforeSend:r.beforeSend,noSupport:r.noSupport,call:function(t){i=t,c+=256e3,u()},error:function(e){var i=++l<3;i&&d(t),!i&&r.error&&r.error.call(n,e)},progress:function(t,e,i){e+=c,r.progress&&r.progress(+(100*e/a).toFixed(2),e,a)}})}(e)}else r.call&&r.call.call(n,i)}},uploadBlob:function(t,e){var i=this.rawConfig,n=new o;n.append(i.name||"file",t,e),this.uploadForm(n,i)},uploadForm:function(t){return this.upload(n.extend({},this.rawConfig,{data:t}))},upload:function(t){var e=this,i=(t=t||{}).data;if(!i)return;if(!a.support)return t.noSupport&&t.noSupport.call(e);n.forEach(t.extData,(function(t,e){e&&t&&i.append(e,t)}));var r=new(t.XMLHttpRequest||window.XMLHttpRequest);r.upload.addEventListener("progress",(function(i){var n=i.loaded,r=i.total||1,o=+(100*n/r).toFixed(2);t.progress&&t.progress.call(e,o,n,r)}),!1),r.onreadystatechange=function(i){if(4===r.readyState){var o=n.json(r.responseText,{msg:"出现错误，请重试"}),a=n.id(o.code),s="0"===a;o.msg="999"===a?"上传失败，请重新登录":o.msg;var c=s?"call":"error";t[c]&&t[c].call(e,o)}},r.open("POST",t.url,!0),t.beforeSend&&t.beforeSend(r),r.send(i)}})},,function(t,e,i){var n=i(2),r=(i(0),i(6)),o=i(3),a=i(4),s=t.exports=o.create();o.mix(s,r,{_template:'<div class="subject-upload-inner" style="margin:0"></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this;t.docClick=function(){t.popup&&t.popup.close()},t.showProgress()}},{name:"destroy",type:"custom",handler:function(){n(document).unbind("click",this.docClick)}}],show:function(t){var e=new s(t=t||{});a.wrap(e,{content:e.html(),width:540,hasNoTitle:!0,hasNoMove:!0,hasNoMargin:!0,noUnique:!0});return e}},{showProgress:function(t,e){var i=this.getEl();t=n.trim(t)||" ",e=e||0,i.html('<div class="upload-progress-bar"><span class="progress-txt" style="color:#ccc;">'+t+'</span><div class="progressing" style="width:'+e+'%;"></div></div>'),n(document).unbind("click",this.docClick)},showError:function(t){this.getEl().html('<a href="javascript:void(0);" class="btn btn-block btn-default"><span class="upload-rusult-ico"><span class="fui-cross"></span></span>'+t+"</a>"),n(document).one("click",this.docClick)},close:function(){this.popup&&this.popup.close()}})},function(t,e,i){var n=i(2),r=i(0),o=i(6),a=i(3),s=i(104),c=i(10),l=i(8),d=i(196),u=(i(43),i(25),t.exports=a.create());a.mix(u,o,{_template:['<div class="btn-group" style="display:block;">','<ul class="dropdown-menu js-menu" style="position:static;float:none;border-bottom:0;overflow-x:hidden;"></ul>','<div style="padding:20px 0;text-align:center;font-size:14px;display:none;background:#fff;border:1px solid #d4d4d4;" class="js-none">没有结果</div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){this.rawConfig;var t=this.getEl();this.ulEl=t.find("ul.js-menu"),this.noneEl=t.find("div.js-none"),this.initIpt(),this.initKeyboard()}},{name:"click ul.js-menu li.js-item",handler:function(t){var e=n(t.currentTarget);this.selectItem(e)}}],show:function(t){var e=this,i=new u(t=t||{});s.wrap(i,{target:t.input,targetHover:t.targetHover,attach:t.attach,content:i.html(),needReWidth:t.needReWidth,noHover:t.noHover,noEnterLeave:t.noEnterLeave,noLeave:t.noLeave,zIndex:t.zIndex,attachShow:function(){i.refreshList()},attachHide:function(){window.clearTimeout(e._refreshListTimer),i.clear()}});return i}},{initialize:function(t){this.isHide=!0,this.selectCls=t.selectCls||"selected",this.ipt=n(t.input),this.cache={}},initIpt:function(){var t=this;t.ipt.on("keyup",(function(e){t.refreshList()}))},initKeyboard:function(){var t=this,e=t.rawConfig;t.getEl();t.keyboardItem=d.mix({el:n(e.focusIpt).length>0?e.focusIpt:t.ipt,canFire:function(){return!t.isHide},getItem:function(){return t.ulEl.find("li.js-item")},up:function(e,i,r){n(r[i]).removeClass(t.selectCls),n(r[e]).addClass(t.selectCls),l.fixScrollPos(t.ulEl,r[e])},down:function(e,i,r){n(r[i]).removeClass(t.selectCls),n(r[e]).addClass(t.selectCls),l.fixScrollPos(t.ulEl,r[e])},selected:function(e,i,n){e>=0&&t.selectItem(n[e])},keyup13:function(t,i,n,r){(!i||n<0)&&e.okNone&&e.okNone()}})},refreshList:function(){var t=this,e=t.ipt,i=t.rawConfig,r=n.trim(e.val());if(window.clearTimeout(t._refreshListTimer),r===t._lastVal)return;t.clear(),t._lastVal=r;var o=t.cache[r];if(o)return i.dealList&&(o=i.dealList(o.slice(0))),t.renderList(o,r);t._refreshListTimer=window.setTimeout((function(){i.reqList(r,(function(o){o&&!i.noCache&&(t.cache[r]=o);var a=n.trim(e.val());a===r&&(i.dealList&&o&&(o=i.dealList(o.slice(0))),t.renderList(o||[],a))}))}),100)},renderList:function(t,e){var i=this,o=i.rawConfig,a=!!o.needSame,s="",c={};r.forEach(t,(function(t){var n=i.getId(),r=i.getItem(t);r._sid=n,c[n]=r,(a||r.text!==e)&&(s+=i.getItemStr(r))})),i._itemMap=c,i.ulEl.html(s),o.showNone?(i.ulEl[s?"show":"hide"](),i.noneEl[s?"hide":"show"](),s&&i.hideList(!1),i.isHide=!s):i.hideList(!s);if(s){var l=Math.max(-1,+o.defaultIndex||0);l>=0&&n(i.ulEl.find("li.js-item")[l]).addClass(i.selectCls),i.keyboardItem&&(i.keyboardItem.index=l)}(o.rePositionInList||o.attach&&o.attach.verReverse)&&i.attach.fixPosition()},clear:function(){this.ulEl.scrollTop(0),this.ulEl.find("."+this.selectCls).removeClass(this.selectCls),this.keyboardItem.clear(),this._lastVal=null},getItem:function(t){var e=this.rawConfig;return e.getItem?e.getItem(t):t},getItemStr:function(t){var e=this.rawConfig;if(e.getItemStr)return e.getItemStr(t);return c.execTpl('<li class="js-item" data-id="#{_sid}"><a href="javascript:void(0);">#{text}</a></li>',t)},selectItem:function(t){var e=this.rawConfig,i=n(t).attr("data-id"),r=i?this._itemMap[i]:null;r&&(e.ok&&e.ok(r),this.clear(),this.hideList())},hideList:function(t){this.rawConfig;var e=this.getEl();t=!1!==t,this.isHide=t,e[t?"removeClass":"addClass"]("open"),this.fire("hideList",t)},getId:function(){return this.id=(this.id||0)+1,r.id(this.id)}})},function(t,e,i){t.exports=i(28)(16)},function(t,e,i){t.exports=i(28)(12)},,,,function(t,e,i){var n=i(2),r=i(0),o=i(6),a=i(3),s=(i(10),i(8),i(118)),c=t.exports=a.create();a.mix(c,o,{_template:['<div class="btn-group">','<button class="btn btn-default dropdown-toggle">','<span class="js-txt #{txtCls}">#{text}</span>','<span class="caret"></span>',"</button>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl(),e=this.rawConfig;this.btnEl=t.find("button.dropdown-toggle"),this.txtEl=t.find("span.js-txt"),this.size(e.size),this.initSel(),this.updateText();var i=this.btnEl.width();!e.autoWidth&&i>20&&this.txtEl.outerWidth(i),this.isDisabled=!!e.disabled,this.disabled(this.isDisabled)}},{name:"destroy",type:"custom",handler:function(){this.attachSel&&this.attachSel.destroy()}}],transformConf:function(t){var e=t.find("ul.dropdown-menu li"),i=[],o="";return r.forEach(e,(function(t,e){var r=(t=n(t)).hasClass("selected");i.push({text:n.trim(t.text()),value:t.attr("data-val")||e,checked:r}),r&&(o=n.trim(t.text()))})),o&&t.find("button.dropdown-toggle .dropdown-value").html(o),{text:o,options:i}}},{initSel:function(){var t=this,e=t.rawConfig,i=t.getEl(),n=(t.attachSel=s.show({target:t.getEl(),options:e.options,zIndex:e.zIndex,noHover:!!e.noHover,needSearch:!!e.needSearch,clickItemNoHide:e.clickItemNoHide,needClick:!0,needReWidth:!0,needKeyboard:!0,attach:{extOffset:{left:-1,top:-2}},canShow:function(){return!t.isDisabled},listeners:{select:function(){t.error(!1)},change:function(){t.fire("change"),t.updateText(),e.change&&e.change.call(t)}}})).attach;n.listen("attachShow",(function(){i.addClass("open")})),n.listen("attachHide",(function(){i.removeClass("open")}))},isOpen:function(){return this.getEl().hasClass("open")},open:function(t){this.getEl();this.attachSel.attach[!1===t?"forceHide":"forceShow"]()},select:function(t,e){var i=this,n=(i.rawConfig,i.attachSel);if(0===arguments.length)return n.index();n.index(t,!e),i.updateText()},val:function(t,e){var i=this,n=i.rawConfig,r=i.attachSel;n.options;if(0===arguments.length)return r.val();r.val(t,!e),i.updateText()},text:function(){this.rawConfig;var t=this.attachSel.getSelectedItem();return t&&(t.text||n(t.html).text())||""},updateText:function(){var t=this.rawConfig,e=this.attachSel.getSelectedItem(),i=n.trim(e?e.text:t.text||"请选择");this.txtEl.html(i),this.txtEl.attr("title",i.replace(/<[^>]+>/g,""))},error:function(t){this.getEl()[!1===t?"removeClass":"addClass"]("error")},size:function(t){var e=this.getEl(),i={xsmall:"btn-group-xs",small:"btn-group-sm",large:"btn-group-lg"}[t||""];e.removeClass("btn-group-sm btn-group-lg"),i&&e.addClass(i)},clear:function(t){this.rawConfig;this.txtEl.html(t),this.attachSel.clear()},disabled:function(t){this.isDisabled=!1!==t,this.getEl()[this.isDisabled?"addClass":"removeClass"]("disabled")},_getData:function(t){return{text:t.text,txtCls:t.autoWidth?"":"dropdown-value",menuCls:t.autoWidth?"dropdown-auto":""}},replaceOptions:function(t){this.rawConfig.options=t,this.attachSel&&this.attachSel.destroy(),this.initSel(),this.updateText()}})},,,,,,,function(t,e,i){var n=i(2),r=i(0),o=[{id:"1",name:"C(clang 3.9)",template:"cTemplate",cm:{plugin:"clike",name:"text/x-csrc"}},{id:"2",name:"C++11(clang++ 3.9)",template:"cppTemplate",tplId:"cTpl",cm:{plugin:"clike",name:"text/x-c++hdr"}},{id:"22",name:"C++14(g++5.4)",template:"cpp14Template",tplId:"cpp14Tpl",cm:{plugin:"clike",name:"text/x-c++hdr"}},{id:"3",name:"Pascal(fpc 3.0.2)",template:"pascalTemplate",tplId:"pascalTpl",cm:{plugin:"pascal",name:"text/x-pascal"}},{id:"4",name:"Java(javac 1.8)",template:"javaTemplate",tplId:"javaTpl",cm:{plugin:"clike",name:"text/x-java"}},{id:"5",name:"Python(2.7.3)",template:"pythonTemplate",tplId:"pythonTpl",cm:{plugin:"python",name:"text/x-python"}},{id:"6",name:"perl"},{id:"7",name:"scheme"},{id:"8",name:"PHP(7.1)",template:"phpTemplate",tplId:"phpTpl",cm:{plugin:"php",name:"application/x-httpd-php"}},{id:"9",name:"C#(mcs 5.4)",template:"csharpTemplate",tplId:"cSharpTpl",cm:{plugin:"clike",name:"text/x-csharp"}},{id:"10",name:"ObjC(gcc 5.4)",template:"objCTemplate",tplId:"objCTpl",cm:{plugin:"clike",name:"text/x-c++hdr"}},{id:"11",name:"Python3(3.5.2)",template:"python3Template",tplId:"python3Tpl",cm:{plugin:"python",name:"text/x-python"}},{id:"12",name:"Frontend",cm:{plugin:"clike",name:"text/x-csrc"}},{id:"13",name:"JavaScript(Node 6.11.4)",template:"jsTemplate",tplId:"jsTpl",cm:{plugin:"javascript",name:"text/javascript"}},{id:"14",name:"JavaScript (V8 6.0.0)",template:"jsV8Template",tplId:"jsV8Tpl",cm:{plugin:"javascript",name:"text/javascript"}},{id:"15",name:"Sql(3.7.9)",template:"sqlTemplate",tplId:"sqlTpl",cm:{plugin:"sql",name:"text/x-mysql"}},{id:"16",name:"R(2.14.1)",template:"rTemplate",tplId:"rTpl",cm:{plugin:"r",name:"text/x-rsrc"}},{id:"17",name:"Go(1.9.1)",template:"goTemplate",tplId:"goTpl",cm:{plugin:"go",name:"text/x-go"}},{id:"18",name:"TCL(TestCase L)",template:"tclTemplate",tplId:"tclTpl",cm:{plugin:"clike",name:"text/x-c++hdr"}},{id:"19",name:"Ruby(2.4.2)",template:"rubyTemplate",tplId:"rubyTpl",cm:{plugin:"ruby",name:"text/x-ruby"}},{id:"20",name:"Swift(4.0)",template:"swiftTemplate",tplId:"swiftTpl",cm:{plugin:"swift",name:"text/x-swift"}},{id:"21",name:"matlab(Octave 4.0.0)",template:"matlabTemplate",tplId:"matlabTpl",cm:{plugin:"clike",name:"text/x-csrc"}},{id:"23",name:"bash(GNU bash4.3.46)",template:"bashTemplate",tplId:"bashTpl",cm:{plugin:"clike",name:"text/x-csrc"}},{id:"24",name:"pypy2(pypy2.7.13)",template:"pypy2Template",tplId:"pypy2Tpl",cm:{plugin:"python",name:"text/x-python"}},{id:"25",name:"pypy3(pypy3.6.1)",template:"pypy3Template",tplId:"pypy3Tpl",cm:{plugin:"python",name:"text/x-python"}},{id:"101",name:"Python3",cm:{plugin:"python",name:"text/x-python"}},{id:"102",name:"Swift",cm:{plugin:"swift",name:"text/x-swift"}},{id:"103",name:"Lua(luac 5.2)",cm:{plugin:"lua",name:"text/x-lua"}},{id:"104",name:"Go(go 1.1.1)",cm:{plugin:"go",name:"text/x-go"}}],a=r.toMap(o,(function(t){return{key:t.id,value:t}})),s=["2","22","4","1","5","11","24","25","9","8","14","13","16","17","19","20","10","3","15","18","21","23"],c=["1","2","4","5","8","9","11","13","14"],l=["1","2","4","5","11","8","9","13","14","17"];t.exports={langCpp:"2",langJava:"4",langSql:"15",langTCL:"18",langFE:"26",isJudgeVoj:function(t,e){return("3"===t||"8"===t)&&((r.isString(e)?Str.split(e,","):e)||[]).length>0},getQuestionLang:function(t){return t?s.slice(0):r.without(s,this.langTCL)},getFilterLang:function(){return[{text:"Java",value:"101"},{text:"C++",value:"102"},{text:"C",value:"104"},{text:"Pascal",value:"105"},{text:"Python2",value:"106"},{text:"Python3",value:"107"},{text:"PyPy2",value:"112"},{text:"PyPy3",value:"113"},{text:"其他",value:"115"}]},getHintLang:function(){return c.slice(0)},getPreTplLang:function(){return l.slice(0)},getItemById:function(t,e){return t=n.trim(t),("voj"===e?LANGVOJ_MAP:a)[t]},getNameById:function(t,e){return(this.getItemById(t,e)||{}).name||""},getCMById:function(t,e){return(this.getItemById(t,e)||{}).cm},getTemplateById:function(t,e){return(this.getItemById(t,e)||{}).template},getExample:function(){return r.map(n(".js-sample-io"),(function(t){var e=(t=n(t)).find("textarea[data-type=input]"),i=t.find("textarea[data-type=output]");return{input:e.val()||"",output:i.val()||""}}))},getTpl:function(t){var e=this,i=[];return t=t||{},r.forEach(s,(function(r){var o=e.getItemById(r);if(o){var a=t[r]||o.tplId||"";i.push({id:r,tpl:n("#"+a)})}})),i},getTplByData:function(t,e,i){e=e||{},t=r.id(t);var a=0===(i||[]).length?null:r.toMap(i,(function(t){return{key:t,value:!0}})),s=r.toMap(o,(function(t){return{key:t.id,value:t.template}})),c=[],l=[];return r.forEach(["2","22","4","1","5","11","24","25","9","8","14","13","16","17","19","20","10","3","21","23"],(function(t){var i={2:!0,4:!0}[t];if(a){r=d(e[s[t]]);var n=i?d(e[s[t]],!0):r;r&&a[t]&&c.push({id:t,tpl:r}),n&&l.push({id:t,tpl:n})}else{var r;(r=d(e[s[t]],i))&&c.push({id:t,tpl:r})}})),0===c.length&&(c=l),c.push({id:"15",tpl:d(e[s[15]],"4"===t)}),c.push({id:"18",tpl:d(e[s[18]],"5"===t)}),c;function d(e,i){if(i||"0"===t||"1"===t&&e)return n("<textarea>"+(e||"")+"</textarea>")}},getTplVoj:function(t){var e=this,i=[];return r.forEach(t,(function(t){var r=e.getItemById(t.renderLikeNowcoderLanguage);r&&i.push({id:t.id,idNc:t.renderLikeNowcoderLanguage,tpl:n("#"+(r.tplId||"")),name:t.name})})),i},getTplFE:function(t){return[{id:"html",tpl:n("#"+((t=t||{}).html||"htmlTpl"))},{id:"css",tpl:n("#"+(t.css||"cssTpl"))},{id:"javascript",tpl:n("#"+(t.javascript||"javascriptTpl"))}]},getTplFEByData:function(t){return[{id:"html",tpl:e((t=t||{}).cppTemplate)},{id:"css",tpl:e(t.cTemplate)},{id:"javascript",tpl:e(t.javaTemplate)}];function e(t){return n("<textarea>"+(t||"")+"</textarea>")}},checkTpl:function(t,e){t=r.id(t);var i=[],o=r.toMap(e,(function(t){return{key:t.id,value:t}}));"4"===t?i.push(o[this.langSql]):"5"===t?i.push(o[this.langTCL]):r.forEach(e,(function(e){var r=e.id;if("15"!==r&&"18"!==r){var o={2:!0,4:!0}[r];(o=(o=o||"0"===t)||"1"===t&&e.tpl&&n(e.tpl).length>0)&&i.push(e)}}));return i}}},,,,,,,,,,function(t,e,i){var n=i(0),r=i(3),o=i(10),a=t.exports=r.create(),s=function(t){return"scope."};function c(){var t={};n.forEach(arguments,(function(e){var i=null;if(n.isString(e)){i={};for(var r,a=/\s*([\w\-]+)\s*:([^;]*)(;|$)/g;r=a.exec(e);){var s=o.trim(r[1]),c=o.trim(r[2]);i[s]=c}}else n.isObject(e)&&(i=e);n.extend(t,i)}));var e="";return n.forEach(t,(function(t,i){("display"!==(i=i.replace(/[A-Z]/,(function(t){return"-"+t.toLowerCase()})))||"ignore"!==t)&&(e+=i+":"+t+";")})),e}function l(t){if(t){var e=n.isArray(t)?t:t.split(/\s+/);return(e=n.uniq(e)).join(" ")}return""}n.extend(a,{execTpl:function(t,e){var i=this._pool=this._pool||{},r=(t=n.isArray(t)?t.join(""):t,i[t]);r||(r=this.parseNode(t),i[t]=r);var o="";return n.forEach(r,(function(t){o+=t.render(e)})),o},parseNode:function(t){t=t.replace(/\\/g,"\\\\");var e=this._split(t,/<[^<>]*>/g),i=[];return n.forEach(e,(function(t){if(""!==t){var e,n=/<\s*\/\s*([\w-]+)>/.exec(t),r=n?null:r=/<\s*([\w-]+)(\s*|\s+[^<>]+)>/.exec(t);if(n){var o=n[1],s=function(t,e){var i,n=[];for(;t.length>0;)if(i=t.pop(),n.push(i),!i.isClose&&i.tag===e)return n.reverse(),n;return null}(i,o);if(!s||0===s.length)throw new Error("标签不匹配");(e=s.shift()).children=s,e.isClose=!0,i.push(e)}else r?(e=new a({tag:r[1],attr:r[2]}),i.push(e)):(e=new a({text:t}),i.push(e))}})),i},_split:function(t,e){var i="_____node_____";return t.replace(e,(function(t){return i+t+i})).split(i)}}),n.extend(a.prototype,{initialize:function(t){t=t||{},this.tag=o.trim(t.tag),this.isText=!this.tag,this.text=this.isText&&t.text||"",this.isSingle=/^(?:area|base|basefont|br|col|command|dialog|embed|hr|img|input|isindex|keygen|link|meta|param|source|track|wbr)$/gi.test(t.tag),this.isClose=this.isText||this.isSingle,this.initAttr(t.attr)},initAttr:function(t){var e={};if(!this.isText)for(var i,n=/\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g,r="<div "+t+">";i=n.exec(r);){var o=(i[1]||i[2]||i[4]||i[6]).toLowerCase(),a=(i[2]?i[3]:i[4]?i[5]:i[7])||"",s=0===o.indexOf(":")?o.slice(1):o;(s in e||":"+s in e)&&this.error("重复定义的属性值："+s+"\n"+t),e[o]=a||"v-else"===o}this.attr=e},getStyle:c,getClass:l,render:function(t){return this.getFunc()(t,{getStyle:c,getClass:l})},getFunc:function(t){var e=this,i=e.attr,r=[],o=t||null;if(e._fFunc)return e._fFunc;if(r.push('var __sHtml = "";'),e.isText){var c=a._split(e.text||"",/(#{[^}]*})/g);n.forEach(c,(function(t){if(""!==t){var e=/#{([^}]*)}/.exec(t);e?r.push("__sTemp = ("+y(e[1])+')(scope, util);\n__sHtml += __sTemp === undefined || __sTemp === null ? "" : __sTemp'):r.push('__sHtml += "'+t+'";')}}))}else{var l=i["v-for"],d="";if(l){var u=/^([A-Za-z_$\w$\s\(\)\,]+)\s+in\s+([A-Za-z_$][\w\.$]*)$/.exec(l);!u&&e.error("错误的v-for语法");var h=/\(?([A-Za-z_$][\w$]*)\s*,?\s*([A-Za-z_$][\w\.$]*)?\)?/.exec(u[1]),p=h[1]||"",f=h[2]||"",g=u[2],v=(o||s)(g);r.push("(function () {"),r.push("for (var i = 0; i < ("+v+g+" || []).length; i++) {"),r.push("(function (scope"+(f?", "+f:"")+") {"),r.push("var "+p+" = "+v+g+"[i];"),d="})(scope, i)\n}\n})()",o=function(e){var i=e.split(".")[0].split("[")[0];return i===p||f&&i===f?"":t?t(e):"scope."}}i["v-if"]&&r.push("if (("+y(i["v-if"])+")(scope, util)) {"),r.push('__sHtml += "<'+e.tag+'";');var m={"v-if":1,"v-else-if":1,"v-else":1,"v-for":1};r.push('var __sStyle = ""; var __oStyle = ""; var __sCls = "";');if(n.forEach(i,(function(t,e){m[e]||("class"===e?r.push('__sCls = "'+t+'";'):":class"===e?r.push("__sCls = ("+y(t)+")(scope, util);"):"style"===e?r.push('__oStyle = "'+t+'";'):":style"===e?r.push("__oStyle = ("+y(t)+")(scope, util);"):"v-show"===e?r.push("__sStyle += !!("+y(t)+')(scope, util) ? "display:ignore" : "display:none;";'):0===e.indexOf(":")?(e=e.slice(1),t="("+y(t)+")(scope, util)",r.push('__sHtml += " '+e+'=\\"" + '+t+' + "\\"";')):r.push('__sHtml += " '+e+'=\\"'+t+'\\"";'))})),r.push('__sHtml += !__sCls ? "" : " class=\\"" + util.getClass(__sCls) + "\\"";'),r.push('__sHtml += !__oStyle && !__sStyle ? "" : " style=\\"" + util.getStyle(__oStyle, __sStyle) + "\\"";'),r.push('__sHtml += "'+(e.isSingle?"/>":">")+'";'),!e.isSingle){var w="";n.forEach(e.children,(function(t){var i=t.attr,n=!i["v-for"]&&i["v-if"]||i["v-else-if"]||i["v-else"];!i["v-for"]&&i["v-if"]?r.push("if (("+y(i["v-if"])+")(scope, util)) {"):i["v-else-if"]?("if"!==w&&"else-if"!==w&&e.error("v-else-if需要在v-if或者v-else-if后面"),r.push("else if (("+y(i["v-else-if"])+")(scope, util)) {")):i["v-else"]&&("if"!==w&&"else-if"!==w&&e.error("v-else需要在v-if或者v-else-if后面"),r.push("else {")),w=i["v-if"]?"if":i["v-else-if"]?"else-if":i["else"]?"else":"",r.push("__sHtml += ("+t.getFunc(o).toString()+")(scope, util);"),n&&r.push("}")})),r.push('__sHtml += "</'+e.tag+'>"')}i["v-if"]&&r.push("}"),d&&r.push(d)}r.push("return __sHtml;");var b=r.join("\n");return e._fFunc=new Function("scope","util",b),e._fFunc;function y(t){return e.parseExp(t,o).toString()}},parseExp:function(t,e){e=e||s,t=o.trim(t);var i=this.isSimplePath(t)&&t.indexOf("[")<0?e(t)+t:this.makeGetterBody(t,e);return this.makeGetterFn(i)},makeGetterBody:function(t,e){var i=/\n/g,n=/"(\d+)"/g,r=new RegExp("^("+"Math,Date,this,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,parseInt,parseFloat".replace(/,/g,"\\b|")+"\\b)"),o=[],a=t.replace(/[\{,]\s*[\w\$_]+\s*:|('(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`)|new |typeof |void /g,(function(t,e){var n=o.length;return o[n]=e?t.replace(i,"\\n"):t,'"'+n+'"'})).replace(/\s/g,"");return e=e||s,a=(" "+a).replace(/[^\w$\.](?:[A-Za-z_$][\w$]*)/g,(function(t){var i=t.charAt(0),o=t.slice(1);return r.test(o)?t:(o=o.indexOf('"')>-1?o.replace(n,c):o,i+e(o)+o)})).replace(n,c);function c(t,e){return o[e]}},makeGetterFn:function(t){try{return new Function("scope","return "+t+";")}catch(e){return function(){}}},isSimplePath:function(t){return/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/.test(t)&&!/^(?:true|false|null|undefined|Infinity|NaN)$/.test(t)&&"Math."!==t.slice(0,5)},error:function(t){throw new Error(t)}})},function(t,e,i){t.exports=i(28)(34)},function(t,e,i){var n=i(2),r=i(0),o=i(10);t.exports={replaceLink:function(t){var e=!1,i=(t||"").split(/(<\s*\/?\s*?\w+\s*[^>]*?>)/),a=[];return r.forEach(i,(function(t,n){if(t){var d=/<\s*(\/)?\s*?(\w+)\s*[^>]*?>/i.exec(t)||[],u=(d[2]||"").toLowerCase(),h="/"===d[1];if(!h&&u&&a.push(u),h&&u&&a.pop(),!u&&!s("a")&&!s("pre")&&c(t)){t=o.decodeHTML(t);var p=r.map(t.split(/((?:(?:(?:http|https|ftp):\/\/)|(?:www\.))[a-z0-9-\.]+\.[a-z]+[a-z0-9-\/\.:\?_=&#%]*)/gi),l);i[n]=p.join(""),e=!0}}})),e?i.join(""):t;function s(t){return t=(t||"").toLowerCase(),r.contains(a,t)}function c(t){return/(((http|https|ftp):\/\/)|(www\.))[a-zA-Z0-9-\.]+\.[a-zA-Z]+[a-zA-Z0-9-\/\.:\?=&]*/.test(t||"")}function l(t){if(!c(t))return t?o.encodeHTML(t):"";var e=n.trim(t);return'<a href="'+(e=e.indexOf("://")<0?"http://"+e:e)+'" target="_blank">'+o.encodeHTML(t)+"</a>"}},txt2html:function(t){return t=(t=(t||"").replace(/\n/gi,"<br />")).replace(/\s+([^<>]+)(?=<)|\s+([^<>]+)$/g,(function(t){return t.replace(/\s/g,"&nbsp;")}))},html2txt:function(t){return t=(t=(t=(t=(t=(t=t.replace(/&nbsp;/gi," ")).replace(/\n\s*\n/g,"\n")).replace(/<br[^>]*>/gi,"\n")).replace(/<\/p><p[^>]*>/gi,"\n")).replace(/<\/div><div[^>]*>/gi,"\n")).replace(/<[^>]+>/g,"")},copy:function(t){if(!(t=t||{}).dealContent)return;if(window.getSelection&&window.getSelection()){var e=r.isArray(t.el)?t.el:[t.el];r.forEach(e,(function(t){t&&n(t).on("copy",i)}))}function i(e){var i=n(e.target),o=e.originalEvent.clipboardData;if(o&&o.setData&&(!{input:1,textarea:1,iframe:1}[i.prop("tagName").toLowerCase()]&&!i.closest("input,textarea,iframe").get(0))){var a=window.getSelection(),s=a.toString();if(!(s.length<(+t.max||0))){s=r.map(s.split(""),(function(t){return 160===t.charCodeAt(0)?" ":t})).join("");var c=a.getRangeAt(0).cloneContents(),l=n("<div></div>").append(c).html();t.canCopy&&!t.canCopy(i,l,s)||(t.dealContent&&(s=t.dealContent(i,s)),t.dealContent&&(l=t.dealContent(i,l,!0)),o.setData("text/plain",s||""),o.setData("text/html",l||""),e.preventDefault())}}}},clear:function(t,e){var i=this;if(!t||!r.isObject(e)||0===r.keys(e))return t||"";var n=e.removeTag||{};return t.replace(/(\s*)<(\/)?([\w\-:]+)((?:\s+|(?:\s+[\w\-:]+)|(?:\s+[\w\-:]+=[^\s"'<>]+)|(?:\s+[\w\-:"]+="[^"]*")|(?:\s+[\w\-:"]+='[^']*'))*)(\/)?>(\s*)/g,(function(t,o,a,s,c,l,d){var u=t,h=o||"",p=a||"",f=s.toLowerCase(),g=c||"",v=l?" "+l:"",m=d||"";if(g){var w=i.getAttrList(u);"img"===f&&0===(w.src||"").indexOf("//")&&(w.src="https:"+w.src),g=" ",r.forEach(w,(function(t,i){e.removeStyle&&"style"===i||{align:1}[i]||t&&(g+=i+'="'+t+'" ')}))}return h+"<"+p+(f=n[f]||f)+g+v+">"+m}))},getAttrList:function(t){var e,i={},n=/\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g;for(;e=n.exec(t);){var r=(e[1]||e[2]||e[4]||e[6]).toLowerCase(),o=(e[2]?e[3]:e[4]?e[5]:e[7])||"";i[r]=o}return i}}},,,,,,,,,,,,,,,,,,function(t,e,i){var n=i(2),r=i(6),o=i(3),a=i(0),s=i(8),c=t.exports=o.create();o.mix(c,r,{_template:'<div style="display:none;">#{content}</div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig,e=this.getEl();t.width&&e.outerWidth(t.width),t.height&&e.outerHeight(t.height),this.initAttach(),this.resize()}}],wrap:function(t,e){if(!t||!e)return;var i=new c(e);return t.attach=i,r.setEvents(),i.listen("destroy",(function(){t.destroy()})),t.listen("destroy",(function(){i.destroy()})),i}},{initialize:function(t){if(t.renderTo=t.attachRenderTo,!t.renderTo){var e=n(t.target),i=s.getScrollParent(e);t.renderTo=n(i||document.body)}},initAttach:function(){var t,e,i,r=this,o=r.rawConfig,c=n(o.target),l=r.getEl(),d=!1;if(0===c.length)return;if(r._initAttached)return;r._initAttached=!0,o.noHover||(c.on("focus",p),(o.targetHover||c).on("mouseenter",p).on("mouseleave",f));function u(){window.clearTimeout(t),window.clearTimeout(e),window.clearTimeout(i)}function h(){if(d||o.noHover){var t="none"===l.css("display");t&&r.forceShow(),!t&&r.forceHide(),d=!0}}function p(){u(),e=window.setTimeout(g,100)}function f(e){u(),t=window.setTimeout((function(){v(e)}),100)}function g(){o.canShow&&!o.canShow()||(window.clearTimeout(i),i=window.setTimeout((function(){d=!0}),500),l.show(),m(),r.fire("attachShow"),o.attachShow&&o.attachShow.call(r))}function v(t){d=!1,window.clearTimeout(i),(!o.canHide||o.canHide())&&"none"!==l.css("display")&&(o.attachHide&&o.attachHide.call(r),l.hide(),r.fire("attachHide",t))}function m(){var t=o.attach||{};s.attachTo(a.extend({},t,{el:l,parent:o.renderTo,target:c,verReverse:!!t.verReverse,center:!!t.center,horz:!!t.horz,zIndex:o.zIndex}))}!o.noEnterLeave&&l.on("mouseenter",(function(){r.isMouseEnter=!0,u()})),!o.noEnterLeave&&!o.noLeave&&l.on("mouseleave",(function(){r.isMouseEnter=!1,f({attachLeave:!0})})),o.needClick&&c.on("click",h),r.listen("forceHide",(function(t){u(),v(t)})),r.listen("forceShow",(function(){u(),g()})),r.listen("destroy",(function(){c.unbind("mouseenter",p).unbind("focus",p),c.unbind("mouseleave",f),c.unbind("click",h),o.targetHover&&o.targetHover.unbind("mouseenter",p).unbind("focus",p).unbind("mouseleave",f),l.unbind()})),r.listen("jsFixPosition",(function(){m()}))},fixPosition:function(){this.fire("jsFixPosition")},forceHide:function(t){this.fire("forceHide",t)},forceShow:function(){this.fire("forceShow")},isShow:function(){return"none"!==this.getEl().css("display")},resize:function(){var t=this,e=t.rawConfig;if(e.needReWidth&&!t._isInitResize){t._isInitResize=!0;var i=n(e.target),r=t.getEl(),o=!0;t.listen("attachShow",(function(){var e=i.outerWidth(),n=r.outerWidth(),a=r.width("auto").width();(o||n!==a)&&t.fire("widthChange",e);o=!1}))}},_getData:function(t){return{content:t.content}}})},function(t,e,i){"use strict";var n={name:"nc-status",props:["loading"]},r=i(1),o=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{padding:"20px 0","text-align":"center","font-size":"14px"}},[this.loading?[e("img",{staticStyle:{width:"16px",height:"16px","vertical-align":"middle","margin-right":"5px"},attrs:{src:"//uploadfiles.nowcoder.com/images/20160415/56_1460702753117_F68B6B6E9DBC3FED9828888665D0AF32"}}),this._v(" "),this._t("default",[this._v("加载中，请稍等")])]:[e("img",{staticStyle:{display:"block",width:"63px",height:"72px",margin:"0 auto"},attrs:{src:"//uploadfiles.nowcoder.com/images/20151217/56_1450323797641_364BE8860E8D72B4358B5E88099A935A"}}),this._v(" "),e("div",{staticClass:"mt1"},[this._t("default",[this._v("出现错误，请重试")])],2)]],2)}),[],!1,null,null,null).exports;o.install=function(t){return t.component(o.name,o)};e.a=o},,function(t,e,i){t.exports=i(28)(14)},,,,,,function(t,e,i){var n=i(2),r=i(0),o=i(10),a=i(11),s=i(4),c=i(67),l=i(31),d=i(15);t.exports={initPhoneZip:function(t){n(t.renderTo).html("加载中...");var e=!!t.showNow,i=null,o=new c({renderTo:t.renderTo,renderBy:t.renderBy||"replaceWith",options:[{text:"中国+86",value:"+86",checked:!0}]});o.getEl().css("margin-bottom",0);var a=o.attachSel;return a.noneEl.html("加载中...").show(),a.attach.listen("attachShow",d),e&&d(),o;function d(){!function(t){if(i)return t&&t(null,i);l.getSMSSupportCountries({type:"GET",call:function(e){var n=r.map(e.data,(function(t){return{text:t.name+t.code,value:t.code,checked:"+86"===t.code}}));i=n,t&&t(null,n)},error:function(e){t&&t(e)}})}((function(i,n){if(i)return a.attach.forceHide(),void s.alert(i.msg);a.attach.unlisten("attachShow",d),o.rawConfig.needSearch=!0,o.replaceOptions(n),!e&&o.attachSel.attach.forceShow(),t.zipOptionChange&&t.zipOptionChange(),o.fire("zipOptionChange")}))}},initEduSchool:function(t){var e=t.edu,n=t.school;function r(){n.val("")}function o(){var t=i(177),r=e.val();if(!r)return n.blur(),s.alert("请先选择学历");var o=r&&{"高中":1,"初中":1}[r];(r&&{"博士后":1,"博士":1,"硕士":1,"本科":1,"专科":1}[r]||o)&&(n.blur(),t.show({noUnique:!0,isMiddle:o,call:function(t,e){return e&&n.val(e)}}))}e.$watch?e.$watch("value",r):e.listen("change",r),n.$on?n.$on("focus",o):n.listen("focus",o)},initCaptcha:function(t){var e=n(t.btn),i=t.cpn,o=!!t.isPhone,c=t.check,u=t.val,h=!1,p=0;e.on("click",(function(t){t.preventDefault(),f()})),i&&(i.listen&&i.listen("destroy",g),i.listen&&i.listen("STOP_CAPTCHA_COUNTING",g),i.$on&&i.$on("hook:destroyed",g),i.$on&&i.$on("STOP_CAPTCHA_COUNTING",g));return{send:f};function f(){r.isFunction(t.isPhone)&&(o=t.isPhone()),h||(h=!0,c((function(t){if(!t)return h=!1;var i=u();l[o?"validatePhone":"validateEmail"]({body:o?{phone:n.trim(i)}:{email:n.trim(i)},captcha:{type:d.captcha.sendVerifyCode},call:function(t){var i;i=++p,(h=!1)||(h=!0,e.addClass("btn-default").removeClass("btn-primary"),a.countDown({second:60,call:function(t){return p===i&&e.html(t+"秒后重新获取"),p!==i},end:function(){p===i&&(h=!1,e.html("重新获取验证码"),e.addClass("btn-primary").removeClass("btn-default"))}}))},error:function(t){h=!1,s.alert(t.msg)}})})))}function g(){p++,h=!1}},checkEmail:function(t){var e=t.needRegister,i=t.email,r=t.call,a=this.emailMap=this.emailMap||{},s=n.trim(i.val()),c=a[s];if(!o.isEmail(s))return i.setErrorTips("请输入正确的邮箱"),r&&r(!1);if(!0===c)return e?i.setSuccess():i.setErrorTips("该邮箱已经被注册"),r&&r(!!e);if(!1===c)return e?i.setErrorTips("该邮箱尚未注册"):i.setSuccess(),r&&r(!e);l.checkEmail({query:{email:s},call:function(){a[s]=!1,s===n.trim(i.val())&&(e?i.setErrorTips("该邮箱尚未注册"):i.setSuccess()),r&&r(!e)},error:function(){a[s]=!0,s===n.trim(i.val())&&(e?i.setSuccess():i.setErrorTips("该邮箱已经被注册")),r&&r(!!e)}})},checkPhone:function(t){var e=t.needRegister,i=t.zip,r=t.phone,a=t.call,s=this.phoneMap=this.phoneMap||{},c=n.trim(i.val()),d=n.trim(r.val()),u=c+d,h=s[u];if("+86"===c?!o.isPhone(d):!/^\d{3,}$/.test(d))return r.setErrorTips("请输入正确的手机号码"),a&&a(!1,{isError:!0});if(!0===h)return e?r.setSuccess():r.setErrorTips("该手机号码已经被注册"),a&&a(!!e,{isRegister:!0});if(!1===h)return e?r.setErrorTips("该手机号码尚未注册"):r.setSuccess(),a&&a(!e,{isRegister:!1});l.checkPhone({query:{phone:u},call:function(){s[u]=!1,d===n.trim(r.val())&&(e?r.setErrorTips("该手机号码尚未注册"):r.setSuccess()),a&&a(!e,{isRegister:!1})},error:function(){s[u]=!0,d===n.trim(r.val())&&(e?r.setSuccess():r.setErrorTips("该手机号码已经被注册")),a&&a(!!e,{isRegister:!0})}})},checkPwd:function(t){var e=t.ipt1,i=t.ipt2,r=t.iptOld,o=t.isSubmit,a=n.trim(e.val()),s=n.trim(i.val()),c=n.trim(r?r.val():"");if(e.setNone(),i.setNone(),r&&r.setNone(),!a||!s)return o&!a&&e.setErrorTips("密码不能为空"),o&&!s&&i.setErrorTips("密码不能为空"),!1;if(a!==s)return e.setErrorTips("密码不一致"),i.setErrorTips("密码不一致"),!1;if(a.length<6)return e.setErrorTips("密码不能少于6位"),!1;if(!r)return e.setSuccess(),i.setSuccess(),!0;if(!c)return o&&r.setErrorTips("密码不能为空"),!1;if(c===a)return e.setErrorTips("新旧密码不能相同"),r.setErrorTips("新旧密码不能相同"),!1;return e.setSuccess(),i.setSuccess(),r.setSuccess(),!0},popupBindError:function(t){var e=t.isEmail?"邮箱":"手机",i=new s({noUnique:!!t.noUnique,hasNoTitle:!0,hasNoMove:!0,okTxt:"不，我想保留数据",cancelTxt:"清空此号数据",content:'<div class="confirm-content"><div class="poptip-word"><span class="warning-ico"></span><span class="warning-word">该'+e+"已注册，验证通过后将绑定新账号，现在的账号数据将清空，也无法再登录。确定清空当前账号数据吗？</span></div></div>",width:520,hasNoMask:!1,cancel:t.remove,ok:t.retain});return i.getEl().find(".pop-footer .btn").addClass("btn-auto"),i}}},,,,,function(t,e,i){var n=i(2),r=i(0),o=i(6),a=i(3),s=i(104),c=i(10),l=i(8),d=i(196),u=(i(25),t.exports=a.create());a.mix(u,o,{_template:['<div class="btn-group open" style="display:block;">','<ul class="dropdown-menu" style="position:static;float:none;border-bottom:0;overflow-x:hidden;"></ul>','<div style="padding:20px 0;text-align:center;font-size:14px;display:none;background:#fff;border:1px solid #d4d4d4;" class="js-none">没有结果</div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig,e=this.getEl();this.ulEl=e.find("ul.dropdown-menu"),this.noneEl=e.find("div.js-none"),this.hasSub()&&e.addClass("with-multi-list"),r.id(t.width)&&e.outerWidth(t.width),this.initResize()}},{name:"change",type:"custom",handler:function(){var t=this.rawConfig;t.change&&t.change.call(this)}},{name:"click li.js-option",handler:function(t){var e=n(t.currentTarget).index();!this.hasSub(e)&&this.selectIndex(e)}}],show:function(t){var e=new u(t=t||{});s.wrap(e,{attachRenderTo:t.attachRenderTo,target:t.target,attach:t.attach,content:e.html(),zIndex:t.zIndex,noHover:t.noHover,needClick:t.needClick,canShow:t.canShow,canHide:t.canHide,needReWidth:t.needReWidth,attachShow:function(){e.renderItems()},attachHide:function(){e.searchIpt&&(e.searchIpt.val(""),e.search(""))}});return e}},{initialize:function(t){var e=this.cache={listRendered:!1,li:[],hasSub:!1,subAttachSel:{}},i=t.options,n=function o(t,e,i){for(var n=[],r=0;r<e.length;r++){var a=e[r];if(a.parent===t&&(a.subDeep=i,n.push(a),e.splice(r,1),r--,a.value!==undefined&&null!==a.value)){var s=o(a.value,e.slice(0),i+1);n=n.concat(s)}}return n}(undefined,i,0);i.length=0,r.forEach(n,(function(t){i.push(t)})),r.forEach(t.options,(function(t){var i=(t.options||[]).length>0;e.hasSub=e.hasSub||i,!i&&delete t.options})),t.needKeyboard=t.needKeyboard&&!e.hasSub},initResize:function(){var t=this,e=t.attach;if(e){var i=t.getEl();e.listen("widthChange",(function(e){t.renderItems();var n=t.searchIpt;n&&n.hide();var r=i.width("auto").outerWidth();i.outerWidth(Math.max(r,e)),n&&n.outerWidth(i.width()).show()}))}},initSearch:function(){var t=this,e=t.rawConfig,i=t.getEl();if(!e.needSearch)return;var r=t.searchIpt=n('<input style="display:block;border-radius:0;" type="text" placeholder="输入关键词搜索" />');i.prepend(t.searchIpt),l.bindChange(r,(function(){t.search(n.trim(r.val())),t.hideAttach(!0)})),r.outerWidth(i.width())},initKeyboard:function(){var t=this;if(!t.rawConfig.needKeyboard)return;var e="data-temp-show",i=t.attach,o=t.getEl();if(!(a=t.searchIpt)){var a=n('<input type="text" style="position:absolute;width:0;height:0;display:block;overflow:hidden;z-index:0;left:-9999px;top:0" />');o.append(a)}var s=t.ulEl.find("li.js-option");t.keyboardItem=d.mix({el:a,getItem:function(){return r.filter(s,(function(t){return"none"!==n(t).css("display")}))},up:function(i,r,o){var a=n(o[r]),s=n(o[i]);a.hasClass("selected")&&"1"===a.attr(e)&&a.removeClass("selected"),s.hasClass("selected")||(s.addClass("selected"),s.attr(e,"1")),l.fixScrollPos(t.ulEl,s)},down:function(i,r,o){var a=n(o[r]),s=n(o[i]);a.hasClass("selected")&&"1"===a.attr(e)&&a.removeClass("selected"),s.hasClass("selected")||(s.addClass("selected"),s.attr(e,"1")),l.fixScrollPos(t.ulEl,s)},selected:function(i,o,a){var s=n(a[i]);s.attr(e);r.forEach(a,(function(t){n(t).removeClass("selected").removeAttr(e)})),i=s.index(),t.selectIndex(i)}}),i.listen("attachShow",(function(){a.focus(),window.setTimeout(r.bind(a.focus,a),0)})),i.listen("attachHide",(function(){a.blur(),t.keyboardItem.clear()})),t.keyboardItem.clear=function(){t.ulEl.find("li.js-option["+e+"=1]").removeClass("selected").removeAttr(e),d.prototype.clear.apply(t.keyboardItem)}},initSubSel:function(){var t=this;r.forEach(t.cache.li,(function(e,i){l.hoverToggle({el:n(e),enter:function(){t.openSub(i)},leave:function(){t.openSub(i,!1)}})}));var e=t.attach,i=e.rawConfig,o=i.canHide;i.canHide=function(){var i=!o||o();return r.forEach(t.cache.subAttachSel,(function(t){return(i=i&&!t.attach.isMouseEnter)?null:r.BREAK})),i&&!e.isMouseEnter}},renderItems:function(){var t=this.rawConfig;if(!this.cache.listRendered){this.cache.listRendered=!0;var e="";r.forEach(t.options,(function(t,i){var n=(t.options||[]).length>0,r=t.subDeep;e+=c.execTpl('<li class="js-option #{cls}" style="#{position}#{padding}#{background}"><a href="javascript:void(0);">#{text}#{ext}</a></li>',{cls:t.checked?"selected":"",text:t.text,position:n?"position: relative;":"",padding:r>0?"padding-left:"+(10+10*r)+"px;":"",background:1===r?"background:#f7f7f7;":r>1?"background:#eeeeee;":"",ext:n?'<i class="icon-angle-right"></i><i class="icon-angle-left" style="display:none;"></i>':""})})),this.ulEl.html(e),this.cache.li=this.ulEl.find("li.js-option"),this.initSearch(),this.initKeyboard(),this.initSubSel()}},val:function(t,e){var i=this,n=i.rawConfig;if(0===arguments.length){var o=i.getSelectedItem();return o?o.value:""}var a=s(n.options,t);function s(t,e,i){return i=i||[],r.forEach(t,(function(t,n){if(i.push(n),t.value===e)return r.BREAK;var o=i.length;s(t.options,e,i),i.length===o&&i.pop()})),i}i.index(a,e)},index:function(t,e){var i=this,o=i.rawConfig,a=o.options,s=i.hasSub();if(0===arguments.length){var c=(l=f(a))[0];return s?l:c||0===c?c:-1}var l=i.index(),d=r.isArray(t)?t:[t],u=(l=r.isArray(l)?l:[l]).join("|")===d.join("|");u||(h(a,d.slice(0)),p(i,d.slice(0)));function h(t,e){if(t){var i=e.shift();r.forEach(t,(function(t,n){var r=n===i;t.checked=r,h(t.options,r?e:[])}))}}function p(t,e){if(t&&t.cache.listRendered){var i=e.shift();t.cache.li.removeClass("selected"),n(t.cache.li[i]).addClass("selected"),r.forEach(t.cache.subAttachSel,(function(t,n){p(t,+n===i?e:[])}))}}function f(t){var e=[],i=r.findIndex(t,(function(t){return t.checked}));if(i>=0){e.push(i);var n=t[i].options;if(n){var o=f(n);e=e.concat(o),0===o.length&&(e.length=0)}}return e}!u&&!0!==e&&i.fire("change")},clear:function(){var t=this.rawConfig;this.ulEl.find("li.js-option.selected").removeClass("selected"),r.forEach(t.options,(function(t){t.checked=!1}))},search:function(t){var e=this.rawConfig,i=this.ulEl,n=this.cache.li;if(i.scrollTop(0).show(),this.noneEl.hide(),!t)return r.forEach(n,(function(t){return t&&t.style&&(t.style.display="")}));var o=c.searchRegExp(t),a=0;r.forEach(e.options,(function(t,e){try{o.lastIndex=0}catch(c){}var i=t.text,r=n[e],s=o.test(i);r&&r.style&&(r.style.display=s?"":"none"),a+=s?1:0})),i[a>0?"show":"hide"](),this.noneEl[a>0?"hide":"show"](),this.keyboardItem&&this.keyboardItem.clear()},selectIndex:function(t){var e=this.rawConfig,i=n(this.cache.li[t]),r=this.parent||this;this.hasSub(t)||(r.fire("select"),i.hasClass("selected")?e.canCancel&&r.val(null):r.val(e.options[t].value),!r.rawConfig.clickItemNoHide&&r.hideAttach())},hideAttach:function(t){r.forEach(this.cache.subAttachSel,(function(t){t.hideAttach()})),t||(this.attach.isMouseEnter=!1,this.attach.forceHide())},getSelectedItem:function(){var t=this.getAllItem();return r.find(t,(function(t){return t.checked}))},getAllItem:function(){return function t(e){var i=[];return r.forEach(e,(function(e){var n=e.options;n&&(i=i.concat(t(n))),!n&&i.push(e)})),i}(this.rawConfig.options)},hasSub:function(t){var e=this,i=e.rawConfig,n=arguments.length;return 0===n?e.cache.hasSub:!!(i.options[t]||[]).options},openSub:function(t,e){var i=this,r=i.rawConfig,o=(i.getEl(),r.options[t].options),a=i.cache.subAttachSel,s=a[t];if((e=!1!==e)&&o&&!s){var c=n(i.cache.li[t]),l=(s=a[t]=u.show({attachRenderTo:i.attach.getEl().parent(),target:c,options:o,canCancel:r.canCancel,needReWidth:!0,attach:{horz:!0,extOffset:{left:-1}},canHide:function(){return!s.attach.isMouseEnter}})).attach,d=i.parent||i;s.parent=d,l.listen("attachHide",(function(t){h(c),t&&t.attachLeave&&i.attach.forceHide(t)})),l.listen("attachShow",(function(){h(c,!0)})),l.forceShow(),i.pushChild(s)}else!e&&s&&s.attach.forceHide();function h(t,e){var i=t.find(".icon-angle-left"),n=t.find(".icon-angle-right");i[e?"show":"hide"](),n[e?"hide":"show"]()}}})},function(t,e,i){i(2);var n=i(6),r=i(3),o=(i(0),i(4)),a=i(306),s=t.exports=r.create();r.mix(s,n,{_template:'<div><div style="margin:0 auto;width:300px;" class="js-gt-code"></div></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.gt=new a({el:t.find("div.js-gt-code"),type:this.rawConfig.type,product:"embed"}),this.checkGt()}}],show:function(t){var e=new s(t=t||{});o.wrap(e,{title:t.title||"请完成验证",content:e.html(),width:500,height:220,noUnique:!0,hasNoFooter:!0,listeners:{destroy:function(){window.clearTimeout(e.checkGtTimer),!e.isInputCode&&t.cancel&&t.cancel()}}});return e}},{checkGt:function(){var t=this,e=t.gt,i=t.rawConfig;t.checkGtTimer=window.setTimeout((function(){var n=e.check();n?window.setTimeout((function(){t.isInputCode=!0,t.popup&&t.popup.close(),i.call&&i.call(n)}),500):t.checkGtTimer=window.setTimeout(arguments.callee,1e3)}),1500)}})},,,,,function(t,e,i){"use strict";var n=i(2),r=i.n(n);i(0);var o={name:"nc-input",props:["tagName","isDisabled","isReadonly","type","placeholder","iptCls","iptStyle","content","noShowMark","focusTips"],model:{prop:"content",event:"change"},components:{NCTag:{props:["tagName"],render:function(t){return t(this.tagName||"div",this.$slots["default"])}}},data:function(){return{value:this.content||"",isError:"",isSuccess:"",isFocus:"",tips:""}},methods:{focus:function(){r()(this.$refs.input).focus()},blur:function(){r()(this.$refs.input).blur()},val:function(t){var e=this,i=r()(e.$refs.input);if(0===arguments.length)return i.val();i.val(t),e.$emit("change",t)},setSuccess:function(t){if(this.setNone(),!1===t)return;this.isSuccess=!0,this.tips=r.a.trim(t)},setError:function(t){if(this.setNone(),!1===t)return;this.isError=!0,this.tips=r.a.trim(t)},setFocusTips:function(t){if(this.setNone(),!1===t)return this.isFocus=!1;this.isFocus=!0,this.tips=r.a.trim(this.focusTips)},setNone:function(){this.isSuccess="",this.isError="",this.tips=""},actionFocus:function(){this.isFocus=!0,this.setNone(),this.setFocusTips(),this.$emit("focus")},actionBlur:function(){this.isFocus=!1,this.$emit("blur")}},computed:{isText:function(){return"textarea"!==this.type}},watch:{value:function(){this.$emit("change",this.value)},content:function(t){this.value=t}}},a=i(1),s=Object(a.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("NCTag",{staticClass:"control-group","class":t.isError?"error":t.isSuccess?"success":"",attrs:{tagName:t.tagName}},[t._t("before"),t._v(" "),"checkbox"===(t.type||"text")&&t.isText?i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input","class":t.iptCls,style:t.iptStyle,attrs:{disabled:t.isDisabled,readonly:t.isReadonly,placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")},focus:t.actionFocus,blur:t.actionBlur,change:function(e){var i=t.value,n=e.target,r=!!n.checked;if(Array.isArray(i)){var o=t._i(i,null);n.checked?o<0&&(t.value=i.concat([null])):o>-1&&(t.value=i.slice(0,o).concat(i.slice(o+1)))}else t.value=r}}}):"radio"===(t.type||"text")&&t.isText?i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input","class":t.iptCls,style:t.iptStyle,attrs:{disabled:t.isDisabled,readonly:t.isReadonly,placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.value,null)},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")},focus:t.actionFocus,blur:t.actionBlur,change:function(e){t.value=null}}}):t.isText?i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input","class":t.iptCls,style:t.iptStyle,attrs:{disabled:t.isDisabled,readonly:t.isReadonly,placeholder:t.placeholder,type:t.type||"text"},domProps:{value:t.value},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")},focus:t.actionFocus,blur:t.actionBlur,input:function(e){e.target.composing||(t.value=e.target.value)}}}):i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input","class":t.iptCls,staticStyle:{resize:"none"},style:t.iptStyle,attrs:{disabled:t.isDisabled,readonly:t.isReadonly,placeholder:t.placeholder},domProps:{value:t.value},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")},focus:t.actionFocus,blur:t.actionBlur,input:function(e){e.target.composing||(t.value=e.target.value)}}}),t._v(" "),t.noShowMark?t._e():i("i",{staticClass:"input-icon fui-cross"}),t._v(" "),t.noShowMark?t._e():i("i",{staticClass:"input-icon fui-check-inverted"}),t._v(" "),i("span",{staticClass:"input-tip",style:t.isFocus&&t.focusTips?"display:block;":"",domProps:{innerHTML:t._s(t.tips)}}),t._v(" "),t._t("after")],2)}),[],!1,null,null,null).exports;s.install=function(t){return t.component(s.name,s)};e.a=s},,,,,function(t,e,i){var n=i(646)["default"];t.exports={show:function(t){n.show({propsData:t})}}},function(t,e,i){var n=i(2),r=i(3),o=i(0),a=i(6),s=i(10),c=i(8),l=t.exports=r.create();r.mix(l,a,{_template:['<div role="group" class="btn-group">','<button class="btn btn-default dropdown-toggle">','<span class="dropdown-value">#{text}</span>','<span class="caret"></span>',"</button>",'<ul class="dropdown-menu"></ul>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.getEl(),i=t.rawConfig;t.txtEl=e.find("button.dropdown-toggle .dropdown-value"),t.menu=e.find("ul.dropdown-menu"),"small"!==i.size&&"large"!==i.size||t.size(i.size),i.autoWidth&&(t.txtEl.removeClass("dropdown-value"),t.menu.addClass("dropdown-auto")),null!==i.zIndex&&i.zIndex!==undefined&&t.menu.css("z-index",i.zIndex),n(document).click((function(i){e.length>0&&!n.contains(e.get(0),i.target)&&t.open(!1,!0)})),t.hoverExpand&&c.hover(e,(function(){t.isDisabled||(window.clearTimeout(t._hoverTimer),window.clearTimeout(t._hideTimer),t._hoverTimer=window.setTimeout((function(){t.open()}),250))}),(function(){t.isDisabled||t.open(!1)}))}},{name:"click button.dropdown-toggle",handler:function(){this.isDisabled||this.open(this.hoverExpand||!this.isOpen())}},{name:"click ul.dropdown-menu li",handler:function(t){var e=n(t.target),i="a"===e.prop("tagName").toLowerCase()?n.trim(e.attr("href")):"";i&&!s.isJsHref(i)||t.preventDefault();var r=this.rawConfig,o=n(t.currentTarget).index();if(r.clickItemNoHide||this.open(!1,!0),this.error(!1),+o!==this.selectedIndex){this.select(o);try{this.fire("change"),r.change&&r.change.call(this)}catch(a){}}}}],transformConf:function(t){var e=t.find("ul.dropdown-menu li"),i=[],r="";return o.forEach(e,(function(t,e){var o=(t=n(t)).hasClass("selected");i.push({text:n.trim(t.text()),value:t.attr("data-val")||e,checked:o}),o&&(r=n.trim(t.text()))})),r&&t.find("button.dropdown-toggle .dropdown-value").html(r),{text:r,options:i}}},{initialize:function(t){var e=this;e.hoverExpand=!t.noHover,e.isDisabled=!!t.disabled,o.every(t.options,(function(t,i){return!t.checked||(e.selectedIndex=i,!1)}));var i=e.selectedIndex,n=i||0===i?t.options[i]:{};e.value=n.value,t.text=n.text||t.text},isOpen:function(){return this.getEl().hasClass("open")},open:function(t,e){var i=this.getEl();window.clearTimeout(this._hideTimer),window.clearTimeout(this._hoverTimer),!1===t?this._hideTimer=window.setTimeout((function(){i.removeClass("open")}),e?0:100):(this._renderOptions(),this.itemElList&&0!==this.itemElList.length||(this.itemElList=i.find("ul.dropdown-menu li"),i.find("ul.dropdown-menu").scrollTop(0)),i.addClass("open"))},select:function(t,e){var i=this.getEl(),r=this.rawConfig,o=r.options;if(!t&&0!==t)return this.selectedIndex;if((t=+t||0)>=o.length)return;var a=o[t],s=o[this.selectedIndex];a.text&&this.txtEl.html(a.text);if(this.menuRendered){var c=this.itemElList;c&&0!==c.length||(c=this.itemElList=i.find("ul.dropdown-menu li"));var l=n(c[t]);n(c[this.selectedIndex]).removeClass("selected").find("a").removeClass("active"),l.addClass("selected").find("a").addClass("active"),this.value=a.value,this.selectedIndex=t}else s&&(s.checked=!1),a&&(a.checked=!0),this.value=a.value,this.selectedIndex=t;if(e)try{this.fire("change"),r.change&&r.change.call(this)}catch(d){}},val:function(t,e){var i=this.rawConfig.options;if(!t&&0!==t)return this.value;var n=0;o.every(i,(function(e,i){return e.value!==t||(n=i,!1)})),this.select(n,e)},text:function(){var t=this.selectedIndex,e=this.rawConfig;if(null===t||t===undefined)return"";var i=e.options[t];return i.text?i.text:i.html?n(i.html).text():""},error:function(t){this.getEl()[!1===t?"removeClass":"addClass"]("error")},size:function(t){var e=this.getEl(),i="small"===t?"btn-group-sm":"large"===t?"btn-group-lg":"";e.removeClass("btn-group-sm btn-group-lg"),i&&e.addClass(i)},clear:function(t){var e=this.rawConfig;t=t||e.text||"请选择";var i=this.getEl();n(i.find("ul.dropdown-menu li")[this.selectedIndex]).removeClass("selected").find("a").removeClass("active"),this.value=null,this.selectedIndex=null,this.txtEl.html(t)},disabled:function(t){this.isDisabled=!1!==t},_renderOptions:function(){if(this.menuRendered)return;var t=this.getEl(),e="",i=this.rawConfig;o.forEach(i.options,(function(t,i){e+="<li "+(t.checked?' class="selected"':"")+' ><a href="javascript:void(0);">'+t.text+"</a></li>"})),t.find("ul.dropdown-menu").html(e),this.menuRendered=!0},_getData:function(t){return{text:t.text}},replaceOptions:function(t){var e=this;if(e.rawConfig.options=t,!this.menuRendered)return;this.menuRendered=!1,this._renderOptions(),this.itemElList.length=0,this.selectedIndex=null,this.clear()}})},,,,,,,,function(t,e,i){(function(e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==("undefined"==typeof globalThis?"undefined":i(globalThis))&&globalThis)||n("object"==("undefined"==typeof window?"undefined":i(window))&&window)||n("object"==("undefined"==typeof self?"undefined":i(self))&&self)||n("object"==(void 0===e?"undefined":i(e))&&e)||Function("return this")()}).call(this,i(223))},function(t,e,i){var n=i(2),r=i(0),o=i(4),a=i(54),s=i(302),c=i(20),l=i(31),d={};t.exports={checkSensitive:function(t){var e=t.isStrong?"true":"false",i=n.trim(t.word),r=d[e]=d[e]||{};if(!i)return t.call&&t.call(!1);if(i in r)return t.call&&t.call(!!r[i]);l.checkSensitive({query:{word:i,isStrong:e,isSchool:t.isSchool?"true":undefined},call:function(e){var n=!!(e||{}).isSensitive;r[i]=n,t.call&&t.call(n)},error:function(e){return t.call&&t.call(!1)}})},black:function(t){var e=t.id,i=t.name,n=!1!==t.black,r=t.call,a=e&&i;function s(){l[n?"blackUser":"unblackUser"]({body:{blackUserId:e},call:r,error:function(t){return o.alert(t.msg)}})}a&&n&&new o({title:"确定要拉黑"+i+"？",content:['<div class="pop-account-content">','<p class="pop-tip">拉黑后，对方将不能</p>','<p class="pop-tip">—关注你（如果已关注将自动取消）</p>','<p class="pop-tip">—私信你</p>','<p class="pop-tip">—在你的动态、帖子、回答或评论留言</p>','<p class="pop-tip">—转发你的动态、帖子、回帖等作品</p>','<p class="pop-tip">—@你，和你互动</p>','<p class="pop-tip">确定把'+i+"加入黑名单？</p>","</div>"].join(""),ok:s,cancel:function(){}}),a&&!n&&o.confirm("是否把"+i+"移除你的黑名单？",s)},avatar:function(t){var e=n(t.el);r.forEach(e,(function(e){var r=a.show({target:e,url:c.getUploadUrl(13),fileType:"*.jpg;*.JPG;*.png;*.PNG;*.gif;*.GIF;*.bmp;*.BMP;*.jpeg;*.JPEG",call:function(e){e.url&&i(303).show({src:e.url,call:function(e){var i=e.url;i&&t.call&&t.call(i)},error:t.error})}});t.attach&&t.attach(r,n(e))}))},formula:function(t){s.show({useLaTex:!!t.useLaTex,value:t.value,valueLaTex:t.valueLaTex,uploadBatch:function(t,e,i){var n={};r.forEach(e,(function(e,i){var r=t[i];n[r]=e})),i&&i(n)},callLaTex:function(e){n.trim(e)&&t.callLaTex&&t.callLaTex(e)},upload:function(e,i,n){t.call&&t.call(i),n&&n()}})}}},,,,,,,function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(17),r=i(2),o=(i(18),i(0)),a=(i(3),i(4)),s=document.createElement("A");t.exports={cacheCb:{},cache:{},create:function(t,e){var i=this,a=i.cache,s=i.cacheCb,c=n.isInHttps(),l=i.getDomain(window.location.href),d=i.getDomain(t);if(l===d||/api\.nowcoder\.com/.test(d)||/feed\.nowcoder\.com/.test(d)||/^d\d*\.feed\.nowcoder\.com/.test(d)||/^www\.nowcoder\.com/.test(d)||/^d\d*\.nowcoder\.com/.test(d)||/^m\.(d\.)?nowcoder\.com/.test(d))return e&&e(r,window);document.domain=i.getDomain(t,!0);var u=(c?"https://":"http://")+d+"/crossDomain.html",h=u,p=a[h];if(p)return e&&e(p.$,p);if(s[h]=s[h]||[],s[h].push(e),s[h].length>1)return;var f=r('<iframe src="'+u+'" frameborder="0" style="display:block;width:0;height:0;overflow:hidden;"></iframe>');f.on("load",(function(){f.unbind("load");var t=i.getWin(f),e=(t||{}).$;e&&(o.forEach(s[h],(function(i){i&&i(e,t)})),a[h]=t,s[h].length=0)})),r(document.body).append(f)},getDomain:function(t,e){s.href=t;var i=s.href.split("/")[2];if(e){var n=i.split(".").reverse();n.length=2,i=n.reverse().join(".")}return i},getWin:function(t){try{var e=(t=r(t).get(0)).contentDocument||t.contentWindow.document;return e.defaultView||e.parentWindow}catch(i){a.alert("数据保存模块加载出错，请刷新页面重试，避免数据丢失。如有疑问，请致电：010-60728802",(function(){window.location.reload()}))}}}},function(t,e,i){t.exports=i(28)(25)},,,,,,,,,function(t,e,i){var n=i(138),r=i(228),o=i(146),a=i(229),s=i(241),c=i(280),l=r("wks"),d=n.Symbol,u=c?d:d&&d.withoutSetter||a;t.exports=function(t){return o(l,t)||(s&&o(d,t)?l[t]=d[t]:l[t]=u("Symbol."+t)),l[t]}},,,,,,,,function(t,e,i){var n=i(174),r=i(175),o=i(194);t.exports=n?function(t,e,i){return r.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,i){var n=i(176);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,i){var n=i(2),r=i(0),o=i(6),a=i(3),s=i(10),c=t.exports=a.create();a.mix(c,o,{_template:'<div class="menu-box #{cls}"><ul class="menu clearfix">#{list}</ul></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig;this.getEl();t.noFireChangeOnRender||(t.change&&t.change.call(this),this.fire("change"))}},{name:"click .js-tab-item",handler:function(t){var e=n(t.currentTarget).index();this.index(e)}}]},{initialize:function(t){var e=t.items||[],i=!1;r.forEach(e,(function(t){t.checked&&i&&(t.checked=!1),i=i||t.checked})),!i&&e.length>0&&(e[0].checked=!0)},val:function(t,e){var i=this,n=i.rawConfig,o=n.items;if(0===arguments.length){var a=i.index();return-1===a?null:o[a].value}r.forEach(o,(function(n,o){if(n.value===t)return i.index(o,e),r.BREAK}))},index:function(t,e){var i=this,r=i.rawConfig,o=i.getEl(),a=o.find("li.js-tab-item"),s=o.find("li.js-tab-item.selected"),c=0===s.length?-1:s.index();c=s.index();if(0===arguments.length)return c;t!==c&&(a.removeClass("selected"),n(a[t]).addClass("selected"),!1!==e&&(r.change&&r.change.call(i),i.fire("change")))},updateText:function(t,e){var i=this.getEl(),o=this.rawConfig.items,a=r.findIndex(o,(function(e){return e.value===t}));if(a>=0){o[a];n(i.find("li.js-tab-item")[a]).find("a").html(n.trim(e))}},_getData:function(t){var e=r.map(t.items,(function(t){return s.execTpl('<li class="#{cls} js-tab-item"><a href="javascript:void(0)">#{text}</a></li>',{cls:t.checked?"selected":"",text:t.text})})).join("");return{cls:"line"===t.type?"menu-line-box":"",list:e}}})},,,,function(t,e,i){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};var r=i(2),o=i(0),a=i(244),s=i(67);function c(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return function(){var e=this,n=e.select;return n&&n[t]&&n[t].apply(n,[].concat(i,Array.prototype.slice.call(arguments)))}}var l={props:["isMulti","isDisabled","value","size","needSearch","text","options","autoWidth"],data:function(){return{id:"",clazz:""}},mounted:function(){this.initCpn(),this.initVal()},methods:{initCpn:function(){var t=this.select=this.initSelect(),e=t.getEl();t.$el=r(this.$el),t.el=this.el,this.id=e.get(0).id,this.clazz=e.get(0).className,r(this.$el).html(e.html()),e.remove(),t.render(),this.clazz+=" "+(this.$el.className||"")+" "},initSelect:function(){var t=this,e=new(t.isMulti?a:s)({noRender:!0,needSearch:t.needSearch,autoWidth:!!t.autoWidth,disabled:!!t.isDisabled,text:t.text,size:t.size,options:o.map(t.options,(function(t){return n({},t)}))});return e.listen("change",(function(){return t.$emit("input",e.val())})),t.$watch("options",(function(i){var r,a,s,c=t.isMulti?o.toMap(t.value,(function(t){return{key:t}})):(r={},a=t.value,s=!0,a in r?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s,r),l=o.map(i,(function(t){return n({},t,{checked:c[t.value]})})),d=JSON.stringify(e.val()||"");e.replaceOptions(l);var u=e.val();d!==JSON.stringify(u)&&t.$emit("input",u)})),t.$watch("isDisabled",(function(t){return e.disabled(!!t)})),t.$watch("text",(function(t){e.rawConfig.text=t,e.updateText&&e.updateText()})),e},initVal:function(){var t=this;t.select.val(t.value),t.$watch("valStr",(function(e,i){t.select&&t.select.val(t.value)}))},val:c("val"),error:c("error"),setNone:c("error",!1),setError:c("error")},computed:{valStr:function(){var t=this.isMulti?[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(this.value||[])):[this.value];return(t=(t=o.map(t,(function(t){return JSON.stringify(t)||""}))).sort((function(t,e){return t-e}))).join("T_T")}}},d=i(1),u=Object(d.a)(l,(function(){var t=this.$createElement;return(this._self._c||t)("div",{"class":this.clazz,attrs:{id:this.id}})}),[],!1,null,null,null);e.a=u.exports},,function(t,e,i){var n=i(166);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,i){var n=i(174),r=i(226),o=i(167),a=i(201),s=Object.defineProperty;e.f=n?s:function(t,e,i){if(o(t),e=a(e,!0),o(i),r)try{return s(t,e,i)}catch(n){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},function(t,e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":i(t))?null!==t:"function"==typeof t}},function(t,e,i){var n=i(2),r=(i(46),i(3)),o=i(0),a=i(6),s=(i(18),i(10)),c=i(11),l=i(4),d=i(67),u=i(25),h=i(31),p=i(301),f=t.exports=r.create();r.mix(f,a,{_template:'<div class=""><div style="padding:20px 0;text-align:center;font-size:14px;">数据加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this;t.isMiddle=!!t.rawConfig.isMiddle,o.forEachAsync(["getCity","searchSchool"],(function(e,i){t[e](o.bind(i,null,null))}),(function(){t.initContainer(),t.initCpns(),t.renderList(t.schoolData),t.popup&&t.popup.fixPosition()}))}},{name:"click a.pop-school-item",handler:function(t){var e=this.rawConfig,i=n(t.currentTarget),r=i.attr("data-id"),o=i.attr("data-name");e.call&&e.call(r,o),this.popup&&this.popup.close()}},{name:"click .js-add-school",handler:function(t){var e=this;e.popup&&e.popup.hide(),p.show({noUnique:!0,isMiddle:e.isMiddle,val:{country:e.countryCpn.val(),prov:e.provCpn.val(),name:e.searchCpn.val()},listeners:{ok:function(t){e.countryCpn.val(t.country),e.fixCity(),!e.provCpn.hidden&&e.provCpn.val(t.prov),e.searchCpn.val(t.name),e.refresh(!0)},close:function(t){e.popup&&e.popup.show()}}})}}],show:function(t){var e=new f(t=t||{});l.wrap(e,{title:t.isMiddle?"选择你的中学":"选择你的大学",content:e.html(),width:960,hasScroll:!0,hasNoFooter:!0,noUnique:!!t.noUnique});return a.setEvents(),e}},{initContainer:function(){this.getEl().html(['<div class="pop-filter-wrap js-filter-box"></div>','<div class="pop-school-box js-school-box"></div>']),this.headerEl=this.getEl(".js-filter-box"),this.contentEl=this.getEl(".js-school-box")},initCpns:function(){var t=this,e=t.headerEl,i=(t.cityMap={},o.map(t.cityData,(function(e,i){return t.cityMap[e.name]=e,{text:e.name,value:e.name,checked:0===i}})));t.countryCpn=new d({renderTo:e,text:"请选择国家",needSearch:i.length>5,options:i,listeners:{change:function(){t.fixCity()}}}),t.provCpn=new d({renderTo:e,text:"请选择省份",needSearch:!0,options:[]}),t.provCpn.hide();var r=c.frequency(750);t.searchCpn=new u({cls:"inline-block",renderTo:e,placeholder:"输入关键词查找学校",listeners:{change:function(){var e=this;r((function(){if(!n.trim(e.val()))return t.selectAll(t.countryCpn.val(),t.provCpn.val());t.searchSchool((function(e){t.renderList(e)}))}))}}}),t.fixCity(!0)},refresh:function(t){var e=this;e.searchSchool((function(t){t&&0!==t.length?e.renderList(t):e.contentEl.html('<h3 style="text-align:center">请先选择筛选条件</h3>')}),t)},fixCity:function(t){var e=this,i=e.countryCpn.val(),n=e.cityMap[i];if(!n)return;if(n.provs&&n.provs.length>0){var r=[];o.forEach(n.provs,(function(t,e){r.push({text:t.name,value:t.name})})),e.provCpn.unlisten("change"),e.provCpn.listen("change",(function(){e.selectAll(i,this.val())})),e.provCpn.replaceOptions(r),e.provCpn.select(0),e.provCpn.show(),t||e.provCpn.fire("change")}else e.provCpn.hide(),e.selectAll(i)},selectAll:function(t,e){if(this.searchCpn.val(""),!t)return void this.contentEl.html('<h3 style="text-align:center">请先选择筛选条件</h3>');if(!this.cityMap[t])return void this.contentEl.html('<h3 style="text-align:center">请先选择筛选条件</h3>');this.refresh()},renderList:function(t){var e="";o.forEach(t,(function(t){var i=+t.type;e+=s.execTpl('<a href="javascript:void(0);" data-id="#{id}" data-name="#{name}" class="pop-school-item" title="#{name}#{tip}">#{name}#{tip}</a>',{id:t.id,name:t.name,tip:3===i||5===i?"(审核中)":""})}));var i=['<div style="padding:20px;margin:0 auto;font-size:14px;width:520px;">',"没有找到你的学校？试试以下方法：</br>","1、检查学校名称是否输入正确，是否有错别字或者多字漏字</br>","2、检查是否输入了学校别名/别称？试试输入学校的官方正式全称</br>","3、检查学校是否更名，试试输入你的学校最新的院校名称</br>","4、国外院校？试试输入外语的学校名称全称，如输入英文/日文/法文/德文等</br>",'如仍未查找到你的学校，<a href="javascript:void(0);" class="link-green js-add-school">点此帮助牛客完善学校信息</a></br>',"注意：请勿恶意提交无效院校信息，多次恶意提交者将被严肃处理哦！","</div>"].join("");this.contentEl.html(e||i)},getCity:function(t){var e=this;h.getSchoolBrief({type:"GET",query:{isMiddle:e.isMiddle},call:function(i){var n=e.cityData=i.data||[];t&&t(n)},error:function(t){e.popup&&e.popup.close(),l.alert(t.msg)}})},searchSchool:function(t,e){var i=this,r=i.schoolCache=i.schoolCache||{},a=c(),s=d(a);if(!e&&r[s])return t&&t(r[s]);function c(){var t=(i.countryCpn?n.trim(i.countryCpn.val()):"中国")||undefined,e=(i.provCpn?i.provCpn.hidden?"":n.trim(i.provCpn.val()):"北京")||undefined,r=(i.searchCpn?n.trim(i.searchCpn.val()):"")||undefined;return{country:r?undefined:t,province:r?undefined:e,query:r,limit:250}}function d(t){return[t.country||"",t.province||"",t.query||""].join("$$$$")}h.getSchool({query:o.extend({isMiddle:i.isMiddle},a),call:function(e){var n=i.schoolData=e.data||[];r[s]=n;var o=d(c());s===o&&t&&t(n)},error:function(t){l.alert(t.msg),i.popup&&i.popup.close()}})}})},,,,,,,,,,,,,,,,,function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports={}},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(37),s=t.exports=o.create();r.extend(s,{preventCode:{37:"left",38:"up",39:"right",40:"down"},mix:function(t){var e=new s(t);return e.bind(),e}}),r.extend(s.prototype,a,{initialize:function(t){this.rawConfig=t,this.el=n(t.el),this.inForm=!!this.el.closest("form").get(0),this.items=t.items,this.index=t.index||-1},bind:function(){var t=this,e=t.rawConfig;t.clear(!0),t.el.on("keydown",(function(i){var n=i.keyCode+"",r=!e.canFire||e.canFire();if(t.keydownHandler=arguments.callee,r){var o=s.preventCode[n];(o&&e[o]||"13"===n&&t.inForm&&t.index>=0)&&i.preventDefault()}})),t.el.on("keyup",(function(i){var n=i.keyCode+"",r=!e.canFire||e.canFire(),o=t.index,a=t.index;if(t.keyupHandler=arguments.callee,r)if(i.stopPropagation(),i.preventDefault(),"38"===n){var s=t.getItem(!0);(o=a-1)<0&&(o=s.length-1),t.fireEvent("up",o,a,s),t.index=o}else if("40"===n){s=t.getItem(!0);(o=t.index+1)>=s.length&&(o=0),t.fireEvent("down",o,a,s),t.index=o}else"37"===n?t.fireEvent("left"):"39"===n?t.fireEvent("right"):"13"===n&&t.fireEvent("selected",o,a,t.getItem(!0));t.fireEvent("keyup"+n,i,r,o,a)}))},clear:function(t){var e=this.rawConfig;this.index=e.index||-1,this._items=null,this.keyupHandler&&t&&this.el.unbind("keyup",this.keyupHandler);this.keydownHandler&&t&&this.el.unbind("keydown",this.keydownHandler)},clearCache:function(){this._items=null,this.index=-1},fireEvent:function(t){var e=this,i=e.rawConfig;e.fire&&e.fire.apply(e,arguments),i[t]&&i[t].apply(e,[].slice.call(arguments,1))},getItem:function(t){var e=this.rawConfig;return this._items&&this._items.length>0&&!t||(this._items=e.getItem&&e.getItem()||[]),this._items}})},,function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e){t.exports=function(t){if(t==undefined)throw TypeError("Can't call method on "+t);return t}},function(t,e,i){var n=i(138),r=i(165);t.exports=function(t,e){try{r(n,t,e)}catch(i){n[t]=e}return e}},function(t,e,i){var n=i(176);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(228),r=i(229),o=n("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e,i){var n=i(270),r=i(199);t.exports=function(t){return n(r(t))}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,i){i(2);var n=i(0),r=i(3),o=i(243),a=t.exports=r.create();n.extend(a.prototype,{submitDiyCode:function(t){var e=t.data||t,i=n.extend({selfType:e.selfType||e.tagId,tagId:e.tagId,subTagId:e.subTagId,problemId:e.problemId||undefined,questionId:e.questionId||undefined,selfInput:e.input,selfOutput:e.output,content:e.content,language:e.language,languageName:e.languageName,vojLanguage:e.vojLanguage},t.extCodeParam),r=n.extend({},t,{body:i});this.submitCode(r,!0)},submitSelfCode:function(t){var e=t.data||t,i=n.extend({questionId:e.questionId,tagId:e.tagId,subTagId:e.subTagId,content:e.content,language:e.language,languageName:e.languageName,vojLanguage:e.vojLanguage},t.extCodeParam),r=n.extend({},t,{body:i});this.submitCode(r)},submitTestCode:function(t){var e=t.data||t,i=n.extend({pid:e.pid,tid:e.tid,qid:e.qid,tagId:e.tagId,subTagId:e.subTagId,content:e.content,language:e.language},t.extCodeParam),r=n.extend({},t,{body:i});this.submitCode(r)},getCodeStatus:function(t,e){var i=this,r=i.submissionId=t.submissionId,a=t.body||{},s=a.tagId,c=a.subTagId,l=e?"":"您的代码已保存",d=1e3;function u(){i.callback(t,"cbStatusCodeBefore"),o.request({$:t.$,url:t.urlGetCodeStatus,query:n.extend({submissionId:r,tagId:s,subTagId:c,selfType:a.selfType},t.extStatusParam),call:function(e){if(i.submissionId===r)if(0===e.status||1===e.status||2===e.status)d>Math.max(+t.maxStatusDelay||0,7e4)&&(i.feedback(t,l+"\n查询超时，请重试",!0),i.callback(t,"cbStatusCodeError")),i.runTimer=setTimeout(u,d),d*=2;else{e.submissionId=r;var n=5===e.status,o=l+"\n"+(e.desc||"")+"\n"+(e.memo||"");!e.isComplete&&(o+='<div><a class="js-show-result link-green" target="_blank" href="//nowcoder.com/completeSubmissionInfo?submissionId='+r+"&tagId="+s+"&subTagId="+c+'">查看全部</a></div>'),i.feedback(t,o,!n,e),i.callback(t,n?"cbStatusCodeSuccess":"cbStatusCodeFail",e)}},error:function(e){e.submissionId=r,i.feedback(t,l+"\n"+(e.msg||"代码运行失败"),!0),i.callback(t,"cbStatusCodeError",e)}})}i.runTimer=setTimeout((function(){return u(i.submissionId)}),500)},submitCode:function(t,e){var i=this,r=e?"":"您的代码已保存";if(window.clearTimeout(i.runTimer),i.submissionId=null,!t||!t.urlSubmitCode||!t.body)return i.feedback(t,"参数错误",!0),i.callback(t,"cbSubmitCodeError",{code:-1,msg:"参数错误"});if(i.reqCaptcha)return i.feedback(t,"请稍等..."),i.callback(t,"cbGetCaptcha",(function(e){i.reqCaptcha=!1,e&&a(e),e||(i.callback(t,"cbGetCaptchaError"),i.feedback(t,"验证码错误",!0))}));a();function a(a){i.feedback(t,"正在提交代码..."),i.callback(t,"cbSubmitCodeBefore"),o.request({$:t.$,url:t.urlSubmitCode,query:n.extend(t.query||{},t.query,a),body:t.body,call:function(o){i.callback(t,"cbSubmitCodeComplete",o);var a=t.getSubmissionId?t.getSubmissionId(o):o.submissionId;n.id(a)&&a>=0?(i.feedback(t,r+"\n"+n.lang("正在查询结果...")),i.callback(t,"cbSubmitCodeSuccess",o),i.getCodeStatus(n.extend({submissionId:a},t),e)):(i.feedback(t,o.msg||"代码提交失败，请再次运行",!0),i.callback(t,"cbSubmitCodeError",o))},error:function(e){1125===e.code?(i.reqCaptcha=!0,i.submitCode(t)):(i.feedback(t,e.msg||"代码提交失败，请再次运行",!0),i.callback(t,"cbSubmitCodeError",e))}})}},getSubmissionDiff:function(t){o.request({$:t.$,url:t.urlGetSubmissionDiff,query:{submissionId:t.submissionId,tagId:t.tagId},call:t.call,error:t.error,always:t.always})},feedback:function(t){var e=this;return t&&t.feedback&&t.feedback.apply(e,[].slice.call(arguments,1))},callback:function(t,e){var i=this;return t&&t[e]&&t[e].apply(i,[].slice.call(arguments,2))}})},function(t,e,i){var n=i(0),r=i(3),o=i(37),a=t.exports=r.create(),s=!!window.WebSocket;n.extend(a,{isSupport:s}),n.extend(a.prototype,o,{initialize:function(t){var e=this;e.rawConfig=t||{},e.url=t.url||"",0===(window.location.protocol||"").indexOf("https")&&(e.url="wss://"+e.url.replace(/^wss?:\/\//,""));n.forEach(t.listeners,(function(t,i){i&&t&&e.listen(i,t)})),e.sendData=[],e.needReConnect=!0,e.connectCount=0},connect:function(){var t=this;if(window.clearTimeout(t.connectTimer),!s)return;var e=t.getStatus();if(1===e||0===e)return;var i=t.socket=new window.WebSocket(t.url);i.onopen=function(){t.needReConnect=!1,t.fire("open")},i.onmessage=function(e){t.needReConnect=!1;var i=n.json(e.data||{});t.fire("message",i,e)},i.onerror=function(e){if(t.needReConnect=t.needReConnect&&t.connectCount<10,t.needReConnect)return t.connectCount++,window.clearTimeout(t.connectTimer),void(t.connectTimer=window.setTimeout(n.bind(t.connect,t),250));t.fire("error",e)},i.onclose=function(){t.fire("close")}},close:function(){try{this.socket&&this.socket.close&&this.socket.close()}catch(t){}window.clearTimeout(this.connectTimer),window.clearTimeout(this.sendTimer),this.socket=null},send:function(t){var e=this,i=e.sendData;n.isObject(t)&&(t=window.JSON.stringify(t));if(!s||!e.socket||!n.isString(t))return;var r=e.getStatus();1===r?(o(),t&&e.socket.send(t)):0===r&&(t&&i.push(t),window.clearTimeout(e.sendTimer),e.sendTimer=window.setTimeout((function(){o(),e.socket&&i.length>0&&(e.sendTimer=window.setTimeout(arguments.callee,100))}),100));function o(){if(1===e.getStatus()&&i.length>0){var t=e.socket;n.forEach(i,(function(e){t.send(e)})),i.length=0}}},getStatus:function(){return this.socket?this.socket.readyState:-1},clearSendList:function(){this.sendData.length=0}})},function(t,e){t.exports={css:['body{font-size:14px;background-color:transparent;font-family:arial,STHeiti,"Microsoft YaHei";line-height:1.8;word-break:break-word;}',"body.show-placeholder::before{color:#d7d7d7;content:attr(data-placeholder);pointer-events:none;position:absolute;white-space:pre;}","a{color:#25bb9b;text-decoration: none;}","a:hover{color:#333}","img{max-width:100%;cursor:-moz-zoom-in;cursor:-webkit-zoom-in;cursor:zoom-in;cursor:url(//static.zhihu.com/static/img/zoom-in.cur)}","img[data-vote-id]{display:block;margin:10px 0;}","img[data-card-emoji]{width:100px;height:100px;}","h1,h2,h3,h4,h5,h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}","h1{padding-bottom:.3em;font-size:2em;border-bottom:1px solid #eaecef}","h2{padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid #eaecef}","h3{font-size:1.25em}","h4{font-size:1em}","h6{font-size:.85em;color:#6a737d}","blockquote,dl,ol,p,pre,table,ul{margin:12px 0}","ol,ul{padding-left:2em}","ul{list-style-type:disc}","li+li{margin-top:.25em}","ol{list-style-type:decimal}","ol ol ul,ol ul ul,ul ol ul,ul ul ul{list-style-type:square}","ol ol,ol ul,ul ol,ul ul{margin-top:0;margin-bottom:0;list-style-type:circle}","ol ol,ul ol{list-style-type:lower-roman}","ol ol ol,ol ul ol,ul ol ol,ul ul ol{list-style-type:lower-alpha}","blockquote{padding:0.25em 1em;border-left:2px solid #b3b3b3;background-color:#f6f8fa;}","pre{padding:0.25em 1em;overflow:auto;line-height:1.45;background-color:#f6f8fa;border-radius:0 3px 3px 0;border:none;border-left:2px solid #1abc9c}","em{font-weight:inherit;font-style:italic}","body>:last-child{margin-bottom:0!important}","pre{word-wrap:normal}","pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:0 0;border:0}","pre code,pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}","code,tt{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}","table{display:block;overflow:auto;width:auto;border:none;max-width:none;border-collapse:collapse;}","table tr{background-color:#fff;border-top:1px solid #c6cbd1}","table td,table th{padding:6px 13px;border:1px solid #dfe2e5}","table th{font-weight:600}","table tr:nth-child(2n){background-color:#f6f8fa}",".md-highlight{background:#cee7f5;}"].join("")}},,,,,,,,,,,,,function(t,e,i){var n,r,o,a=i(267),s=i(138),c=i(176),l=i(165),d=i(146),u=i(202),h=i(204),p=s.WeakMap;if(a){var f=new p,g=f.get,v=f.has,m=f.set;n=function(t,e){return m.call(f,t,e),e},r=function(t){return g.call(f,t)||{}},o=function(t){return v.call(f,t)}}else{var w=u("state");h[w]=!0,n=function(t,e){return l(t,w,e),e},r=function(t){return d(t,w)?t[w]:{}},o=function(t){return d(t,w)}}t.exports={set:n,get:r,has:o,enforce:function(t){return o(t)?r(t):n(t,{})},getterFor:function(t){return function(e){var i;if(!c(e)||(i=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}}},function(t,e,i){t.exports=i(28)(5)},function(t,e,i){var n=i(225),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return r.call(t)}),t.exports=n.inspectSource},function(t,e,i){var n=i(138),r=i(200),o=n["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=o},function(t,e,i){var n=i(174),r=i(166),o=i(227);t.exports=!n&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var n=i(138),r=i(176),o=n.document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,i){var n=i(203),r=i(225);(t.exports=function(t,e){return r[t]||(r[t]=e!==undefined?e:{})})("versions",[]).push({version:"3.6.4",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol("+String(t===undefined?"":t)+")_"+(++i+n).toString(36)}},function(t,e,i){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=i(138),o=i(231).f,a=i(165),s=i(233),c=i(200),l=i(271),d=i(277);t.exports=function(t,e){var i,u,h,p,f,g=t.target,v=t.global,m=t.stat;if(i=v?r:m?r[g]||c(g,{}):(r[g]||{}).prototype)for(u in e){if(p=e[u],h=t.noTargetGet?(f=o(i,u))&&f.value:i[u],!d(v?u:g+(m?".":"#")+u,t.forced)&&h!==undefined){if((void 0===p?"undefined":n(p))===(void 0===h?"undefined":n(h)))continue;l(p,h)}(t.sham||h&&h.sham)&&a(p,"sham",!0),s(i,u,p,t)}}},function(t,e,i){var n=i(174),r=i(269),o=i(194),a=i(205),s=i(201),c=i(146),l=i(226),d=Object.getOwnPropertyDescriptor;e.f=n?d:function(t,e){if(t=a(t),e=s(e,!0),l)try{return d(t,e)}catch(i){}if(c(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var n=i(138),r=i(165),o=i(146),a=i(200),s=i(224),c=i(222),l=c.get,d=c.enforce,u=String(String).split("String");(t.exports=function(t,e,i,s){var c=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof i&&("string"!=typeof e||o(i,"name")||r(i,"name",e),d(i).source=u.join("string"==typeof e?e:"")),t!==n?(c?!h&&t[e]&&(l=!0):delete t[e],l?t[e]=i:r(t,e,i)):l?t[e]=i:a(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},function(t,e,i){var n=i(235),r=i(138),o=function(t){return"function"==typeof t?t:undefined};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(r[t]):n[t]&&n[t][e]||r[t]&&r[t][e]}},function(t,e,i){var n=i(138);t.exports=n},function(t,e,i){var n=i(146),r=i(205),o=i(274).indexOf,a=i(204);t.exports=function(t,e){var i,s=r(t),c=0,l=[];for(i in s)!n(a,i)&&n(s,i)&&l.push(i);for(;e.length>c;)n(s,i=e[c++])&&(~o(l,i)||l.push(i));return l}},function(t,e,i){var n=i(198),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){"use strict";var n,r,o,a=i(239),s=i(165),c=i(146),l=i(157),d=i(203),u=l("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(r=a(a(o)))!==Object.prototype&&(n=r):h=!0),n==undefined&&(n={}),d||c(n,u)||s(n,u,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},function(t,e,i){var n=i(146),r=i(240),o=i(202),a=i(279),s=o("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=r(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,i){var n=i(199);t.exports=function(t){return Object(n(t))}},function(t,e,i){var n=i(166);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(t,e,i){var n=i(175).f,r=i(146),o=i(157)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,i){t.exports=i(28)(30)},function(t,e,i){var n=i(2),r=i(0),o=i(6),a=i(3),s=(i(10),i(8),i(304)),c=t.exports=a.create();a.mix(c,o,{_template:['<div class="btn-group">','<button class="btn btn-default dropdown-toggle">','<span class="js-txt #{txtCls}">#{text}</span>','<span class="caret"></span>',"</button>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl(),e=this.rawConfig;this.btnEl=t.find("button.dropdown-toggle"),this.txtEl=t.find("span.js-txt"),this.size(e.size),this.initSel(),this.updateText();var i=this.btnEl.width();!e.autoWidth&&i>20&&this.txtEl.outerWidth(i),this.isDisabled=!!e.disabled,this.disabled(this.isDisabled)}},{name:"destroy",type:"custom",handler:function(){this.attachSel&&this.attachSel.destroy()}}],transformConf:function(t){var e=t.find("ul.dropdown-menu li"),i=[],o="";return r.forEach(e,(function(t,e){var r=(t=n(t)).hasClass("selected");i.push({text:n.trim(t.text()),value:t.attr("data-val")||e,checked:r}),r&&(o=n.trim(t.text()))})),o&&t.find("button.dropdown-toggle .dropdown-value").html(o),{text:o,options:i}}},{initSel:function(){var t=this,e=t.rawConfig,i=t.getEl();t.attachSel=s.show({target:t.getEl(),options:e.options,zIndex:e.zIndex,needSearch:e.needSearch,placeholder:e.placeholder,noHover:!!e.noHover,noSelectAll:!!e.noSelectAll,needClick:!0,needReWidth:!0,attach:{extOffset:{left:-1,top:-2}},canShow:function(){return!t.isDisabled},listeners:{change:function(){t.error(!1),t.fire("change"),t.updateText(),e.change&&e.change.call(t)},ok:function(){t.fire("ok"),t.updateText(),e.ok&&e.ok.call(t)}}});var n=t.attachSel.attach;n.listen("attachShow",(function(){i.addClass("open")})),n.listen("attachHide",(function(){i.removeClass("open")}))},isOpen:function(){return this.getEl().hasClass("open")},open:function(t){this.getEl();this.attachSel.attach[!1===t?"forceHide":"forceShow"]()},select:function(t,e){var i=this,n=i.rawConfig,o=n.options,a=i.attachSel;if(0===arguments.length){var s=a.val(),c={};return r.forEach(o,(function(t,e){c[t.value]=e})),r.map(s,(function(t){return c[t]}))}s=r.map(r.isArray(t)?t:[t],(function(t){return o[t].value}));a.val(s,!e),i.updateText()},val:function(t,e){var i=this,n=(i.rawConfig,i.attachSel);if(0===arguments.length)return n.val();n.val(t,!e),i.updateText()},valText:function(){return this.attachSel.valText()},text:function(){return this.attachSel.valText().join(",")||""},updateText:function(){var t=this.rawConfig,e=n.trim(this.attachSel.valText().join(",")||t.text||"请选择");this.txtEl.html(e),this.txtEl.attr("title",e.replace(/<[^>]+>/g,""))},error:function(t){this.getEl()[!1===t?"removeClass":"addClass"]("error")},size:function(t){var e=this.getEl(),i={xsmall:"btn-group-xs",small:"btn-group-sm",large:"btn-group-lg"}[t||""];e.removeClass("btn-group-sm btn-group-lg"),i&&e.addClass(i)},clear:function(t){this.rawConfig;this.txtEl.html(t),this.attachSel.clear()},disabled:function(t){this.isDisabled=!1!==t,this.getEl()[this.isDisabled?"addClass":"removeClass"]("disabled")},_getData:function(t){return{text:t.text,txtCls:t.autoWidth?"":"dropdown-value",menuCls:t.autoWidth?"dropdown-auto":""}},replaceOptions:function(t){this.rawConfig.options=t,this.attachSel&&this.attachSel.destroy(),this.initSel(),this.updateText()}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(6),s=i(10),c=i(18),l=i(4),d=i(25),u=i(113),h=i(17),p=i(31),f=t.exports=o.create();o.mix(f,a,{_template:'<div><div style="padding:20px;text-align:center;font-size:14px;">加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.popup;p.unbindAccountResult({type:"GET",call:function(i){i.data?(e.close(),l.ok("申请成功，我们将于72小时内审核你的改绑申请，结果将以系统通知的形式告知")):(t.initHtml(),t.initCpn(),e.fixPosition())},error:function(t){e.close(),l.alert(t.msg)}})}},{name:"click .js-submit",handler:function(){this.submit()}}],show:function(t){var e=new f(t=t||{});l.wrap(e,{title:"更改绑定的手机号",content:e.html(),width:600,hasNoFooter:!0})}},{initHtml:function(){this.getEl().html(s.execTpl(['<div class="pop-bind-phone">','<div class="form-group">','<label class="control-label">当前账号ID</label>','<div class="control-group">#{uid}</div>',"</div>",'<div class="form-group">','<label class="control-label">原账号ID</label>','<div class="js-id"><input type="text" placeholder="请输入原账号ID" /></div>','<a href="https://www.nowcoder.com/discuss/157931" target="_blank" class="pop-check-account link-gray"><i class="icon-question-sign"></i> 如何查看原账户ID？</a>',"</div>",'<div class="form-group">','<label class="control-label">手机号码</label>','<div class="control-group form-phone-fill js-account">','<div class="btn-group js-country"></div>','<input type="text" placeholder="请输入手机号码" />',"</div>","</div>",'<div class="form-group">','<label class="control-label">验证码</label>','<div class="btn-group phone-code">','<div class="control-group js-captcha"><input type="text" placeholder="请输入验证码" /></div>','<span class="input-group-btn"><button class="btn btn-primary js-btn-captcha" style="padding:0;">获取验证码</button></span>',"</div>","</div>",'<div class="form-group">','<label class="control-label">改绑理由</label>','<div class="control-group js-reason"><input type="text" placeholder="请输入改绑理由" /></div>',"</div>",'<div class="warning-tips"><i class="icon-warning-sign"></i>注意！手机号改绑完成后，原账号将不能用该手机号登录</div>',"</div>",'<div class="pop-btn-wrapper">','<a href="javascript:void(0);" class="btn btn-primary js-submit">确定申请</a>',"</div>"].join(""),{uid:(h.getUser()||{}).ownerId}))},initCpn:function(){var t=this.cpn={},e=this.getEl();t.uid=d.transform(e.find(".js-id")),t.zip=u.initPhoneZip({renderTo:e.find(".js-country")}),t.account=d.transform(e.find(".js-account")),t.captcha=d.transform(e.find(".js-captcha")),t.reason=d.transform(e.find(".js-reason")),u.initCaptcha({btn:e.find(".js-btn-captcha"),isPhone:!0,check:r.bind(this.checkAccount,this),val:function(){return n.trim(t.zip.val())+n.trim(t.account.val())}})},checkAccount:function(t){u.checkPhone({zip:this.cpn.zip,phone:this.cpn.account,needRegister:!0,call:t})},val:function(t){var e=this,i=e.cpn;if(0===arguments.length)return{uid:n.trim(i.uid.val()),phone:n.trim(i.zip.val())+n.trim(i.account.val()),code:n.trim(i.captcha.val()),reason:n.trim(i.reason.val())}},check:function(){var t=this.cpn,e=this.val(),i="+86"===n.trim(t.zip.val()),r=n.trim(t.account.val()),o=!0;e.uid||(t.uid.setErrorTips("原账号ID不能为空"),o=!1);r||(t.account.setErrorTips("手机号码不能为空"),o=!1);(i&&!s.isPhone(r)||!i&&!/^\d+$/.test(r))&&(t.account.setErrorTips("请填写正确的手机号码"),o=!1);e.code||(t.captcha.setErrorTips("验证码不能为空"),o=!1);e.reason||(t.reason.setErrorTips("改绑理由不能为空"),o=!1);return o},submit:function(){var t=this,e=t.getEl();t.check()&&!c.mark(e)&&p.unbindAccount({body:t.val(),call:function(e){t.popup.close(),l.tips("申请成功，我们将于72小时内审核你的改绑申请，结果将以系统通知的形式告知")},error:function(t){l.alert(t.msg),c.clear(e)}})}})},function(t,e,i){var n=i(2),r=i(6),o=i(18),a=i(3),s=(i(0),i(19)),c=i(4),l=i(31),d=i(15),u=t.exports=a.create();a.mix(u,r,{_template:['<div class="wrapper-content clearfix">','<div class="form-group verify-box">','<label class="control-label">验证码</label>','<div class="control-group">','<input type="text" class="popupcaptcha-val" />',"</div>",'<img class="verify-pic" alt="验证码图片" src="#{src}" />','<a href="javascript:void(0);" class="change-verify">看不清，换一张</a>',"</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.ipt=t.find("input.popupcaptcha-val"),this.image=t.find("img.verify-pic"),this.ipt.focus()}},{name:"click a.change-verify",handler:function(t){var e=n(t.currentTarget);if(!o.mark(e)){var i=n('<img class="verify-pic" alt="验证码图片" src="'+this.getImgSrc()+'" />');this.image.replaceWith(i),this.image=i,this.ipt.val("").focus(),o.pause(e)}}},{name:"keydown input.popupcaptcha-val",type:"bind",handler:function(t){13===t.keyCode&&this.popup&&this.popup.ok()}}],show:function(t){var e=new u(t=t||{});c.wrap(e,{title:t.title||"请输入验证码",content:e.html(),width:400,okTxt:"确定",cancelTxt:"取消",ok:function(){var i=n.trim(e.ipt.val());if(!i)return e.ipt.focus(),!0;t.call&&t.call({code:i})},cancel:function(){t.cancel&&t.cancel()}});return e}},{getImgSrc:function(){var t=this.rawConfig,e=t.type||d.captcha.refAnswer,i=t.url||l.getCaptchaUrl({params:{type:e}});return s.addParam({t:(new Date).getTime()},i)},_getData:function(t){return{src:this.getImgSrc()}}})},function(t,e,i){var n;i(315);var r=i(62),o=i(2),a=i(6),s=(i(18),i(3)),c=(i(10),i(11)),l=i(0),d=i(8),u=i(29),h=i(209),p=i(248),f=i(316),g=i(317),v=i(318),m=t.exports=s.create();function w(t,e){return p.md2html(t,e)}s.mix(m,a,{_template:['<div class="editor-box ke-container ke-container-nowcoder">','<div class="ke-toolbar"></div>','<div style="background:#ffffff;overflow:hidden;" class="ke-edit clearfix">','<textarea class="ke-edit-textarea ke-md-textarea js-ipt"></textarea>','<textarea class="ke-edit-textarea ke-md-textarea js-bak-ipt" style="position:absolute;top:0;left:0;display:none;height:0;overflow:hidden;"></textarea>','<div class="ke-md-edit-preview"><iframe hidefocus="true" allowtransparency="true" frameborder="0"></iframe></div>','<div class="js-fold unfold-textarea"></div>','<div class="js-fold fold-textarea"></div>',"</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig;this.getEl();this.initEl(),this.iptEl.attr("placeholder",o.trim(t.placeholder)||"请使用gfm规范"),this.iptEl.val(t.content||""),this.initPreview(),this.initAutoHeight(),this.initToolBar(),this.showPreview(!t.noPreivew),this.initContentChange(),this.initEvent(),t.disabled&&this.disable(),t.content&&this.fire("afterChange"),this.history.record(),this.initPlugin()}},{name:"click .js-insert-md",handler:function(t){var e=o(t.currentTarget),i=o.trim(e.attr("data-type"));i&&this.insertMd(i)}}],loadDep:function(t){r.use(["ncPlugin/kindeditor/kindeditor/themes/nowcoder/nowcoder.css?t=7","ncPlugin/highlighter/highlighter","ncPlugin/md/markdown","ncPlugin/md/to-markdown","ncPlugin/md/markdown","ncPlugin/md/to-markdown"],(function(e,i){n=i,t&&t()}))},html2md:function(t){return p.html2md(t)},md2html:w},{initialize:function(){this.isMd=!0},initEl:function(){var t=this.getEl();this.toolbarEl=t.find("div.ke-toolbar"),this.bodyEl=t.find("div.ke-edit"),this.iptEl=t.find("textarea.js-ipt"),this.bakIptEl=t.find("textarea.js-bak-ipt"),this.previewEl=t.find("div.ke-md-edit-preview"),this.iframeEl=this.previewEl.find("iframe"),this.iframeDoc=this.iframeEl.get(0).contentDocument||this.iframeEl.get(0).contentWindow.document,this.iframeWin=this.iframeEl[0].contentWindow,this.unfoldEl=t.find("div.unfold-textarea"),this.foldEl=t.find("div.fold-textarea"),this.selection=new f({input:this.iptEl}),this.cmd=new g({editor:this}),this.history=new v({editor:this})},initEvent:function(){var t=this,e=t.rawConfig,i=t.getEl(),n=t.iptEl,r=(t.cmd,t.history),o="macintosh"===(u.getOs()||{}).os;i.on("click","div.js-editor-mask",(function(){return e.clickMask&&e.clickMask.call(t)})),n.on("keydown",(function(i){var n=i.keyCode;9===n?(i.preventDefault(),t.selection.insert("    ")):(i.ctrlKey||i.metaKey)&&(89===n||i.shiftKey&&90===n?(i.preventDefault(),r.redo()):90===n?(i.preventDefault(),r.undo()):13===n&&(o&&i.metaKey||!o&&i.ctrlKey)&&(i.preventDefault(),t.fire("pressEnter"),e.pressEnter&&e.pressEnter()))}))},initPlugin:function(t){var e=this,n=i(319),r=i(320),o=i(321),a=i(322),s=i(338),c=i(339),d=i(340),u=[n,r,o,a,s,c,d];l.forEach(u,(function(t){new t(e)}))},initPreview:function(){var t=this,e=t.getEl(),i=t.rawConfig,r=c.frequency(500),a=t.iframeDoc;function s(){r((function(){if(t.isInPreview){var e=t.iptEl.val(),i=t.getMdHtml(e,{showLine:!0});t.iframeDoc.body.innerHTML=i||"",n.init(o(t.iframeDoc.body).find("pre.prettyprint")),t.fire("updatePreview")}}))}a.open(),a.write('<html><head><meta charset="utf-8" /><title>预览</title><link rel="stylesheet" href="https://static.nowcoder.com/nc/plugin/1.0.17/release/highlighter/style/shCoreDefault.css"><style>'+h.css+'</style></head><body style="overflow-y:'+(i.noAutoHeight?"auto":"hidden")+';margin:5px 5px 5px 21px;"></body></html>'),a.close(),t.listen("afterChange",s),t.listen("showPreview",s),e.find(".js-fold").on("click",(function(e){var i=o(e.currentTarget);t.showPreview(i.hasClass("fold-textarea"))}))},initAutoHeight:function(){var t=this,e=t.rawConfig,i=t.iptEl,n=c.frequency(100);function r(){n((function(){t.reWidth((t.lastSize||{}).width),t.autoHeight()}))}t.listen("afterChange",r),i.on("keyup",r),i.on("keydown",r),i.css("overflow-y",e.noAutoHeight?"auto":"hidden")},initContentChange:function(){var t,e,i=this,n=i.rawConfig,r=i.iptEl,o=i.history,a=c.frequency(800,!0);i.listen("destroy",(function(){window.clearInterval(e)}));var s=r.val()||null;function l(){a((function(){var e=r.val();t!==e&&(t=e,i.fire("draftChange"),n.draftChange&&n.draftChange.call(i,i.val()))}))}d.bindChange(r,(function(){var t=r.val();t!==s&&(s=t,o.record(),l(),i.fire("afterChange"))})),n.draftChange&&(e=window.setInterval(l,1600))},initToolBar:function(t){var e=this,i=e.rawConfig,n=e.toolbarEl,r=e.history,a=e.cmd;t=t||"preview,|,bold,italic,|,codeblock,bockquote,insertorderedlist,insertunorderedlist,link,|,image,|,math,removeformat".split(","),t=i.isAdmin?t:"preview,|,bold,italic,|,codeblock,bockquote,insertorderedlist,insertunorderedlist,|,image,|,math,removeformat".split(",");var s=p.getToolbarHtml(t);n.append(s),n.on("click",".ke-toolbar-icon",(function(t){t.preventDefault();var i=o(t.currentTarget).attr("data-name");i&&a[i]&&a[i](),e.fire("afterChange"),r.record(!0)}))},insertMd:function(t){var e=this,i=(e.selection,e.iptEl),n=t&&{h1:"\n# 标题\n",h2:"\n## 标题\n",h3:"\n### 标题\n",hr:"\n---\n",strong:" **加粗** ",em:" *斜体* ",code:" `行内代码`",blockcode:"\n```\n代码块\n```\n",ul:"\n- 无序列表内容\n- 无序列表内容\n",ol:"\n1. 有序列表内容\n2. 有序列表内容\n",blockquote:"\n> 引用内容\n",link:" [链接标题](https://www.nowcoder.com) ",image:' ![图片说明](https://static.nowcoder.com/images/logo_87_87.png "图片标题") '}[t]||"";n&&function(t){var n=i.range().start;i.caret(n),i.range(t),i.caret(n+t.length),e.fire("afterChange")}(n)},val:function(t){var e=this;if(0===arguments.length){var i=e.iptEl.val();return e.getMdHtml(i)}var n=m.html2md(t);e.text(n)},text:function(t){var e=this;if(0===arguments.length)return e.iptEl.val();e.iptEl.val(t||""),e.fire("afterChange")},blur:function(){this.iptEl.blur()},focus:function(){this.iptEl.focus(),this.selection.focus()},disable:function(t){var e=this.getEl(),i=e.find(".js-editor-mask");if(!(t=!1!==t))return i.hide();0===i.length&&(i=o('<div class="js-editor-mask" style="background:#fff;opacity:0;filter:alpha(opacity=0);position:absolute;width:100%;height:100%;top:0;left:0;z-index:999;"></div>'),e.append(i));i.show()},isEmpty:function(){return!o.trim(this.text())},showPreview:function(t){var e=this.rawConfig,i=this.getEl();t=!1!==t,this.isInPreview=t,i[t?"removeClass":"addClass"]("ke-md-no-preview"),this.selectToolbarItem("preview",t),this.fire("showPreview",t);var n=this.lastSize||{},r=n.width||e.width||"auto",o=n.height||Math.max(+e.height||0,150);this.resize(r,o)},resize:function(t,e){var i=this.rawConfig;this.getEl();if(this.lastSize={width:t,height:e},this.reWidth(t),e){var n=this.toolbarEl.outerHeight(),r=Math.max(e-n-2,0);if(this._editHeight=r,i.noAutoHeight){this.bodyEl.outerHeight(r);var o=this.bodyEl.height();this.iptEl.outerHeight(o),this.previewEl.outerHeight(o)}else this.autoHeight()}(t||e)&&this.fire("resize")},reWidth:function(t){var e=this.getEl(),i=this.lastSize&&this.lastSize.width===t;this.lastSize&&(this.lastSize.width=t),!i&&t&&e.css("outerWidth",t)},autoHeight:function(){var t=this.rawConfig,e=this.getEl();if(t.noAutoHeight)return;var i=d.getScrollParent(e),n=(i=o(i||window)).scrollTop(),r=this.isInPreview?this.getIframeHeight():0,a=this.getTxtHeight(),s=Math.max(r,a,this._editHeight);if(this._lastHeight===s)return;this.bodyEl.outerHeight(s),this.iptEl.outerHeight(s),this.previewEl.outerHeight(s),this.iframeEl.outerHeight(s);var c=this._lastHeight?s-this._lastHeight:0;this._lastHeight=s,i.scrollTop(n+c)},selectToolbarItem:function(t,e){var i=this.toolbarEl.find("a[data-name="+t+"]").parent();i[(e=!1!==e)?"addClass":"removeClass"]("ke-on"),i[e?"attr":"removeAttr"]("data-on",1)},getTxtHeight:function(){var t=this.bakIptEl;t.width(this.iptEl.width()),t.val(this.iptEl.val()).show();var e=t.get(0).scrollHeight;return t.hide(),e},getIframeHeight:function(){var t=this.iframeEl.height(),e=this.iframeDoc.body;this.iframeEl.height(1);var i=e.scrollHeight;return this.iframeEl.height(t),i},getMdHtml:w})},function(t,e,i){var n=i(62),r=i(0),o=i(2),a=i(10);t.exports={html2md:function(t){t=o.trim(t);var e=n.require("ncPlugin/md/to-markdown"),i=t?e(t,{gfm:!0,converters:[{filter:"pre",replacement:function(t){return("```\n"+t+"\n```").replace(/\n+/gi,"\n")}},{filter:"em",replacement:function(t){return"*"+t+"*"}},{filter:"address|center|dir|div|dl|fieldset|form|isindex|iframe|menu|table|thead|tbody|tr".split("|"),replacement:function(t){return t+"\n\n"}},{filter:"td",replacement:function(t){return t+" "}}]}):"";return i=i.replace(/<.*?>/gi,"")},md2html:function(t,e){var i=n.require("ncPlugin/md/markdown");if(!this._initMd&&i.setOptions({gfm:!0,breaks:!0,tables:!0,sanitize:!1,langPrefix:"lang-"}),this._initMd=!0,o.trim(t)){return i(t,e)}return t},getToolbarHtml:function(t){var e={preview:"预览",bold:"粗体",italic:"斜体",codeblock:"代码",bockquote:"引用",insertorderedlist:"编号",insertunorderedlist:"项目符号",link:"超级链接",image:"图片",table:"表格",math:"插入公式",removeformat:"清除全部格式"};return r.map(t,(function(t,i){return t=o.trim(t),a.execTpl("|"===t?'<span class="ke-inline-block ke-separator"></span>':'<span class="ke-outline" data-title="#{name}"><a href="javascript:void(0);" data-name="#{key}" class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-#{key}"></a></span>',{key:t,name:e[t]})}))}}},function(t,e,i){var n=i(2),r=i(0),o=i(46),a=i(31),s=o.create("RemoteImage");t.exports={a:document.createElement("A"),upload:function(t,e){var i=this;i.a;if(!(t=n.trim(t))||i.isLocal(t))return e&&e(t);var r=i.getMap();if(r[t])return e&&e(r[t]);i.actionUpload({source:t,type:0,call:function(o){var a=n.trim(o.url);r[t]=a||t,i.saveMap(),e&&e(a||t)},error:function(){e&&e("https://uploadfiles.nowcoder.com/images/20190919/56_1568900435177_29C080A5413E925FE3B3CCB4048AB99B")}})},canUpload:function(t){var e=this,i=r.isArray(t)?t:[t];return i.length>0&&!!r.find(i,(function(t){return(t=n.trim(t))&&!e.isLocal(t)}))},isUploaded:function(t){var e=this,i=e.getMap(),o=r.isArray(t)?t:[t];return 0===o.length||r.every(o,(function(t){return!(t=n.trim(t))||e.isLocal(t)||i[t]}))},isLocal:function(t){var e=this.a;if(!(t=n.trim(t)))return!1;e.href=t;var i=e.hostname;return!!r.find(["nowcoder.com","nowcoder.net","aliyuncs.com"],(function(t){return i.indexOf(t)>=0}))},actionUpload:function(t){a.uploadImageOnline({query:{watermark:"true"},body:{source:t.source,type:t.type||0},call:t.call,error:t.error})},getMap:function(){return this._remoteMap=this._remoteMap||s.get("data")||{}},saveMap:function(){s.set("data",this._remoteMap)}}},function(t,e,i){var n=i(62),r=i(2),o=i(148),a=i(6),s=i(3),c=i(29),l=i(0),d=i(8),u=i(15),h=i(209),p=i(323),f=t.exports=s.create();s.mix(f,a,{_template:'<div style="position:relative;"></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig;this.getEl();this.initEvent(),this.initPlugin(),t.disabled&&this.disable(),this.resize(t.width,t.height),this.initKe()}},{name:"destroy",type:"custom",handler:function(){try{this.keEditor.remove()}catch(t){}}}],create:function(t,e){if(0===(t=r(t)).length)return;var i=(t.prop("tagName")||"").toLowerCase(),n="input"===i||"textarea"===i;return new f(l.extend({renderTo:t,renderBy:"replaceWith",content:n?t.val():"",height:Math.max(t.outerHeight(),200)},e))},loadDep:function(t){n.use(["ncPlugin/kindeditor/kindeditor","ncPlugin/kindeditor/kindeditor/themes/nowcoder/nowcoder.css?t=4"],t)}},{initialize:function(t){this._createdQueue=[]},initKe:function(){this._initKePlugin();var t=this.getEl(),e=r("<div></div>");t.append(e);var i=this.keEditor=window.KindEditor.create(e.get(0),this._getConf()),n=i.html;i.html=function(t){return t?(t=t.replace(/\u00A0/g,"&nbsp;"),n.call(this,t)):n.apply(this,arguments)}},initPlugin:function(){var t=this;t.waitCreated((function(){var e=[i(324),i(326),i(327),i(328),i(329),i(330),i(331),i(332),i(333),i(334),i(335),i(336),i(337)];l.forEach(e,(function(e){new e(t)}))}))},initEvent:function(){var t=this,e=t.rawConfig,i=t.getEl();if(t._initEvent)return;t._initEvent=!0,t.listen("afterCreate",(function(){if(!t._afterCreate){t._afterCreate=!0,e.content&&t.val(e.content),l.forEach(t._createdQueue,(function(e){return e&&e.call(t)})),t._createdQueue.length=0,i.on("click","div.js-editor-mask",(function(){try{e.clickMask&&e.clickMask.call(t)}catch(i){}})),e.afterCreate&&e.afterCreate.call(t);var n=r(t.getEditorDoc());n.on("keydown",(function(i){i.keyCode;var r="macintosh"===(c.getOs()||{}).os;13===i.keyCode&&(r&&i.metaKey||!r&&i.ctrlKey)&&(i.preventDefault(),n.blur(),t.fire("pressEnter"),e.pressEnter&&e.pressEnter())}))}})),t.listen("afterChange",(function(){var i=t.keEditor,n=i.edit.cmd.range;t.isInTagNode(n.startContainer,"blockquote")||t.isInTagNode(n.endContainer,"blockquote")?i.toolbar.select("bockquote"):i.toolbar.unselect("bockquote");var r=t.isInTagNode(n.startContainer,"pre")||t.isInTagNode(n.endContainer,"pre");i.edit.designMode&&(r?(i.toolbar.disableAll(!0,["source","codeblock"]),i.toolbar.select("codeblock")):(i.toolbar.disableAll(!1),i.toolbar.unselect("codeblock"))),e.afterChange&&e.afterChange.call(t)})),t.listen("afterBlur",(function(){e.afterBlur&&e.afterBlur.call(t)})),t.listen("afterFocus",(function(){e.afterFocus&&e.afterFocus.call(t)}))},val:function(){var t=this;return t.keEditor.html.apply(t.keEditor,arguments)},text:function(){var t=this;return t.keEditor.text.apply(t.keEditor,arguments)},iframeHtml:function(){var t=this.keEditor;try{if(t.isCreated)return t.edit.doc.body.innerHTML;var e=t.srcElement;return{button:1,input:1,select:1,textarea:1}[(((e=e&&e.get?e.get(0):e)||{}).nodeName||"").toLowerCase()]?(e.value||"").replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi,""):e?e.innerHTML:""}catch(i){return""}},count:function(){return this.keEditor.count("text")},blur:function(){try{this.keEditor.blur()}catch(t){}},focus:function(){try{this.keEditor.focus()}catch(t){}},disable:function(t){var e=this.getEl();this.waitCreated((function(){var i=e.find(".js-editor-mask");if(!1===t)return i.hide();0===i.length&&(i=r('<div class="js-editor-mask" style="background:#fff;opacity:0;filter:alpha(opacity=0);position:absolute;width:100%;height:100%;top:0;left:0;z-index:999;"></div>'),e.append(i)),i.show()}))},isEmpty:function(){return this.keEditor.isEmpty()},resize:function(t,e){var i=this,n=i.rawConfig,r=i.getEl();i.waitCreated((function(){var o=i.keEditor;if(t&&r.outerWidth(t),i.getEditorEl().width("auto"),e){var a=i.getToolbarEl().outerHeight(),s=!n.noAutoHeight;e=Math.max(e-a-2,0),s&&(o.edit._editHeight=e+"px"),s&&i.autoHeight(),!s&&o.edit.setHeight(e)}}))},autoHeight:function(t){var e=this.rawConfig,i=this.keEditor,n=this.getEditorDoc();if(e.noAutoHeight)return;if(!t){var o=this.getEditorEl();t=d.getScrollParent(o),t=r(t||window)}var a=t.scrollTop();i.edit.setHeight(1);var s=n.body.scrollHeight;r(this.getEditorDoc().body).css("overflow","hidden"),this.getEditorEditEl().css("overflow","hidden").height(1),s=Math.max(s,n.body.scrollHeight);var c=this._lastHeight?s-this._lastHeight:0;this._lastHeight=s;var l=parseInt(i.edit._editHeight||0,10)||0;s=Math.max(s,l),i.edit.setHeight(s),t.scrollTop(a+(s===l?0:c))},waitCreated:function(t){var e=this.keEditor;e&&e.isCreated?t&&t.call(this):this._createdQueue.push(t)},getEditor:function(){return this.keEditor},getEditorDoc:function(){return this.keEditor.edit.doc},getEditorWin:function(){return this.keEditor.edit.win},getEditorEl:function(){return r(this.keEditor.container[0])},getEditorEditEl:function(){return r(this.keEditor.edit.div)},getToolbarEl:function(){return r(this.keEditor.toolbar.div.get(0))},getCmdClosestEl:function(){var t=this.keEditor.cmd.range.startContainer;for(;t&&1!==t.nodeType;)t=t.parentNode;return t},isInTagNode:function(t,e){if(!t||!e)return!1;var i=!1;e=e.toLowerCase();try{for(;t;){var n=(t.tagName||"").toLowerCase();if(n&&n===e){i=!0;break}t=t.parentNode}}catch(r){}return i},removePlaceHolder:function(){r(this.getEditorDoc()).find("#kePlaceholder").remove()},getElPos:function(t){var e=this.getEl(),i=this.getEditorDoc(),n=r(i.body),o=d.getPosTop(t,n),a=d.getPosLeft(t,n),s=d.getPosTop(e),c=d.getPosLeft(e),l=this.getToolbarEl().outerHeight(),u=n.scrollTop(),h=n.scrollLeft();return{top:o+s+l-u,left:a+c-h}},_getConf:function(){var t=this,e=t.rawConfig,i=l.clone(o.get());i.type=u.uploadType.image,i.watermark="true",i.token=o.get("csrf_token");var n={allowNCFileUpload:!0,allowFileManager:!0,filterMode:!e.noFilterHtml,themeType:"nowcoder",uploadJson:"/uploadImage",extraFileUploadParams:i,resizeType:0,height:(e.height||300)+"px",newlineTag:"div",cssData:h.css,items:p.getToolItems({isAdmin:e.isAdmin,isVote:!!e.cbEditVote}),htmlTags:{span:".color,.font-weight,.vertical-align".split(","),div:"align,.text-align,.color,.vertical-align".split(","),table:"border,cellspacing,cellpadding,height,align,bordercolor,.padding,.margin,.border,bgcolor,.text-align,.color,.background-color,.font-weight,.text-decoration,.background,.height,.border-collapse".split(","),"td,th":"align,valign,width,height,colspan,rowspan,bgcolor,.text-align,.color,.background-color,.font-weight,.text-decoration,.vertical-align,.background,.border".split(","),a:"href,target,name,data-card-uid,data-card-subject-id".split(","),embed:"src,width,height,wmode,name,allowfullscreen,flashvars,type,loop,autostart,quality,.width,.height,align,allowscriptaccess".split(","),object:"classid,width,height,id".split(","),param:"name,value".split(","),video:"autoplay,controls,height,loop,muted,poster,preload,src,playsinline,.width,.margin".split(","),img:"id,src,width,height,border,alt,title,align,data-card-emoji,data-vote-id,.width,.height,.border".split(","),"p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":"align,.text-align,.color,.font-weight,.vertical-align".split(","),pre:["class"],hr:"class,.page-break-after".split(","),iframe:"frameborder,width,height,src,allowfullscreen".split(","),"br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del":[]}},r=l.extend(n,e.keConf,{placeholder:e.placeholder,afterCreate:function(){t.keEditor=t.keEditor||this,t.fire("afterCreate")},afterChange:function(){t.keEditor=t.keEditor||this,t.waitCreated((function(){t.fire("afterChange")}))},afterBlur:function(){t.keEditor=t.keEditor||this,t.fire("afterBlur")},afterFocus:function(){t.keEditor=t.keEditor||this,t.fire("afterFocus")}});e.noCodeSelect||l.forReverse(r.items,(function(t,e){"codeblock"===t&&r.items.splice(e,1)}));return r},_initKePlugin:function(){var t=this;if(f._initKePlugin)return;f._initKePlugin=!0,window.KindEditor.plugin("bockquote",(function(){var e=this;e.clickToolbar("bockquote",(function(){if(r("#kePlaceholder",e.edit.doc).remove(),e.select(),n=e.cmd.commonNode({blockquote:"*"})){var i=e.cmd.range.createBookmark();n.remove(!0),e.cmd.range.moveToBookmark(i)}else{var n;if(e.cmd.indent(),n=e.cmd.commonNode({blockquote:"*"})){try{e.cmd.range.selectNodeContents(n),e.cmd.removeformat()}catch(o){}n.removeAttr("style"),!n.next()&&n.after("<br />")}}e.select(),t.fire("afterChange")}))})),window.KindEditor.plugin("codeblock",(function(){var e=this;e.clickToolbar("codeblock",(function(){if(r("#kePlaceholder",e.edit.doc).remove(),e.select(),n=e.cmd.commonNode({pre:"*"})){var i=e.cmd.range.createBookmark();n.remove(!0),e.cmd.range.moveToBookmark(i)}else{var n;if(e.exec("formatblock","<pre>"),n=e.cmd.commonNode({pre:"*"})){try{e.cmd.range.selectNodeContents(n),e.cmd.removeformat()}catch(o){}n.addClass("prettyprint"),!n.next()&&n.after("<br />")}}e.select(),t.fire("afterChange")}))}))}})},,,,,,,,,,,,,,function(t,e,i){i(265),i(287);var n=i(235);t.exports=n.Array.from},function(t,e,i){"use strict";var n=i(266).charAt,r=i(222),o=i(268),a=r.set,s=r.getterFor("String Iterator");o(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),i=e.string,r=e.index;return r>=i.length?{value:undefined,done:!0}:(t=n(i,r),e.index+=t.length,{value:t,done:!1})}))},function(t,e,i){var n=i(198),r=i(199),o=function(t){return function(e,i){var o,a,s=String(r(e)),c=n(i),l=s.length;return c<0||c>=l?t?"":undefined:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,i){var n=i(138),r=i(224),o=n.WeakMap;t.exports="function"==typeof o&&/native code/.test(r(o))},function(t,e,i){"use strict";var n=i(230),r=i(278),o=i(239),a=i(285),s=i(242),c=i(165),l=i(233),d=i(157),u=i(203),h=i(195),p=i(238),f=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=d("iterator"),m=function(){return this};t.exports=function(t,e,i,d,p,w,b){r(i,e,d);var y,x,C,k=function(t){if(t===p&&j)return j;if(!g&&t in T)return T[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},E=e+" Iterator",S=!1,T=t.prototype,_=T[v]||T["@@iterator"]||p&&T[p],j=!g&&_||k(p),I="Array"==e&&T.entries||_;if(I&&(y=o(I.call(new t)),f!==Object.prototype&&y.next&&(u||o(y)===f||(a?a(y,f):"function"!=typeof y[v]&&c(y,v,m)),s(y,E,!0,!0),u&&(h[E]=m))),"values"==p&&_&&"values"!==_.name&&(S=!0,j=function(){return _.call(this)}),u&&!b||T[v]===j||c(T,v,j),h[e]=j,p)if(x={values:k("values"),keys:w?j:k("keys"),entries:k("entries")},b)for(C in x)!g&&!S&&C in T||l(T,C,x[C]);else n({target:e,proto:!0,forced:g||S},x);return x}},function(t,e,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},function(t,e,i){var n=i(166),r=i(232),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},function(t,e,i){var n=i(146),r=i(272),o=i(231),a=i(175);t.exports=function(t,e){for(var i=r(e),s=a.f,c=o.f,l=0;l<i.length;l++){var d=i[l];n(t,d)||s(t,d,c(e,d))}}},function(t,e,i){var n=i(234),r=i(273),o=i(276),a=i(167);t.exports=n("Reflect","ownKeys")||function(t){var e=r.f(a(t)),i=o.f;return i?e.concat(i(t)):e}},function(t,e,i){var n=i(236),r=i(206).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){var n=i(205),r=i(237),o=i(275),a=function(t){return function(e,i,a){var s,c=n(e),l=r(c.length),d=o(a,l);if(t&&i!=i){for(;l>d;)if((s=c[d++])!=s)return!0}else for(;l>d;d++)if((t||d in c)&&c[d]===i)return t||d||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,i){var n=i(198),r=Math.max,o=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):o(i,e)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(166),r=/#|\.prototype\./,o=function(t,e){var i=s[a(t)];return i==l||i!=c&&("function"==typeof e?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},function(t,e,i){"use strict";var n=i(238).IteratorPrototype,r=i(281),o=i(194),a=i(242),s=i(195),c=function(){return this};t.exports=function(t,e,i){var l=e+" Iterator";return t.prototype=r(n,{next:o(1,i)}),a(t,l,!1,!0),s[l]=c,t}},function(t,e,i){var n=i(166);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,i){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=i(241);t.exports=r&&!Symbol.sham&&"symbol"==n(Symbol.iterator)},function(t,e,i){var n,r=i(167),o=i(282),a=i(206),s=i(204),c=i(284),l=i(227),d=i(202),u=d("IE_PROTO"),h=function(){},p=function(t){return"<script>"+t+"<\/script>"},f=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(r){}var t,e;f=n?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=l("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var i=a.length;i--;)delete f.prototype[a[i]];return f()};s[u]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(h.prototype=r(t),i=new h,h.prototype=null,i[u]=t):i=f(),e===undefined?i:o(i,e)}},function(t,e,i){var n=i(174),r=i(175),o=i(167),a=i(283);t.exports=n?Object.defineProperties:function(t,e){o(t);for(var i,n=a(e),s=n.length,c=0;s>c;)r.f(t,i=n[c++],e[i]);return t}},function(t,e,i){var n=i(236),r=i(206);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var n=i(234);t.exports=n("document","documentElement")},function(t,e,i){var n=i(167),r=i(286);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(o){}return function(i,o){return n(i),r(o),e?t.call(i,o):i.__proto__=o,i}}():undefined)},function(t,e,i){var n=i(176);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,i){var n=i(230),r=i(288);n({target:"Array",stat:!0,forced:!i(297)((function(t){Array.from(t)}))},{from:r})},function(t,e,i){"use strict";var n=i(289),r=i(240),o=i(291),a=i(292),s=i(237),c=i(293),l=i(294);t.exports=function(t){var e,i,d,u,h,p,f=r(t),g="function"==typeof this?this:Array,v=arguments.length,m=v>1?arguments[1]:undefined,w=m!==undefined,b=l(f),y=0;if(w&&(m=n(m,v>2?arguments[2]:undefined,2)),b==undefined||g==Array&&a(b))for(i=new g(e=s(f.length));e>y;y++)p=w?m(f[y],y):f[y],c(i,y,p);else for(h=(u=b.call(f)).next,i=new g;!(d=h.call(u)).done;y++)p=w?o(u,m,[d.value,y],!0):d.value,c(i,y,p);return i.length=y,i}},function(t,e,i){var n=i(290);t.exports=function(t,e,i){if(n(t),e===undefined)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,i){var n=i(167);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(a){var o=t["return"];throw o!==undefined&&n(o.call(t)),a}}},function(t,e,i){var n=i(157),r=i(195),o=n("iterator"),a=Array.prototype;t.exports=function(t){return t!==undefined&&(r.Array===t||a[o]===t)}},function(t,e,i){"use strict";var n=i(201),r=i(175),o=i(194);t.exports=function(t,e,i){var a=n(e);a in t?r.f(t,a,o(0,i)):t[a]=i}},function(t,e,i){var n=i(295),r=i(195),o=i(157)("iterator");t.exports=function(t){if(t!=undefined)return t[o]||t["@@iterator"]||r[n(t)]}},function(t,e,i){var n=i(296),r=i(232),o=i(157)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=n?r:function(t){var e,i,n;return t===undefined?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(i){}}(e=Object(t),o))?i:a?r(e):"Object"==(n=r(e))&&"function"==typeof e.callee?"Arguments":n}},function(t,e,i){var n={};n[i(157)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e,i){var n=i(157)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},"return":function(){r=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o={};o[n]=function(){return{next:function(){return{done:i=!0}}}},t(o)}catch(s){}return i}},,function(t,e,i){i(2),i(0);var n=i(19);t.exports={val:function(t){var e=this;if(0===arguments.length)return n.getParam("lang");(t=e.fix(t))&&t!==e.val()&&(window.location.href=n.addParam({lang:t}))},fix:function(t){return t&&{zh:"zh",en:"en"}[t]||""}}},function(t,e,i){var n=i(618)["default"];t.exports={show:function(t){t=t||{};var e=n.ncPopup({propsData:{href:t.href,register:t.register}});e.$on("close",(function(){t.close&&t.close()})),e.$on("register",(function(){t.registerCb&&t.registerCb(),!t.registerCb&&window.location.reload()})),e.$on("login",(function(){t.loginCb&&t.loginCb(),!t.loginCb&&window.location.reload()}))}}},function(t,e,i){var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=i(2),o=i(3),a=i(0),s=i(6),c=i(18),l=i(4),d=i(67),u=i(25),h=i(31),p=t.exports=o.create();o.mix(p,s,{_template:'<div><div style="padding:20px 0;text-align:center;font-size:14px;">加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig;t.isMiddle=!!e.isMiddle,t.getCity((function(){t.initContainer(),t.initCpns(),e.val&&t.val(e.val),t.popup&&t.popup.fixPosition()}))}}],show:function(t){var e=new p(t=t||{});l.wrap(e,{title:"添加学校信息",content:e.html(),width:700,noUnique:!!t.noUnique,okTxt:"提交",ok:function(){return e.check()&&e.submit(),!0},cancel:function(){},close:function(){e.fire("close")}});return e}},{initContainer:function(){this.getEl().html(['<div class="pop-authorize-tip" style="width:auto;font-size:14px;">',"提交学校信息后，管理员将于3个工作日内审核，审核期间将不影响简历的正常投递。</br>","如有以下情况，则该申请将会被拒绝，且除简历以外涉及学校的个人资料将需重新填写学校信息：</br>","1.重复添加学校信息<br />","2.新增学校名称不完整或名称错误<br />","3.若未找到学校所在的地区，请选择【中国-北京】并申请地区+学校名称如“美国哈佛大学”","</div>",'<div class="pop-filter-wrap js-filter-box"></div>'].join("")),this.headerEl=this.getEl(".js-filter-box")},initCpns:function(){var t=this,e=t.headerEl,i=(t.cityMap={},a.map(t.cityData,(function(e,i){return t.cityMap[e.name]=e,{text:e.name,value:e.name}})));t.countryCpn=new d({renderTo:e,text:"请选择国家",needSearch:i.length>5,options:i,listeners:{change:function(){return t.fixCity()}}}),t.provCpn=new d({renderTo:e,text:"请选择省份",needSearch:!0,options:[]}),t.provCpn.hide(),t.iptCpn=new u({cls:"inline-block",renderTo:e,placeholder:"请输入学校全称"}),t.fixCity()},val:function(t){var e=this;if(0===arguments.length)return{country:e.countryCpn.val()||"",prov:e.provCpn.hidden?undefined:e.provCpn.val()||"",name:r.trim(e.iptCpn.val())};"中国"!==(t=t||{}).country&&e.countryCpn.val(t.country),"北京"!==t.prov&&e.provCpn.val(t.prov),e.iptCpn.val(r.trim(t.name)),e.fixCity()},check:function(){var t=this.val(),e=!0,i=t.name||"";t.country?"中国"!==t.country||t.prov||(this.provCpn.error(),e=!1):(this.countryCpn.error(),e=!1);i?i.length>250&&(this.iptCpn.errorTips("学校名称不能超过250个字符"),e=!1):(this.iptCpn.errorTips("学校名称不能为空"),e=!1);return e},submit:function(){var t=this,e=t.val(),i=t.getEl();if(c.mark(i))return;h.addSchool({body:n({isMiddle:t.isMiddle},e),call:function(i){t.fire("ok",e),t.popup&&t.popup.close()},error:function(e){return t.iptCpn.errorTips(e.msg)},always:function(){return c.clear(i)}})},fixCity:function(){var t=this.countryCpn.val(),e=this.cityMap[t];if(!e)return;if(e.provs&&e.provs.length>0){var i=[];a.forEach(e.provs,(function(t,e){i.push({text:t.name,value:t.name})})),this.provCpn.replaceOptions(i),this.provCpn.show()}else this.provCpn.hide()},getCity:function(t){var e=this;h.getSchoolBrief({query:{isMiddle:e.isMiddle},call:function(i){var n=e.cityData=i.data||[];t&&t(n)},error:function(t){l.alert(t.msg),e.popup.close()}})}})},function(t,e,i){var n=i(2),r=i(0),o=i(6),a=i(3),s=i(4),c=i(8),l=(i(19),i(168)),d=t.exports=a.create(),u=/\$\$([^\$]*?)\$\$|\$([^\$]*?)\$/g,h={1:["\\alpha","\\beta","\\gamma","\\delta","\\epsilon","\\varepsilon","\\zeta","\\eta","\\theta","\\vartheta","\\iota","\\kappa","\\lambda","\\mu","\\nu","\\xi","\\pi","\\varpi","\\rho","\\varrho","\\sigma","\\varsigma","\\tau","\\upsilon","\\phi","\\varphi","\\chi","\\psi","\\omega","\\Gamma","\\Delta","\\Theta","\\Lambda","\\Xi","\\Pi","\\Sigma","\\Upsilon","\\Phi","\\Psi","\\Omega"],2:["\\times","\\div","\\cdot","\\pm","\\mp","\\ast","\\star","\\circ","\\bullet","\\oplus","\\ominus","\\oslash","\\otimes","\\odot","\\dagger","\\ddagger","\\vee","\\wedge","\\cap","\\cup","\\aleph","\\Re","\\Im","\\top","\\bot","\\infty","\\partial","\\forall","\\exists","\\neg","\\angle","\\triangle","\\diamond"],3:["\\leq","\\geq","\\prec","\\succ","\\preceq","\\succeq","\\ll","\\gg","\\equiv","\\sim","\\simeq","\\asymp","\\approx","\\ne","\\subset","\\supset","\\subseteq","\\supseteq","\\in","\\ni","\\notin"],4:["x_{a}","x^{b}","x_{a}^{b}","\\bar{x}","\\tilde{x}","\\frac{a}{b}","\\sqrt{x}","\\sqrt[n]{x}","\\bigcap_{a}^{b}","\\bigcup_{a}^{b}","\\prod_{a}^{b}","\\coprod_{a}^{b}","\\left( x \\right)","\\left[ x \\right]","\\left\\{ x \\right\\}","\\left| x \\right|","\\int_{a}^{b}","\\oint_{a}^{b}","\\sum_{a}^{b}{x}","\\lim_{a \\rightarrow b}{x}","\\left[ \\begin{matrix}\n     0 & 1 \\\\\n     1 & 0 \\\\\n\\end{matrix} \\right]"],5:["\\leftarrow","\\rightarrow","\\leftrightarrow","\\Leftarrow","\\Rightarrow","\\Leftrightarrow","\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow"]};a.mix(d,o,{_template:'<div class="pop-formula"><div style="font-size:14px;text-align:center;padding:20px;">加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig;window.seajs.use("//static.nowcoder.com/nc/style/0.0.05/fontcustom/latex/latex.css",(function(){t.initContainer(e),t.initData(),t.initFormult(e),t.initLatex(e),t.popup.fixPosition(),t[e.useLaTex?"latex":"formult"].ipt.focus()}))}},{name:"click ul.js-formula-list li",handler:function(t){var e=n(t.currentTarget),i=this.formult.ipt,r=e.attr("data-type"),o=e.attr("data-index"),a=h[r][o];r&&o&&a&&(i.range(a),i.caret(i.range().end),this.refreshFormultImage())}}],show:function(t){var e=new d(t=t||{});s.wrap(e,{content:e.html(),title:"插入公式",noUnique:!0,width:720,ok:function(){return e.submit()},cancel:function(){}});return e}},{initialize:function(t){this.useLaTex=!!t.useLaTex},initContainer:function(t){var e=this.getEl(),i=!!this.useLaTex,n=['<div class="pop-formula js-formula">','<div class="pop-formula-panel">','<section class="clearfix"><ul class="js-formula-list"></ul></section>','<section class="pop-formula-txt"><textarea class="js-formula-ipt"></textarea></section>','<section class="pop-formula-review js-formula-preview">预览</section>',"</div>","</div>"].join("");if(!i)return e.html(n);var o=['<div class="pop-formula js-latex" style="display:none;">','<section class="pop-formula-txt" style="border:0;padding:0;"><textarea class="js-latex-ipt" style="height:180px;" placeholder="输入带有LaTeX公式(公式分隔符: $)的内容，将自动解析"></textarea></section>','<section class="pop-formula-review js-latex-preview">预览</section>',"</div>"].join("");e.html(n+o);var a=e.find(".js-formula"),s=e.find(".js-latex"),c=r.id(t.type);this.tabType=new l({renderTo:e,renderBy:"prepend",type:"line",items:[{text:"LaTex",value:"2",checked:"2"===c},{text:"数学公式",value:"1",checked:"1"===c}],listeners:{render:function(){this.getEl().css("marginBottom","20px")},change:function(){var t=this.val();a["1"===t?"show":"hide"](),s["2"===t?"show":"hide"]()}}})},initData:function(){var t=this.getEl();this.latex={el:t.find(".js-latex"),ipt:t.find(".js-latex-ipt"),preview:t.find(".js-latex-preview")},this.formult={el:t.find(".js-formula"),ipt:t.find(".js-formula-ipt"),list:t.find(".js-formula-list"),preview:t.find(".js-formula-preview")}},initLatex:function(t){if(this.useLaTex){c.bindChange(this.latex.ipt,r.bind(this.refreshLatexContent,this));var e=n.trim(t.valueLaTex);e&&this.valLatexText(e)}},initFormult:function(t){this.initFormultTab(),c.bindChange(this.formult.ipt,r.bind(this.refreshFormultImage,this));var e=n.trim(t.value);this.valText(e)},initFormultTab:function(){var t=this,e=(t.getEl(),{}),i=[{text:"特殊字符",value:"1"},{text:"运算符号",value:"2"},{text:"关系符号",value:"3"},{text:"函数符号",value:"4"},{text:"箭头符号",value:"5"}],o=n('<div class="pop-formula-sub"></div>'),a=r.map(i,(function(t){return'<a href="javascript:void(0);" class="js-formult-item" data-id="'+t.value+'">'+t.text+"</a>"})).join("");function s(i){var n=o.find(".js-formult-item[data-id="+i+"]"),a=function(t){if(!e[t]){var i={1:40,2:33,3:21,4:21,5:12}[t],n=[];r.forCount(i,(function(e){n.push('<li data-type="'+t+'" data-index="'+e+'"><i class="icon-latex-symbol'+t+"-"+(e+1)+'"></i></li>')})),e[t]=n.join("")}return e[t]}(i);o.find(".js-formult-item").removeClass("selected"),n.addClass("selected"),t.formult.list.html(a)}o.html(a),t.formult.el.prepend(o),s(i[0].value),o.on("click",".js-formult-item",(function(t){var e=n(t.currentTarget);s(n.trim(e.attr("data-id")))}))},refreshLatexContent:function(){var t=this.latex.preview,e=this._lastLatexVal,i=this.valLatexText();if(this._lastLatexVal=i,i){if(i!==e){var n=this.valLatexHtml(!0);t.html('<div style="text-align:left;">'+n+"</div>")}}else t.html("预览")},refreshFormultImage:function(){var t=this,e=t.formult.preview,i=(t.formult.ipt,t.valText()),r=t.valSrc(!0);if(r){var o=document.createElement("img");o.onload=function(){if(t.valText()===i){var n=e.find("img");n.get(0)&&n.replaceWith(o),!n.get(0)&&e.html(o)}},o.onerror=function(){t.valText()===i&&e.html("加载出错，请重试")},n(o).attr("src",r).attr("alt",i)}else e.html("预览")},valType:function(){this.rawConfig;return this.useLaTex&&this.tabType?this.tabType.val():"1"},valLatexText:function(t){var e=this,i=e.latex.ipt;if(0===arguments.length)return n.trim(i.val());i.val(n.trim(t)),e.refreshLatexContent()},valLatexHtml:function(t){var e=this;return e.valLatexText().replace(u,(function(i,n,r){var o=e.fixTex(n||r),a=o.content;return o.isTex?'<img src="'+e.getSrc(a,t)+'" alt="'+a+'" />':a})).replace(/\n/g,"<br />")},valText:function(t){var e=this,i=e.formult.ipt;if(0===arguments.length)return n.trim(i.val());i.val(n.trim(t)),e.refreshFormultImage()},valSrc:function(t){return this.getSrc(this.valText(),t)},submit:function(){var t=this,e=t.rawConfig;if("1"===t.valType()){var i=t.valSrc(),n=t.valText();return!i&&s.alert("公式不能为空"),!i||(e.upload&&e.upload.call(t,n,i,(function(){t.popup.close()})),!e.upload&&e.call&&e.call.call(t,n,i),!!e.upload)}if(!(n=t.valLatexText()))return s.alert("内容不能为空"),!0;if(e.uploadBatch){var o=[],a=[];if(n.replace(u,(function(e,i,n){var r=t.fixTex(i||n),s=r.content;r.isTex&&(s&&o.push(s),s&&a.push(t.getSrc(s)))})),o=r.uniq(o),a=r.uniq(a),o.length>0)return e.uploadBatch.call(t,o,a,(function(i){var r=n.replace(u,(function(e,n,r){var o=t.fixTex(n||r),a=o.content;return o.isTex?'<img src="'+(i[a]||t.getSrc(a))+'" alt="'+a+'" />':a})).replace(/\n/g,"<br />");e.callLaTex&&e.callLaTex(r),t.popup.close()})),!0}e.callLaTex&&e.callLaTex(t.valLatexHtml())},getSrc:function(t,e){return(t=n.trim(t))?"https://www.nowcoder.com/equation?tex="+window.encodeURIComponent(t)+(e?"&preview=true":""):""},fixTex:function(t){var e=t=n.trim(t);!1;var i=this.isRightTex(e);return{isTex:i,content:i?t:e.replace(/\\\{/gi,"{").replace(/\\\}/gi,"}")}},isRightTex:function(t){return t&&/\\|_|\^|\{|\}/.test(t.replace(/\\\{/gi,"").replace(/\\\}/gi,""))},showLoad:function(){return new s({hasNoTitle:!0,hasNoFooter:!0,noUnique:!0,content:'<div style="font-size:14px;text-align:center;">图片上传中...</div>'})}})},function(t,e,i){var n=i(2),r=i(6),o=i(107),a=i(3),s=i(12),c=(i(0),i(4)),l=i(31),d=t.exports=a.create();a.mix(d,r,{_template:['<div class="change-pop clearfix">','<div class="avarta-box">','<div style="position:relative;width:100%;height:100%;overflow:hidden" class="avatar-container">头像加载中</div>',"</div>",'<div class="mini-big clearfix">','<span class="mini-ico"></span>','<div class="js-slider ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" aria-disabled="false">','<div class="ui-slider-segment" style="margin-left: 25%;"></div>','<div class="ui-slider-segment" style="margin-left: 25%;"></div>','<div class="ui-slider-segment" style="margin-left: 25%;"></div>','<div class="ui-slider-segment"></div>','<div class="ui-slider-segment"></div>','<div class="ui-slider-segment"></div>','<div class="ui-slider-range ui-widget-header ui-corner-all ui-slider-range-min js-bar" style="width: 0;"></div>','<a class="ui-slider-handle ui-state-default ui-corner-all js-drag" href="javascript:void(0);" style="left: 0;"></a>',"</div>",'<span class="big-ico"></span>',"</div>",'<div class="submit-btnbox">','<a class="btn btn-default cancle-btn" href="javascript:void(0);">取消</a>','<a class="btn btn-primary confirm-btn" href="javascript:void(0);">保存</a>',"</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.info,i=t.rawConfig,r=t.getEl(),o=r.find("div.avatar-container"),a=document.createElement("IMG");t.dragEl=r.find(".js-drag"),t.barEl=r.find(".js-bar"),e.bar.width=r.find(".js-slider").width(),a.onload=function(){t.avatarLoaded=!0,e.avatar.width=this.width,e.avatar.height=this.height,t.fixInfo(),t.fixPosition(),o.html("").append(a),t.fire("setScale"),t.fire("setDrag")},a.onerror=function(){alert("头像加载出错，请重试"),t.popup.close()},a.src=i.src,t.avatarEl=a=n(a).css({position:"absolute",left:0,top:0})}},{name:"click a.cancle-btn",type:"bind",handler:function(){this.popup.close()}},{name:"click a.confirm-btn",type:"bind",handler:function(){var t=this,e=t.rawConfig;if(t.avatarLoaded){if(!t.avatarSaving){t.avatarSaving=!0;var i=t.getResult();i.source=e.src,s.out(i),l.saveHead({body:i,call:function(i){e.call&&e.call(i),t.popup.close()},error:function(){alert("头像保存失败"),t.avatarSaving=!1}})}}else alert("请等待头像加载完成")}},{name:"setScale",type:"custom",handler:function(){var t=this,e=t.info;if(t.avatarLoaded&&!t.setScaled){t.setScaled=!0;var i=t.getEl();i.find(".js-drag"),i.find(".js-bar");t.scaleDrag=new o({drag:t.dragEl,listeners:[{name:"drag",handler:function(){var i=this._left=e.bar.left+this._moveX-this._downX;i>e.bar.width?i=e.bar.width:i<=0&&(i=0),t.dragEl.css({left:i}),t.barEl.width(i),e.scale=i/e.bar.width,t.fixPosition()}},{name:"drop",handler:function(){e.bar.left=this._left}}]})}}},{name:"setDrag",type:"custom",handler:function(){var t=this,e=t.info;if(t.avatarLoaded&&!t.setDraged){t.setDraged=!0;var i=t.avatarEl;t.dragdrop=new o({drag:i,listeners:[{name:"start",handler:function(){var t=1+e.scale;this._avatarWidth=e.min.width*t,this._avatarHeight=e.min.height*t}},{name:"drag",handler:function(){var t=this._avatarWidth,n=this._avatarHeight,r=e.position.left+this._moveX-this._downX,o=e.position.top+this._moveY-this._downY;r+t<e.dialog.width&&(r=e.dialog.width-t),r>0&&(r=0),o+n<e.dialog.height&&(o=e.dialog.height-n),o>0&&(o=0),i.css({left:r,top:o}),this._avatarLeft=r,this._avatarTop=o}},{name:"drop",handler:function(){e.position.left=this._avatarLeft,e.position.top=this._avatarTop,e.center.left=t.getCenter(this._avatarLeft,this._avatarWidth),e.center.top=t.getCenter(this._avatarTop,this._avatarHeight)}}]})}}}],show:function(t){var e=new d(t);c.wrap(e,{title:"修改头像",content:e.html(),width:390,listeners:{close:function(){try{t.close&&t.close(),e.fire("close")}catch(i){s.out(i)}},destroy:function(){e.scaleDrag=null,e.dragdrop=null,e.info=null}}});return e}},{initialize:function(t){this.info={scale:0,dialog:{width:300,height:300},avatar:{width:0,height:0},center:{left:0,top:0},position:{left:0,top:0},bar:{left:0,width:0}}},fixInfo:function(){var t=this.info;if(!this.avatarLoaded)return;var e=t.avatar.width,i=t.avatar.height,n=t.dialog.width,r=t.dialog.height,o={},a={};"width"==(e/n<i/r?"width":"height")?(o.width=n,o.height=o.width*i/e):(o.height=r,o.width=o.height*e/i);a.width=2*o.width,a.height=2*o.height,t.min=o,t.max=a,t.position.left=(t.dialog.width-o.width)/2,t.position.top=(t.dialog.height-o.height)/2,t.center.left=this.getCenter(t.position.left,o.width),t.center.top=this.getCenter(t.position.top,o.height)},fixPosition:function(){if(!this.avatarLoaded)return;var t=this.info,e=1+t.scale,i=t.min.width*e,n=t.min.height*e,r=t.dialog.width/2-t.center.left*i,o=t.dialog.height/2-t.center.top*n;r+i<t.dialog.width&&(r=t.dialog.width-i,t.center.left=this.getCenter(r,i));r>0&&(r=0,t.center.left=this.getCenter(r,i));o+n<t.dialog.height&&(o=t.dialog.height-n,t.center.top=this.getCenter(o,n));o>0&&(o=0,t.center.top=this.getCenter(o,n));this.avatarEl.css({left:r,top:o,width:i,height:n}),t.position.left=r,t.position.top=o},getCenter:function(t,e){if(!this.avatarLoaded)return;return(this.info.dialog.width/2-t)/e},getResult:function(){var t=this.info;return{scale:(1+t.scale)*t.min.width/t.avatar.width,x:-t.position.left,y:-t.position.top,width:t.dialog.width,height:t.dialog.height}}})},function(t,e,i){var n=i(2),r=i(0),o=i(6),a=i(3),s=i(104),c=i(10),l=i(8),d=i(43),u=(i(25),t.exports=a.create());a.mix(u,o,{_template:['<div class="btn-group open" style="display:block;">','<ul class="dropdown-menu js-select" style="position:static;float:none;display:none;border-bottom:0;overflow-x:hidden;"></ul>','<ul class="dropdown-menu js-list" style="position:static;float:none;border-bottom:0;overflow-x:hidden;"></ul>','<ul class="dropdown-menu js-search" style="position:static;float:none;border-bottom:0;overflow-x:hidden;display:none;"></ul>','<div style="padding:20px 0;text-align:center;font-size:14px;display:none;background:#fff;border:1px solid #d4d4d4;" class="js-none">没有结果</div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl(),e=this.rawConfig;this.ulEl=t.find("ul.js-list"),this.searchUlEl=t.find("ul.js-search"),this.selectUlEl=t.find("ul.js-select"),this.noneEl=t.find("div.js-none"),this.cache.hasSub&&t.addClass("with-multi-list"),r.id(e.width)&&t.outerWidth(e.width),this.initResize()}}],show:function(t){var e=this,i=new u(t=t||{});s.wrap(i,{attachRenderTo:t.attachRenderTo,target:t.target,attach:t.attach,content:i.html(),zIndex:t.zIndex,noHover:t.noHover,needClick:t.needClick,canShow:t.canShow,canHide:t.canHide,needReWidth:t.needReWidth,attachShow:function(){i.renderItems(),i.ulEl.scrollTop(0)},attachHide:function(){i.searchIpt&&(i.searchIpt.val(""),i.search(""));var n=i.val();i._same(n,e._lastVal)||(i._lastVal=n,t.ok&&t.ok.call(e),i.fire("ok"))}});return i._lastVal=i.val(),i}},{initialize:function(t){this.cache={allChk:null,search:{chk:[],chkLi:[]},listRendered:!1,chk:[],chkLi:[],subAttachSel:{}},this.initConf(t)},initConf:function(t){var e=this.cache,i=t.options,n=function o(t,e,i){for(var n=[],r=0;r<e.length;r++){var a=e[r];if(a.parent===t&&(a.subDeep=i,n.push(a),e.splice(r,1),r--,a.value!==undefined&&null!==a.value)){var s=o(a.value,e.slice(0),i+1);n=n.concat(s)}}return n}(undefined,i,0);i.length=0,r.forEach(n,(function(t){i.push(t)})),r.forEach(t.options,(function(t){var i=(t.options||[]).length>0;e.hasSub=e.hasSub||i,!i&&delete t.options}))},initResize:function(){var t=this,e=t.attach,i=t.getEl();e.listen("widthChange",(function(e){t.renderItems();var n=t.searchIpt;n&&n.hide();var r=i.width("auto").outerWidth();i.outerWidth(Math.max(r,e)),n&&n.outerWidth(i.width()).show()}))},initSearch:function(){var t=this,e=t.rawConfig;if(!e.needSearch)return;var i=t.getEl(),o=t.cache,a=!1,s=t.searchIpt=n('<input style="display:block;border-radius:0;" type="text" placeholder="'+(e.placeholder||"输入关键词搜索")+'" />');i.prepend(t.searchIpt),l.bindChange(s,(function(){!function(){if(!a){a=!0;var e=t.searchUlEl,i=(t.parent||t).getAllItem();r.forEach(i,(function(i){var n=t._createLi(i,!0);e.append(n.li),o.search.chk.push(n.chk),o.search.chkLi.push(n.li)}))}}(),t.search(n.trim(s.val())),t.hideAttach(!0)})),s.outerWidth(i.width())},initSelectAll:function(){var t=this,e=(t.getEl(),t.rawConfig);if(!e.noSelectAll){var i=t.selectUlEl,o=n("<li></li>");t.cache.allChk=new d({renderTo:o,text:"全选",checked:!1,change:function(){var i=!!this.isChecked();r.forEach(e.options,(function(e){t.fixOption(e,i)})),t.fixChk(),e.change&&e.change.call(t),(t.parent||t).fire("change")}}),i.append(o),i.show()}},initSubSel:function(){var t=this;r.forEach(t.cache.chkLi,(function(e,i){l.hoverToggle({el:n(e),enter:function(){t.openSub(i)},leave:function(){t.openSub(i,!1)}})}));var e=t.attach,i=e.rawConfig,o=i.canHide;i.canHide=function(){var i=!o||o();return r.forEach(t.cache.subAttachSel,(function(t){return(i=i&&!t.attach.isMouseEnter)?null:r.BREAK})),i&&!e.isMouseEnter}},renderItems:function(){var t=this.rawConfig;this.cache.listRendered||(this.cache.listRendered=!0,this.createItems(t.options),this.initSearch(),this.initSelectAll(),this.initSubSel(),this.fixChk())},val:function(t,e){var i=this,n=i.rawConfig;n.options,i.cache.chk;if(0===arguments.length){var o=i.getSelectedItem();return r.map(o,(function(t){return t.value}))}t=r.isArray(t)?t:[t];var a=i.val();i._same(t,a)||(r.forEach(i.getAllItem(),(function(e){e.checked=r.contains(t,e.value)})),i.fixChk(),!0!==e&&(n.change&&n.change.call(i),i.fire("change")))},valText:function(){var t=this.getSelectedItem();return r.map(t,(function(t){return t.text}))},clear:function(){var t=this.rawConfig;r.forEach(this.cache.chk,(function(t){t.checked(!1)})),r.forEach(t.options,(function(t){t.checked=!1}))},search:function(t){var e=this.cache;if(!e.listRendered)return;if(this.searchUlEl.scrollTop(0).show(),this.ulEl.scrollTop(0).hide(),this.noneEl.hide(),!t)return this.ulEl.show(),this.searchUlEl.hide(),void this.showAllChk();var i=e.search.chkLi,n=c.searchRegExp(t),o=0;r.forEach(e.search.chk,(function(t,e){try{n.lastIndex=0}catch(c){}var r=t.rawConfig.text,a=n.test(r),s=i[e];(s=s&&s.get?s.get(0):s)&&s.style&&(s.style.display=a?"":"none"),a&&o++})),this.searchUlEl[o>0?"show":"hide"](),this.noneEl[o>0?"hide":"show"](),this.showAllChk(!1)},isSelectAll:function(){var t=this.rawConfig.options;return r.every(t,(function(t){return t.checked}))},showAllChk:function(t){this.cache.allChk&&(t=!1!==t,this.cache.allChk[t?"show":"hide"](),this.selectUlEl[t?"show":"hide"]())},createItems:function(t){var e=this,i=e.ulEl.html(""),n=e.cache.chk,o=e.cache.chkLi;r.forEach(t,(function(t){var r=e._createLi(t),a=r.chk,s=r.li;n.push(a),o.push(s),i.append(s)}))},fixChk:function(t){var e=this.parent||this;(function o(t){var e=!1;return r.forEach(t,(function(t,i){t.options&&(t.checked=o(t.options)),e=!(!e&&!t.checked)})),e})(t=e.rawConfig.options),function a(t,e){var i=t?t.cache:null;if(t&&i.listRendered){var n=!0;r.forEach(i.chk,(function(t,o){var s=!!e[o].checked;n=n&&s,t.checked(s),r.forEach(i.subAttachSel,(function(t,i){a(t,e[+i].options)}))})),i.allChk&&i.allChk.checked(n)}}(e,t),i=e,n=i.getAllItem(),r.forEach(i.cache.search.chk,(function(t,e){t.checked(!!n[e].checked)}));var i,n},fixOption:function(t,e){var i=this;t.checked=e,r.forEach(t.options,(function(t){t.checked=!!e,i.fixOption(t,e)}))},hideAttach:function(t){r.forEach(this.cache.subAttachSel,(function(t){t.hideAttach()})),t||(this.attach.isMouseEnter=!1,this.attach.forceHide())},getSelectedItem:function(){var t=this.getAllItem();return r.filter(t,(function(t){return t.checked}))},getAllItem:function(){return function t(e){var i=[];return r.forEach(e,(function(e){var n=e.options;n&&(i=i.concat(t(n))),!n&&i.push(e)})),i}(this.rawConfig.options)},openSub:function(t,e){var i=this,r=i.rawConfig,o=(i.getEl(),r.options[t].options),a=i.cache.subAttachSel,s=a[t];if((e=!1!==e)&&o&&!s){var c=n(i.cache.chkLi[t]),l=(s=a[t]=u.show({attachRenderTo:i.attach.getEl().parent(),target:c,options:o,noSelectAll:r.noSelectAll,needReWidth:!0,attach:{horz:!0,extOffset:{left:-1}},canHide:function(){return!s.attach.isMouseEnter}})).attach,d=i.parent||i;s.parent=d,l.listen("attachHide",(function(t){h(c),t&&t.attachLeave&&i.attach.forceHide(t)})),l.listen("attachShow",(function(){h(c,!0)})),l.forceShow(),i.pushChild(s)}else!e&&s&&s.attach.forceHide();function h(t,e){var i=t.find(".icon-angle-left"),n=t.find(".icon-angle-right");i[e?"show":"hide"](),n[e?"hide":"show"]()}},_same:function(t,e){var i=function(t,e){return t-e},n=(t||[]).sort(i).join("|"),r=(e||[]).sort(i).join("|");return n===r},_createLi:function(t,e){var i=this,r=i.parent||i,o=r.rawConfig,a=!!t.options,s=t.subDeep,l=c.execTpl(a?'<li style="position:relative;#{padding}#{background}"><i class="icon-angle-right"></i><i class="icon-angle-left" style="display:none;"></i></li>':'<li style="#{padding}#{background}"></li>',{padding:e?"":s>0?"padding-left:"+(10+10*s)+"px;":"",background:e?"":1===s?"background:#f7f7f7;":s>1?"background:#eeeeee;":""}),u=n(l);return{chk:new d({renderTo:u,renderBy:"prepend",text:t.text,val:t.value,checked:!!t.checked,disabled:!!t.disabled,change:function(){i.fixOption(t,this.isChecked()),i.fixChk(),o.change&&o.change.call(r),r.fire("change")}}),li:u}},_getData:function(){}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(6),s=i(10),c=i(11),l=i(18),d=i(4),u=i(25),h=i(15),p=i(113),f=i(31),g=t.exports=o.create();o.mix(g,a,{_template:["<div>",'<p class="pop-verify-tip" style="text-align:center;">#{alertContent}</p>','<div style="width:400px;margin:0 auto;">','<div class="form-group">','<label class="control-label">手机号码</label>','<div class="control-group form-phone-fill js-account">','<div class="btn-group js-country"></div>','<input type="text" placeholder="请输入手机号码">',"</div>","</div>",'<div class="form-group">','<label class="control-label">验证码</label>','<div class="btn-group phone-code">','<div class="control-group js-captcha"><input type="text" placeholder="请输入验证码"></div>','<span class="input-group-btn">','<button class="btn btn-primary js-btn-captcha" style="padding:0 5px;">获取验证码</button>',"</span>","</div>","</div>","</div>",'<div class="pop-phone-tips">','<div style="text-align:right;">','<a href="javascript:void(0);" class="link-gray js-phone-used"><i class="icon-question-sign"></i>手机号码已被注册？</a>',"</div>","</div>",'<a href="javascript:void(0);" class="btn btn-primary btn-lg js-verify" style="display:block;margin:50px auto 0;">确定</a>','<p class="reg-tips" style="text-align:center;margin-top:25px;">点击"确定"按钮，即表示你同意 <a href="https://static.nowcoder.com/protocol/register.html" target="_blank;">《注册协议》</a> 和 <a href="https://static.nowcoder.com/protocol/privacy-policy.html" target="_blank;">《隐私政策》</a></p>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){this.initCpn(),this.initCaptcha(),this.initPhoneTips()}},{name:"click .js-verify",handler:function(t){this.submit()}}],show:function(t){var e=new g(t=t||{});d.wrap(e,{title:"验证手机",content:e.html(),width:550,hasNoFooter:!0});return e}},{initCpn:function(){var t=this.getEl(),e=this.cpn={};e.zip=p.initPhoneZip({renderTo:t.find(".js-country")}),e.account=u.transform(t.find(".js-account")),e.captcha=u.transform(t.find(".js-captcha")),e.zip.listen("change",r.bind(this.checkAccount,this)),e.account.listen("blur",r.bind(this.checkAccount,this))},initCaptcha:function(){var t=this,e=t.getEl(".js-btn-captcha"),i=!1,r=0;function o(){if(!i){i=!0;var o=n.trim(t.cpn.zip.val()),a=n.trim(t.cpn.account.val());t.checkAccount((function(t){!t&&(i=!1),t&&f.validatePhone({body:{phone:o+a},captcha:{type:h.captcha.sendVerifyCode},call:function(t){var n;n=++r,(i=!1)||(i=!0,e.addClass("btn-default").removeClass("btn-primary"),c.countDown({second:60,call:function(t){return r===n&&e.html(t+"秒后重新获取"),r!==n},end:function(){r===n&&(e.html("重新获取验证码"),e.addClass("btn-primary").removeClass("btn-default"))}}))},error:function(t){i=!1,d.alert(t.msg)}})}))}}e.on("click",(function(t){t.preventDefault(),o()})),t.listen("destroy",(function(){r++}))},initPhoneTips:function(){this.getEl().find(".js-phone-used").on("click",(function(){i(245).show({})}))},val:function(){var t=this.cpn,e=n.trim(t.zip.val())||"+86",i=n.trim(t.account.val());return{phone:e+i,code:n.trim(this.cpn.captcha.val())}},submit:function(){var t=this,e=t.cpn,i=t.rawConfig,n=t.getEl(".js-verify");t.check((function(r){if(r&&!l.mark(n)){var o=t.val();f.activePhone({body:o,call:function(){t.popup.close(),d.tips("验证成功"),i.ok&&i.ok(o.phone)},error:function(t){var i=t.msg||"";-1!==i.indexOf("验证码")?e.captcha.setErrorTips(i):d.alert(t.msg)},always:function(){l.clear(n)}})}}))},check:function(t){var e=this.val(),i=this.cpn,n=!0;e.code||(i.captcha.setErrorTips("验证码不能为空"),n=!1);this.checkAccount((function(e){t&&t(n&&e)}))},checkAccount:function(t){var e=this.accountMap=this.accountMap||{},i=this.cpn.account,r=n.trim(this.cpn.zip.val()),o=n.trim(i.val()),a=e[o];if("+86"===r?!s.isPhone(o):!/^\d{3,}$/.test(o))return i.setErrorTips("请输入正确的手机号码"),t&&t(!1);if(!0===a)return i.setErrorTips("该手机号码已经被注册"),t&&t(!1);if(!1===a)return i.setSuccess(),t&&t(!0);f.checkPhone({query:{phone:r+o},call:function(){e[o]=!1,o===n.trim(i.val())&&i.setSuccess(),t&&t(!0)},error:function(){e[o]=!0,o===n.trim(i.val())&&i.setErrorTips("该手机号码已经被注册"),t&&t(!1)}})},_getData:function(t){return{alertContent:t.alertContent||"应国家法律要求，使用该功能时需完成手机号验证。<br />感谢您的支持和理解 ⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄. "}}})},function(t,e,i){var n=i(62),r=i(2),o=i(0),a=i(3),s=i(37),c=i(11),l=i(31),d=t.exports=a.create();o.extend(d.prototype,s,{initialize:function(t){var e=this;e.netease=!!window.useNeteaseCaptcha,e.errorCount=0,e.cbName="ncGt"+(new Date).getTime()+o.ascId(),e.initEvent(),e.getData({type:t.type,call:function(i){e[e.netease?"initNetease":"initGt"](t,i)}})},initEvent:function(){var t=this;t.gt=null,t.listen("getGtCode",(function(e){t.gt=e}))},initGt:function(t,e){var i=this,r=i.cbName;window[r]=null,n.use("//api.geetest.com/getfrontlib.php?callback="+r+"&gt="+e.captchaId),window[r]=function(){window[r]=null;var n=new window.Geetest({gt:e.captchaId,challenge:e.challenge,product:t.product||"float",offline:!e.success}),o=i.getElId(t,r);o&&n.appendTo("#"+o),i.fire("getGtCode",n)}},initNetease:function(t,e){var i=this,r=i.cbName;n.use("//cstaticdun.126.net/load.min.js",(function(){c.waitUtil({times:250,condition:function(){return!!window.initNECaptcha},call:function(){var n=i.getElId(t,r),o=t.product||"float";n&&window.initNECaptcha({captchaId:e.captchaId,element:"#"+n,mode:o,width:260,onVerify:function(t,e){!t&&e&&(i.neteaseValidateResult=e.validate)}},(function(t){i.fire("getGtCode",t)}),(function(t){i.fire("getGtCodeError",t)}))}})}))},check:function(){var t=this.gt;if(this.netease){var e=this.neteaseValidateResult||(t&&t.getValidate?t.getValidate():null);return e?{netease_validate:e}:null}return t?t.getValidate():null},refresh:function(){try{this.gt&&this.gt.refresh&&this.gt.refresh()}catch(t){}},getData:function(t){var e=this,i=!!e.netease;l.getGtData({query:{t:(new Date).getTime(),source:i?"netease":"gt"},params:{type:t.type},call:function(i){e.errorCount=0,t.call&&t.call(i.data)},error:function(){if(e.errorCount++,e.errorCount<5)return window.setTimeout(o.bind(e.getData,e,t.call),250);e.errorCount=0}})},getElId:function(t,e){var i=r(t.el),n=i.get(0);if(n&&(!document.contains||document.contains(n))){return!i.attr("id")&&i.attr("id",e),i.attr("id")}}})},function(t,e,i){function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var r=i(62),o=i(2),a=i(6),s=i(3),c=i(0),l=i(46),d=i(8),u=i(10),h=i(11),p=i(18),f=i(74),g=i(207),v=i(85),m=i(4),w=i(147),b=i(31),y=i(130),x=i(616)["default"],C=t.exports=s.create();function k(t){var e=this;if(e.tempJquery)return t&&t(e.tempJquery);var i=b.codeSubmitUrl();w.create(i,(function(i){e.tempJquery=i,t&&t(i)}))}s.mix(C,a,{_template:['<div class="subject-eidt-box" style="position:relative;">','<div class="subject-eidt-header">','<a href="javascript:void(0);" class="ico-fresh js-fresh-code" title="还原模板代码">'+c.lang("重置")+"</a>",'<a href="javascript:void(0);" class="ico-computer js-self-test" title="代码自测">自测</a>','<div class="subject-edit-oprt js-head-tool">','<a href="javascript:void(0);" class="icon-fullscreen js-full-screen"></a>',"</div>","</div>",'<div class="js-editor-body code-font"></div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig,i=t.getEl();e.noRefresh&&i.find(".js-fresh-code").remove(),e.noSelfTest&&i.find(".js-self-test").remove(),e.selfTestWarning=e.selfTestWarning||"注意：自测用例通过仅代表自测时使用的数据通过，不代表题目的测试用例均能通过。",t.initCMPlugin((function(){t.headerEl=i.find("div.subject-eidt-header"),t.editorEl=i.find("div.js-editor-body"),t.initHeader(),t.initEditor(),t.originalHeight=i.height(),t.toolbarHeight=i.find("div.subject-eidt-header").outerHeight(),(e.width||e.height)&&t.resize(e.width,e.height),t.initAutoSize(),t.initPlugin((function(){t.initEvent(),t.execPlugin("cache","initCacheCode")}))}))}},{name:"click a.js-full-screen",handler:function(){var t=this.rawConfig,e=c.isFunction(t.goFullScreen);e&&t.goFullScreen.call(this),!e&&this.goFullScreen()}},{name:"click a.js-fresh-code",handler:function(){var t=this;t.rawConfig.noRefresh||m.confirm(c.lang("刷新后代码框将重置为初始状态，正在编辑的代码将清空，但不会影响已提交的代码，确定刷新吗？"),(function(){return t.execPlugin("cache","restoreTpl")}))}},{name:"click div.js-editor-mask",handler:function(){var t=this.rawConfig;this._disabled&&t.clickMask&&t.clickMask.call(this)}}],initShowDiff:function(){var t=this,e=new g;o(document).on("click",".js-show-submission-diff",(function(i){var n=o(i.currentTarget),r=o.trim(n.attr("data-submission")),a="1"===o.trim(n.attr("data-self-test"));r&&(p.mark(n)||t.getJquery((function(t){e.getSubmissionDiff({$:t,urlGetSubmissionDiff:b.codeGetSubmissionDiffUrl(),submissionId:r,tagId:a?9:0,call:function(t){return t.data?x.show({propsData:{content:t.data,isSelfTest:a}}):m.alert("没有输入输出数据")},error:function(t){return m.alert(t.msg)},always:function(){return p.clear(n)}})})))}))},loadDep:function(t){r.use(["ncPlugin/codemirror/style/codemirror.css","ncPlugin/codemirror/style/theme/monokai.css","ncPlugin/codemirror/codemirror"],t)},saveLastLangue:function(t){var e=window.localStorage,i=l.create("codeEditorCache");t&&i.set("NC_Code_Langue",t),t&&e&&e.removeItem&&e.removeItem("NC_Code_Langue")},getLastLangue:function(){var t=window.localStorage,e=l.create("codeEditorCache").get("NC_Code_Langue");!e&&t&&(e=t.NC_Code_Langue,this.saveLastLangue(e));return e},getJquery:k},{initialize:function(t){this.codeSubmit=new g,this.isJudgeVoj=!!t.isJudgeVoj,this._disabled=!1,this._createdQueue=[]},initCMPlugin:function(t){r.use(["ncPlugin/codemirror/mode/clike/clike","ncPlugin/codemirror/addon/edit/matchbrackets","ncPlugin/codemirror/addon/edit/closebrackets","ncPlugin/codemirror/addon/hint/showhint","ncPlugin/codemirror/addon/invisible/invisible"],t)},initHeader:function(){var t=this,e=t.rawConfig.options,i=-1;c.forEach(e,(function(e,n){i=e.checked&&i<0?n:i,e.text=e.name||f.getNameById(t.isJudgeVoj?e.ncValue:e.value)||"",e.value=u.trim(e.value)})),e[Math.min(Math.max(0,i),e.length-1)].checked=!0,t.langueSelect=new y({options:e,renderTo:t.headerEl,renderBy:"prepend",change:function(){var i=t.valLangue();C.saveLastLangue(i);var n=t.isJudgeVoj?c.find(e,(function(t){return t.value===i})):null,o=f.getCMById(t.isJudgeVoj?n.ncValue:i);o&&r.use("ncPlugin/codemirror/mode/"+o.plugin+"/"+o.plugin,(function(){i===t.valLangue()&&t.editor.setOption("mode",{name:o.name})})),t.execPlugin("cache","restoreCode"),t.fire("langueChange")}})},initEditor:function(){var t=this,e=t.rawConfig,i=(t.getEl(),l.create("codeEditorCache")),n=c.extend({theme:"monokai",indentUnit:r(),lineNumbers:!0,showInvisibles:!0,mode:"text/x-csrc",matchBrackets:!0,autoCloseBrackets:!0,hintOptions:{completeSingle:!1,closeOnUnfocus:!0},extraKeys:{Tab:function(t){var e=t.somethingSelected();e&&t.indentSelection("add"),!e&&t.replaceSelection(new Array(r()+1).join(" "),"end","+input")}}},e.codeMirrorConf);function r(){return{2:2,4:4,8:8}[i.get("settingSpaceCount")]||4}t.editor=CodeMirror(t.editorEl.get(0),n),!!e.readOnly&&t.disable(),c.forEach(t._createdQueue,(function(e){return e&&e.call(t)})),t._createdQueue.length=0},initPlugin:function(t){var e=this,n=[{name:"cache",plugin:i(308)},{name:"hint",plugin:i(309)},{name:"setting",plugin:i(310)},{name:"selfTest",plugin:i(311)}];e.plugin={},c.forEach(n,(function(t){var i=t.plugin;e.plugin[t.name]=new i({parent:e,editor:e.editor})})),t&&t()},initEvent:function(){var t=this,e=t.rawConfig,i=t.getEl(),n=t.editor;n.on("changes",(function(){return t.fire("codeChange")})),n.on("cursorActivity",(function(){t._disabled&&(window.setTimeout((function(){return i.find(".CodeMirror-cursor").hide()}),0),e.clickMask&&e.clickMask())}))},initAutoSize:function(){var t=this;t.rawConfig.noAutoSize||(t.editor.on("changes",(function(){return t.autoSize()})),t.autoSize())},disable:function(t){if((t=!1!==t)!==this._disabled){this.getEl().find(".CodeMirror-cursor")[t?"hide":"show"](),this._disabled=t,this.editor.setOption("readOnly",t),this.langueSelect.disabled(t)}},val:function(t,e){var i=this;if(arguments.length<2)return;i.valLangue(t),i.valCode(e)},valCode:function(t){var e=this;if(0===arguments.length)return(e.editor.getValue()||"").replace(/ /gi," ");e.editor.setValue(t||"")},valLangue:function(t,e){var i=this;if(0===arguments.length)return i.langueSelect.val();(t=u.trim(t))&&i.langueSelect.val(t,e)},resize:function(t,e,i){var n=this;n.waitCreated((function(){var r=n.getEl();t&&r.outerWidth(t),e?(e=parseInt(e,10),r.outerHeight(e),!i&&(n.originalHeight=r.height())):e=r.outerHeight();var o=n.toolbarHeight=r.find("div.subject-eidt-header").outerHeight();n.editor.setSize("100%",e-o),n.autoSize(),n.execPlugin("selfTest","resize")}))},autoSize:function(){if(!this.rawConfig.noAutoSize&&!this.isFullScreen)try{this._editorScrollEl=this._editorScrollEl||o(this.editor.getScrollerElement()),this._editorSizerEl=this._editorScrollEl.find("div.CodeMirror-sizer");var t=window.parseInt(this._editorSizerEl.css("min-height")||this._editorSizerEl.height(),10);this.editor.setSize("100%",Math.max(this.originalHeight-this.toolbarHeight,t)),this.getEl().height("auto")}catch(e){}},goFullScreen:function(){var t=this,e=t.rawConfig,i=t.getEl(),n=o(window);if(d.cls(i.find(".js-full-screen"),{"icon-fullscreen":t.isFullScreen,"icon-resize-small":!t.isFullScreen}),t.isFullScreen)return t.isFullScreen=!1,e.renderTo.append(i),t.layer.hide(),t.resize(e.width,t.originalHeight,!0),void t.fire("fullScreen",!1);t.isFullScreen=!0,t.layer=new v({showContent:!0,clickToHide:!1,listeners:{render:function(){this.contentEl.addClass("nk-body"),this.append(i),t.resize("100%",n.height(),!0)},winresize:function(){t.resize("100%",n.height(),!0)}}}),t.fire("fullScreen",!0)},getLangueData:function(t){var e=this.rawConfig,i=c.toMap(e.options,(function(t){return{key:t.value,value:t}}));return t?i[t]:i},checkCode:function(t){var e=this.valLangue(),i=this.valCode(),n=o.trim(i)?i.length>1e5?"啊，代码不要这么长嘛，人家受不了了~":e?"":"错误的代码语言":"代码不能为空";if(n)return g(n);if(this.isJudgeVoj)return t&&t(!0);if("1"===e||"2"===e||"22"===e){if(/%I64/.test(i)&&!/%ll/.test(i)){var r=m.confirm("在提交的代码中发现%I64，牛客OJ后台是Linux系统，64位long long请使用%lld，unsigned long long请使用 %llu",c.bind(t,null,!1),c.bind(t,null,!0));return r.okBtn.html("返回修改"),void r.cancelBtn.html("强制提交")}}else if("4"===e){if(!this.getLangueData()[e].tplCode){for(var a=o.trim(i).split("\n"),s=!1,l=!1,d=0,u=a.length;d<u;d++){var h=a[d];if(!s){var p=h.split("//")[0]||"";if(/\bpackage\b/.test(p))return g("请删除代码开头的package信息")}var f=/public\s+class\s+(\w+)/.exec(h);if(f&&!l&&(s=!0,!(l="Main"===f[1])))return g("请修改类名为Main")}if(!s)return g("找不到类名，请修改类名为Main")}}function g(e){m.alert(e),t&&t(!1)}t&&t(!0)},runCode:function(){var t=this,e=t.execPlugin("selfTest","val")||{},i=!!e.inTest;function r(r){var o,a=t.rawConfig,s=a.runCode||{},l=!!s.questionId,d=(n(o={pid:s.pid,tid:s.tid,qid:s.qid,questionId:s.questionId||s.qid,tagId:s.tagId,subTagId:s.subTagId,content:t.valCode()},t.isJudgeVoj?"vojLanguage":"language",t.valLangue()),n(o,"languageName",t.langueSelect.text()),o);if(i){c.extend(d,{input:e.input,output:e.output,selfType:a.selfTestType||9});var p=(e.input||"").length,f=(e.output||"").length,g=p>2048;if(g||f>2048){var v="自测数据输入输出均不可超过2048个字符，当前"+(g?"输入长度"+p:"输出长度"+f)+"已超出，请在本地进行调试";return void m.alert(v)}}var w=a.getUrlSubmitCode?a.getUrlSubmitCode(l,i):"",y=a.getUrlGetCodeStatus?a.getUrlGetCodeStatus(l,i):"";t.codeSubmit[i?"submitDiyCode":l?"submitSelfCode":"submitTestCode"]({$:r,urlSubmitCode:w||b[i?"codeSelfTestUrl":l?"codeSubmitUrl":"codeRunUrl"](),urlGetCodeStatus:y||b[i?"codeSelfTestStatusUrl":"codeStatusUrl"](),data:d,maxStatusDelay:a.maxStatusDelay,extCodeParam:a[i?"selfTestRunExtParam":"runExtParam"],extStatusParam:a.statusExtParam,feedback:function(e,n,r){r=r||{},e=e.replace(/^\n+|\n+$/gi,"");var o=r.submissionId;if(i&&(e=u.encodeHTML(e.replace(/所有的?测试用例/gi,"你的自测数据"))),!0===n&&o&&(i||a.needShowDiff)){var s=e.split("\n");s[i||s.length<=1?0:1]+='<a class="link-green ml1 js-show-submission-diff" href="javascript:void(0);" data-submission="'+o+'" data-self-test="'+(i?1:0)+'">点击对比用例标准输出与你的输出</a>',e=s.join("\n")}i&&(e=e.replace(/\n/g,"<br />"),!1===n&&(e+='\n<span style="color:#ff6547">'+a.selfTestWarning+"</span>")),t.showResult(e,n,i,r)},cbGetCaptcha:function(t){new m({noUnique:!0,hasNoTitle:!0,hasNoMove:!0,hasNoFooter:!0,clickToHide:!1,width:500,content:['<div style="font-size:16px;text-align:center;padding:20px;">','<img src="//static.nowcoder.com/fe/style/images/common/res/tips/13.png" style="display:block;width:80px;height:80px;margin:0 auto;">','<div style="margin-top:20px;">亲你点太快了，请<span class="js-code-count-down">3</span>s后再提交。</div>',"</div>"].join(""),render:function(){var t=this;h.countDown({second:3,call:function(e){return t.getEl(".js-code-count-down").html(e)},end:function(){return t.close()}})},close:function(){return t&&t({})}})},cbGetCaptchaError:function(){t.fire("runCodeError")},cbSubmitCodeBefore:function(){t.fire("beforeRunCode")},cbSubmitCodeComplete:function(e){e&&(e.isSelfTest=i),t.fire("runCodeSubmit",e)},cbSubmitCodeError:function(e){e&&(e.isSelfTest=i),t.fire("runCodeError",e)},cbStatusCodeBefore:function(){t.fire("beforeReqStatus")},cbStatusCodeSuccess:function(e){e&&(e.isSelfTest=i),!i&&t.fire("runCodeSuccess",e),t.fire("runCodeFinish",e)},cbStatusCodeFail:function(e){e&&(e.isSelfTest=i),t.fire("runCodeDanger",e),t.fire("runCodeFinish",e)},cbStatusCodeError:function(e){e&&(e.isSelfTest=i),t.fire("runCodeError",e)}})}t.checkCode((function(e){e&&t.getJquery(r),!e&&t.fire("runCodeError",{code:-1,msg:"代码不符合规范",isSelfTest:i})}))},showResult:function(t,e){var i=this.rawConfig.tipEl;if(o.trim(t))return i.removeClass(e?"alert-info":"alert-danger").addClass(e?"alert-danger":"alert-info"),i.html(t.replace(/\n/g,"<br />")).show(),void i.parent().show();i.html("").hide()},waitCreated:function(t){this.editor?t&&t.call(this):this._createdQueue.push(t)},exactHeight:function(){return this._editorScrollEl=this._editorScrollEl||o(this.editor.getScrollerElement()),this._editorSizerEl=this._editorScrollEl.find("div.CodeMirror-sizer"),window.parseInt(this._editorSizerEl.css("min-height")||this._editorSizerEl.height(),10)+(this.toolbarHeight||0)},execPlugin:function(t,e){var i=this,n=(i.plugin||{})[t],r=[].slice.call(arguments,2);if(n&&n[e])return n[e].apply(n,r)},getJquery:k}),C.initShowDiff()},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=(i(37),i(46)),s=t.exports=o.create(),c="codeEditorCache",l=window.localStorage;r.extend(s.prototype,{initialize:function(t){this.editor=t.editor,this.parent=t.parent,this.autoCacheCode()},initCacheCode:function(){var t=this.parent,e=t.rawConfig,i=this._memoryCode={},o=!!e.noCacheCode,a=this.getStorageCode(),s=o?{}:a.code||{},c=o?t.valLangue():a.langue||t.valLangue(),l=t.getLangueData();r.forEach(l,(function(t,e){var r=n.trim(s[e]||"");r=(r?s[e]:"")||t.code||t.tplCode,i[e]=r})),c&&t.valLangue(c,!0)},autoCacheCode:function(){var t=this;t.editor.on("changes",(function(){return t.cacheCode2Memory()}))},cacheCode2Memory:function(t,e){var i=this,n=i.parent,r=i._memoryCode=i._memoryCode||{};arguments.length<2&&(t=n.valLangue(),e=n.valCode());t&&(r[t]=e,i.cacheCode2Storage())},cacheCode2Storage:function(){var t=this.parent,e=t.rawConfig,i=this.getCacheId(e.runCode),n=this._memoryCode;if(e.noCacheCode)return i&&this.delStorageCode();if(i&&l&&n){this.delStorageCode(!0),a.create(c).set(i,{code:n,langue:t.valLangue()})}},delStorageCode:function(t){var e=this.parent.rawConfig,i=this.getCacheId(e.runCode);if(i&&l){if(l[i]="",l.removeItem(i),!t)a.create(c).remove(i)}},getMemoryCode:function(t){var e=this._memoryCode||{};return t&&e[t]||""},getStorageCode:function(){var t,e=this.parent.rawConfig,i=this.getCacheId(e.runCode);if(i){var n=a.create(c);!(t=n.get(i))&&l&&(t=r.json(l[i]))&&(n.set(i,t),l.removeItem(i))}return t||{}},getCacheId:function(t){if(!t)return;var e=t.questionId||[t.pid||"",t.tid||"",t.qid||""].join("_");if(e&&!/^_+$/.test(e))return e="NC_Code_Cache_"+e},restoreTpl:function(){var t=this.parent,e=t.valLangue(),i=(t.getLangueData()[e]||{}).tplCode||"";t.valCode(i),this.cacheCode2Memory(e,i)},restoreCode:function(){var t=this.parent,e=t.valLangue(),i=this.getMemoryCode(e);t.valCode(i)}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(37),s=i(208),c=i(74),l={xcsrc:{keyword:"main;include;define;std;break;case;continue;default;do;else;for;goto;if;_Pragma;return;switch;while;catch;operator;try;throw;using;asm;__asm__;auto;bool;_Bool;char;_Complex;double;enum;float;_Imaginary;int;long;short;signed;struct;typedef;union;unsigned;void;class;wchar_t;template;char16_t;char32_t;const;extern;register;restrict;static;volatile;inline;private;protected;public;friend;explicit;virtual;export;mutable;typename;constexpr;new;delete;alignas;alignof;decltype;noexcept;thread_local;and;and_eq;bitand;bitor;compl;not;not_eq;or;or_eq;typeid;xor;xor_eqconst_cast;dynamic_cast;reinterpret_cast;static_cast;sizeof;namespace;NULL;true;false;TRUE;FALSE;nullptr",header:"cstdlib;csignal;cstdarg;typeinfo;bitset;functional;utility;ctime;cstddef;new;memory;climits;cfloat;limits;exception;stdexcept;cassert;cerrno;cctype;cwctype;cstring;cwchar;string;vector;deque;list;set;map;stack;queue;algorithm;iterator;cmath;complex;valarray;numeric;iosfwd;ios;istream;ostream;iostream;fstream;sstream;iomanip;streambuf;cstdio;locale;clocale",func:"isascii(int c)>int;isdigit(int c)>int;isspace(int c)>int;isupper(int c)>int;isxdigit(int c)>int;gcvt(double number, size_t ndigits, char *buf)>char*;toascii(int c)>int;tolower(int c)>int;toupper(int c)>int;getpagesize(void)>size_t;mmap(void *start, size_t length, int prot, int flags, int fd, off_t offsize)>void*;munmap(void *start, size_t length)>int;asctime(const struct tm * timeptr)>char*;ctime(const time_t *timep)>char*;gettimeofday(struct timeval * tv, struct timezone * tz)>int;tm *gmtime(const time_t *timep)>struct;tm *localtime(const time_t * timep)>struct;mktime(strcut tm * timeptr)>time_t;settimeofday(const struct timeval *tv, const struct timezone *tz)>int;time(time_t *t)>time_t;index(const char *s, int c)>char*;memccpy(void *dest, const void * src, int c, size_t n)>void*;memchr(const void *s, char c, size_t n)>void*;memcmp(const void *s1, const void *s2, size_t n)>int;rindex(const char *s, int c)>char*;strcasecmp(const char *s1, const char *s2)>int;strcpy(char *dest, const char *src)>char*;strdup(const char *s)>char*;strncasecmp(const char *s1, const char *s2, size_t n)>int;strtok(char *s, const char *delim)>char*;abs(int j)>int;asin(double x)>double;atan(double x)>double;atan2(double y, double x)>double;endgrent(void)>void;endpwent(void)>void;endutent(void)>void;getgrent(FILE * stream)>struct group*;fgetpwent(FILE * stream)>struct passwd*;getegid(void)>gid_t;geteuid(void)>uid_t;getgid(void)>gid_t;getgrent(void)>struct group*;getgrgid(gid_t gid)>struct group*;getgrnam(const char * name)>struct group*;getgroups(int size, gid_t list[])>int;getpw(uid_t uid, char *buf)>int;getpwent(void)>struct passwd*;getpwnam(const char * name)>struct passwd*;getpwuid(uid_t uid)>struct passwd*;getuid(void)>uid_t;getutent(void)>struct utmp*;getutid(strcut utmp *ut)>struct utmp*;getutline(struct utmp *ut)>struct utmp*;initgroups(const char *user, gid_t group)>int;pututline(struct utmp *ut)>void;seteuid(uid_t euid)>int;setfsgid(uid_t fsgid)>int;setfsuid(uid_t fsuid)>int;setgid(gid_t gid)>int;setgrent(void)>void;setgroups(size_t size, const gid_t * list)>int;setpwent(void)>void;setregid(gid_t rgid, gid_t egid)>int;setreuid(uid_t ruid, uid_t euid)>int;setuid(uid_t uid)>int;setutent(void)>void;utmpname(const char * file)>void;close(int fd)>int;creat(const char * pathname, mode_tmode)>int;dup(int oldfd)>int;dup2(int odlfd, int newfd)>int;flock(int fd, int operation)>int;fsync(int fd)>int;lseek(int fildes, off_t offset, int whence)>off_t;mkstemp(char * template)>int;read(int fd, void * buf, size_t count)>ssize_t;sync(void)>int;write(int fd, const void * buf, size_t count)>ssize_t;clearerr(FILE * stream)>void;fclose(FILE * stream)>int;fdopen(int fildes, const char * mode)>FILE*;feof(FILE * stream)>int;fflush(FILE* stream)>int;fgetc(FILE * stream)>int;fgets(char * s, int size, FILE * stream)>har*;fileno(FILE * stream)>int;fputc(int c, FILE * stream)>int;fputs(const char * s, FILE * stream)>int;fread(void * ptr, size_t size, size_t nmemb, FILE * stream)>size_t;freopen(const char * path, const char * mode, FILE * stream)>FILE*;fseek(FILE * stream, long offset, int whence)>int;ftell(FILE * stream)>long;fwrite(const void * ptr, size_t size, size_t nmemb, FILE * stream)>size_t;mktemp(char * template)>char*;setbuffer(FILE * stream, char * buf, size_t size)>void;setlinebuf(FILE * stream)>void;atexit(void (*function) (void))>int;execl(const char * path, const char * arg, ...)>int;execlp(const char * file, const char * arg, ...)>int;execv(const char * path, char * const argv[])>int;execve(const char * filename, char * const argv[], char * const envp[])>int;execvp(const char *file, char * const argv [])>int;exit(int status)>void;_exit(int status)>void;getpgid(pid_t pid)>pid_t;getpgrp(void)>pid_t;getpid(void)>pid_t;getppid(void)>pid_t;getpriority(int which, int who)>int;nice(int inc)>int;on_exit(void (* function) (int void*), void *arg)>int;setpgid(pid_t pid, pid_t pgid)>int;setpgrp(void)>int;setpriority(int which, int who, int prio)>int;system(const char * string)>int;wait(int * status)>pid_t;waitpid(pid_t pid, int * status, int options)>pid_t;fprintf(FILE * stream, const char * format, ...)>int;fscanf(FILE * stream, const char *format, ...)>int;scanf(const char * format, ...)>int;vfprintf(FILE *stream, const char * format, va_list ap)>int;vfscanf(FILE * stream, const char * format, va_list ap)>int;vprintf(const char * format, va_list ap)>int;vscanf(const char * format, va_list ap)>int;vsprintf(char * str, const char * format, va_list ap)>int;vsscanf(const char * str, const char * format, va_list ap)>int;access(const char * pathname, int mode)>int;alphasort(const struct dirent **a, const struct dirent **b)>int;chdir(const char * path)>int;chmod(const char * path, mode_t mode)>int;chown(const char * path, uid_t owner, gid_t group)>int;chroot(const char * path)>int;closedir(DIR *dir)>int;fchdir(int fd)>int;fchmod(int fildes, mode_t mode)>int;fchown(int fd, uid_t owner, gid_t group)>int;fstat(int fildes, struct stat *buf)>int;ftruncate(int fd, off_t length)>int;getcwd(char * buf, size_t size)>char*;link(const char * oldpath, const char * newpath)>int;lstat(const char * file_name, struct stat * buf)>int;opendir(const char * name)>DIR*;readdir(DIR * dir)>struct dirent*;readlink(const char * path, char * buf, size_t bufsiz)>int;rewinddir(DIR *dir)>void;seekdir(DIR * dir, off_t offset)>void;stat(const char * file_name, struct stat *buf)>int;symlink(const char * oldpath, const char * newpath)>int;telldir(DIR *dir)>off_t;truncate(const char * path, off_t length)>int;umask(mode_t mask)>mode_t;unlink(const char * pathname)>int;utime(const char * filename, struct utimbuf * buf)>int;utimes(char * filename, struct timeval *tvp)>int;alarm(unsigned int seconds)>unsigned int;kill(pid_t pid, int sig)>int;pause(void)>int;sigaddset(sigset_t *set, int signum)>int;sigdelset(sigset_t * set, int signum)>int;sigemptyset(sigset_t *set)>int;sigfillset(sigset_t * set)>int;sigismember(const sigset_t *set, int signum)>int;(*signal(int signum, void(* handler)(int)))(int)>void;sigpending(sigset_t *set)>int;sigprocmask(int how, const sigset_t *set, sigset_t * oldset)>int;sleep(unsigned int seconds)>unsigned int;ferror(FILE *stream)>int;strerror(int errnum)>char*;mkfifo(const char * pathname, mode_t mode)>int;pclose(FILE * stream)>int;popen(const char * command, const char * type)>FILE*;accept(int s, struct sockaddr * addr, int * addrlen)>int;bind(int sockfd, struct sockaddr * my_addr, int addrlen)>int;connect(int sockfd, struct sockaddr * serv_addr, int addrlen)>int;endprotoent(void)>void;endservent(void)>void;getsockopt(int s, int level, int optname, void* optval, socklen_t* optlen)>int;htonl(unsigned long int hostlong)>unsigned long int;htons(unsigned short int hostshort)>unsigned short int;inet_addr(const char *cp)>unsigned long int;inet_aton(const char * cp, struct in_addr *inp)>int;inet_ntoa(struct in_addr in)>char*;listen(int s, int backlog)>int;ntohl(unsigned long int netlong)>unsigned long int;ntohs(unsigned short int netshort)>unsigned short int;recv(int s, void *buf, int len, unsigned int flags)>int;recvfrom(int s, void *buf, int len, unsigned int flags, struct sockaddr *from,int *fromlen)>int;recvmsg(int s, struct msghdr *msg, unsigned int flags)>int;send(int s, const void * msg, int len, unsigned int falgs)>int;sendmsg(int s, const strcut msghdr *msg, unsigned int flags)>int;sendto(int s, const void * msg, int len, unsigned int flags, const struct&nbsp>sockaddr * to, int tolen);setprotoent(int stayopen)>void;setsockopt(int s, int level, int optname, const void * optval, ,socklen_toptlen)>int;shutdown(int s, int how)>int;socket(int domain, int type, int protocol)>int;getenv(const char *name)>char*;putenv(const char * string)>int;getopt(int argc, char * const argv[], const char * optstring)>int;isatty(int desc)>int;select(int n, fd_set * readfds, fd_set * writefds, fd_set * exceptfds, struct&nbsp>timeval * timeout);ttyname(int desc)>char*"},xjava:{keyword:"abstract;assert;boolean;break;byte;case;catch;char;class;const;continue;default;do;double;else;enum;extends;final;finally;float;for;goto;if;implements;import;instanceof;int;interface;long;native;new;package;private;protected;public;return;short;static;strictfp;super;switch;synchronized;this;throw;throws;transient;try;void;volatile;while",extra:"Enum;MONTH;WEEK_OF_MONTH;DECEMBER;OutputStream;ArrayList;String;Math;WEDNESDAY;NEGATIVE_INFINITY;LONG_STANDALONE;YEAR;WEEK_OF_YEAR;TreeSet;CASE_INSENSITIVE;SATURDAY;Vector;TYPE;LITERAL;LONG_FORMAT;in;SIZE;AM;DOTALL;Float;UNICODE_CASE;ERA;SortedMap;Byte;JULY;Object;DAY_OF_WEEK;Arrays;Map;DAY_OF_YEAR;Set;MAY;DAY_OF_MONTH;Matcher;E;FRIDAY;AM_PM;FEBRUARY;COMMENTS;Reader;MAX_VALUE;SortedSet;out;ZONE_OFFSET;StringWriter;UNDECIMBER;StringReader;Queue;MIN_EXPONENT;LONG;PrintWriter;JUNE;Pattern;err;Hashtable;Calendar;NOVEMBER;IOException;TreeMap;UNIX_LINES;StringBuffer;Runnable;MARCH;OutputStreamWriter;MILLISECOND;Writer;LinkedHashSet;BYTES;Comparable;THURSDAY;HashMap;NARROW_STANDALONE;DAY_OF_WEEK_IN_MONTH;NARROW_FORMAT;Comparator;FIELD_COUNT;Random;MINUTE;List;Collections;Short;HashSet;JANUARY;DST_OFFSET;EMPTY_MAP;SUNDAY;UNICODE_CHARACTER_CLASS;TUESDAY;CANON_EQ;SEPTEMBER;Double;LinkedList;Stack;POSITIVE_INFINITY;DATE;MAX_EXPONENT;ByteArrayInputStream;EMPTY_SET;Long;AUGUST;Collection;MULTILINE;CASE_INSENSITIVE_ORDER;Scanner;Dictionary;HOUR;ALL_STYLES;MatchResult;System;Number;MIN_NORMAL;HOUR_OF_DAY;Iterator;NaN;APRIL;PrintStream;SHORT_STANDALONE;InputStreamReader;OCTOBER;InputStream;Error;ByteArrayOutputStream;MIN_VALUE;Date;Exception;SHORT;Integer;MONDAY;EMPTY_LIST;PI;SECOND;PM;SHORT_FORMAT",header:"java.util.Collections;java.util.Comparator;java.util.Date;java.util.List;java.util.Locale;java.util.regex.Pattern;java.util.regex.Matcher;java.util.regex.MatchResult;java.io.BufferedOutputStream;java.io.BufferedInputStream;java.io.FileOutputStream;java.io.FileInputStream;java.io.StringReader;java.io.StringWriter;java.util.regex.Matcher;java.util.regex.MatchResult;java.util.Arrays;java.util.Collections;java.util.Arrays;java.util.ArrayList;java.util.Set;java.util.Map;java.util.HashMap;java.util.HashSet;java.util.Dictionary;java.util.Iterator;java.util.LinkedHashMap;java.util.LinkedHashSet;java.util.LinkedList;",method:"nextFloat;newSetFromMap;setSecurityManager;toUnsignedLong;asList;offer;unmodifiableCollection;quote;trim;disjoint;getSuppressed;getMonth;removeAllElements;getAvailableLocales;setTime;emptyEnumeration;printStackTrace;subMap;divideUnsigned;useDelimiter;concat;contains;size;toBinaryString;endsWith;listIterator;lowerKey;pollFirst;headMap;usePattern;emptySet;compare;roll;nextAfter;lineSeparator;setLenient;removeLast;appendCodePoint;search;nanoTime;setTimeZone;after;close;getenv;setMonth;synchronizedMap;set;toHexString;doubleToRawLongBits;getTimezoneOffset;abs;setTimeInMillis;floorDiv;toString;bitCount;toUnsignedString;hasNextBigDecimal;unmodifiableSortedSet;retainAll;byteValue;emptyIterator;navigableKeySet;higherEntry;longBitsToDouble;getLast;empty;compute;checkedNavigableSet;toMatchResult;getStackTrace;addSuppressed;getFirst;decrementExact;enumeration;add;list;ioException;setStackTrace;ulp;asLifoQueue;fillInStackTrace;reverseBytes;hasTransparentBounds;getTime;notifyAll;regionMatches;runFinalizersOnExit;locale;replaceAll;remove;random;tanh;emptyList;setHours;load;hashCode;elementAt;subSet;sin;end;gc;useRadix;hasNextBoolean;codePointCount;floorEntry;toIntExact;isEmpty;setFirstDayOfWeek;parse;subSequence;nextLong;hasNextShort;nextGaussian;parseByte;offerLast;print;insertElementAt;computeIfPresent;getFirstDayOfWeek;clone;asin;emptySortedSet;hasNextLong;append;charAt;numberOfTrailingZeros;deleteCharAt;copyOfRange;getWeekYear;headSet;codePointAt;setMinimalDaysInFirstWeek;containsValue;parseUnsignedLong;identityHashCode;sqrt;higherKey;setSeconds;toArray;parallelStream;findInLine;join;codePointBefore;write;compareToIgnoreCase;atan2;spliterator;lower;getTimeInMillis;regionEnd;hasNext;peekFirst;toDegrees;peekLast;ceil;doubleToLongBits;getExponent;ceilingKey;toGMTString;writeTo;exit;compareUnsigned;getDisplayName;setWeekDate;mapLibraryName;hasNextDouble;tailMap;synchronizedSortedMap;wait;ceilingEntry;getLocalizedMessage;intBitsToFloat;skip;notify;addLast;checkedMap;stream;parseShort;copyValueOf;comparingDouble;trimToSize;synchronizedSet;nextLine;max;getActualMinimum;getMessage;hasAnchoringBounds;peek;IEEEremainder;getLong;comparator;getSeconds;unmodifiableSortedMap;parseLong;equals;currentTimeMillis;setDate;nullsFirst;shuffle;rotate;getTimeZone;UTC;cos;expm1;offerFirst;compareTo;decode;setOut;floatToRawIntBits;nextUp;split;find;removeFirst;indexOf;emptyNavigableMap;read;comparingLong;entrySet;swap;getLeastMaximum;toLowerCase;sort;acos;fill;synchronizedNavigableSet;removeIf;lastIndexOfSubList;addElement;requireEnd;getBuffer;keys;getMaximum;delete;substring;parallelSort;parseDouble;getHours;println;setSize;putAll;nextBoolean;floor;keySet;console;getCalendarType;forEach;contentEquals;nextInt;toRadians;setYear;getDay;getMinutes;appendReplacement;lastEntry;removeElement;reversed;toCharArray;firstElement;setProperties;rint;setCharAt;iterator;removeAll;getWeeksInWeekYear;deepHashCode;merge;equalsIgnoreCase;exp;element;floorKey;tailSet;nextBigDecimal;synchronizedSortedSet;checkedCollection;getProperties;initCause;toUnsignedInt;addExact;lowerEntry;nextByte;log10;descendingIterator;replaceFirst;sum;checkError;pollLast;isFinite;pop;parseUnsignedInt;getDeclaringClass;min;thenComparing;isInfinite;setElementAt;ints;arraycopy;hypot;removeElementAt;pow;synchronizedList;checkedSet;getDisplayNames;subList;intern;unmodifiableNavigableMap;getChars;singletonList;parallelSetAll;nextDouble;radix;addAll;emptyListIterator;hasNextLine;incrementExact;comparingInt;addFirst;chars;ordinal;getOrDefault;emptyNavigableSet;thenComparingDouble;markSupported;log1p;available;indexOfSubList;run;isNaN;getCause;getBytes;frequency;compile;getActualMaximum;quoteReplacement;checkedSortedSet;singletonMap;nextShort;getMinimum;toUpperCase;shortValue;forEachRemaining;unmodifiableNavigableSet;removeLastOccurrence;codePoints;synchronizedNavigableMap;last;sinh;copyInto;floatValue;setMinutes;unmodifiableMap;numberOfLeadingZeros;pollLastEntry;getSecurityManager;firstKey;lastElement;name;ensureCapacity;region;toLocaleString;higher;next;thenComparingInt;computeIfAbsent;useTransparentBounds;descendingSet;synchronizedCollection;multiplyExact;binarySearch;toOctalString;printf;cbrt;flush;negateExact;lastKey;singleton;valueOf;start;nextDown;parseInt;lastIndexOf;appendTail;isWeekDateSupported;toByteArray;checkedQueue;getInstance;putIfAbsent;mark;useLocale;deepToString;copySign;put;getEncoding;floatToIntBits;delimiter;asPredicate;nextBigInteger;hasNextBigInteger;signum;isSet;doubleValue;matcher;matches;push;getYear;groupCount;doubles;setProperty;reset;hasNextInt;useAnchoringBounds;hitEnd;runFinalization;parseFloat;getMinimalDaysInFirstWeek;naturalOrder;parallelPrefix;log;reverseOrder;pattern;flags;rotateLeft;longValue;capacity;longs;remainderUnsigned;get;emptyMap;getDate;firstEntry;copy;hasNextByte;containsAll;copyOf;reverse;toInstant;checkedList;nCopies;elements;first;descendingKeySet;getClass;getAvailableCalendarTypes;before;replace;splitAsStream;getInteger;poll;atan;clearProperty;lookingAt;checkedSortedMap;checkedNavigableMap;inheritedChannel;from;group;tan;setErr;loadLibrary;setIn;deepEquals;containsKey;format;comparing;unmodifiableList;setLength;nullsLast;removeFirstOccurrence;setSeed;hasNextFloat;getGreatestMinimum;scalb;floorMod;isLenient;descendingMap;values;insert;findWithinHorizon;regionStart;nextBytes;pollFirstEntry;unmodifiableSet;ready;setAll;lowestOneBit;subtractExact;ceiling;getProperty;rotateRight;intValue;clear;match;cosh;emptySortedMap;thenComparingLong;round;highestOneBit;offsetByCodePoints;startsWith"},xpython:{keyword:"and;as;assert;break;class;continue;def;del;elif;else;except;exec;finally;for;from;global;if;import;in;is;lambda;not;or;pass;print;raise;return;try;while;with;yield"},xjs:{keyword:"break;case;catch;continue;default;delete;do;else;finally;for;function;if;in;instanceof;new;return;switch;this;throw;try;typeof;var;void;while;with;abstract;boolean;byte;char;class;const;debugger;double;enum;export;extends;final;float;goto;implements;import;int;interface;long;native;package;private;protected;public;short;static;super;synchronized;throws;transient;volatile"},xcsharp:{keyword:"abstract;as;base;bool;break;byte;case;catch;char;checked;class;const;continue;decimal;default;delegate;do;double;else;enum;ecent;explicit;extern;false;finally;fixed;float;for;foreach;get;goto;if;implicit;in;int;interface;internal;is;lock;long;namespace;new;null;object;out;override;partial;private;protected;public;readonly;ref;return;sbyte;sealed;set;short;sizeof;stackalloc;static;struct;switch;this;throw;true;try;typeof;uint;ulong;unchecked;unsafe;ushort;using;value;virtual;volatile;volatile;void;where;while;yield"},xphp:{keyword:"__halt_compiler;abstract;and;array;as;break;callable;case;catch;class;clone;const;continue;declare;default;die;do;echo;else;elseif;empty;enddeclare;endfor;endforeach;endif;endswitch;endwhile;eval;exit;extends;final;finally;for;foreach;function;global;goto;if;implements;include;include_once;instanceof;insteadof;interface;isset;list;namespace;new;or;print;private;protected;public;require;require_once;return;static;switch;throw;trait;try;unset;use;var;while;xor;yield"}},d=t.exports=o.create();r.extend(d.prototype,a,{codeIndex:1,lastHintList:null,currentHintList:null,initialize:function(t){var e=(this.parent=t.parent).rawConfig.codeHint;if(!{keyword:1,all:1}[e||""])return;this.editor=t.editor,this.useRemote="all"===e,this.initHint(),this.initEvent(),this.canUse=!0},initHint:function(){var t,e=this,i=e.editor;r.forEach({"text/x-csrc":"hintCSRC","text/x-c++hdr":"hintCSRC","text/x-c++src":"hintCSRC","text/x-java":"hintJava",python:"hintPython","text/x-python":"hintPython",javascript:"hintJs","text/javascript":"hintJs","text/x-csharp":"hintCSharp",php:"hintPhp","application/x-httpd-php":"hintPhp"},(function(t,i){window.CodeMirror.registerHelper("hint",i,e.wrapHint(e[t]))})),i.on("change",(function(i,n){var r=i.getValue(),o=t===r;if(t=r,!o){if(e.codeIndex++,!n||"+input"!==n.origin)return e.closeMenu();e.showHint()}}));var n=r.bind(e.getHintList,e);n.async=!0,r.extend(i.options.hintOptions,{hint:n})},initEvent:function(){var t=this;t.listen("codeHintClose",(function(){t.lastHintList=null})),t.listen("codeHintShown",(function(){}))},start:function(t){this.canUse=!1!==t},showHint:function(){if(!this.canHint())return;this.currentHintList=this.lastHintList,this.editor.showHint()},hintCSRC:function(t){return this.hintCommonAction(t,[".","->"],"xcsrc")},hintJava:function(t){return this.hintCommonAction(t,["."],"xjava")},hintPython:function(t){return this.hintCommonAction(t,null,"xpython")},hintJs:function(t){return this.hintCommonAction(t,null,"xjs")},hintCSharp:function(t){return this.hintCommonAction(t,null,"xcsharp")},hintPhp:function(t){return this.hintCommonAction(t,null,"xphp")},hintCommonAction:function(t,e,i){var o=this,a=o.getInfo()||{},s=a.token,c=a.cur;if(!s||!c)return t&&t();var l=s.string,d=[];if(e&&r.contains(e,l))return o.currentHintList=null,s.start=c.ch,s.end=c.ch,void o.server(s,c,(function(e){r.isArray(e)&&0!==e.length&&(r.forEach(e,(function(t){var e=t.name,i=n.trim(e.split("(")[0]),r=t.type,a=e.length>20?e.substr(0,20)+"...":e;d.push(o.wrapListItem({text:i,display:a,ext:r,method:!0}))})),t&&t(o.wrapResult(d,s,c)))}));if("xcsrc"===i&&/^#[^#]+$/.test(l)){var u=l.substr(s.start,c.ch-s.start);if(/^#[^#]+$/.test(u))if(/\s/g.test(u)){var h=u.split(/\s+/);if(2===h.length&&/^<[^<]+$/.test(h[1])){var p=u.indexOf(h[1]);l=h[1].replace(/</gi,""),s.start=p+1}}else l=u.replace("#",""),s.start+=1,/\s/.test(u)?s.end=u.indexOf(" "):s.end=Math.min(u.length,s.end)}if(o.hintHistory(l,s,c,t))return;var f=o.getHintData(i);r.forEach(["keyword","header","extra"],(function(t){r.forEach(f[t],(function(e){o.isStartWith(e,l)&&d.push(o.wrapListItem({text:e,display:e,ext:t}))}))})),r.forEach(f.method,(function(t){o.isStartWith(t,l)&&d.push(o.wrapListItem({text:t+"()",display:t,ext:"function"}))})),r.forEach(f.func,(function(t){o.isStartWith(t.text,l)&&d.push(o.wrapListItem({text:t.text,display:t.display,ext:t.type,method:!0}))}));var g=o.wrapResult(d,s,c);t&&t(g)},hintHistory:function(t,e,i,n){var o=this;if(!o.currentHintList)return!1;var a=r.filter(o.currentHintList.list,(function(e){return o.isStartWith(e.text,t)}));return n&&n(o.wrapResult(a,e,i)),!0},getHintList:function(t,e){var i=t.getCursor(),n=(t.getHelpers(i,"hint")||[])[0];if(n)return n&&n(e);var r=window.CodeMirror.hint.auto.resolve(t,i)(t);e&&e(r)},getSocket:function(t){var e=this;if(!s.isSupport||!e.useRemote)return;if(e.ws)return t&&t(e.ws);if(!e.ws){var i=e.ws=new s({url:"wss://101.37.169.225:9012/suggest"});i.listen("open",(function(){return t&&t(i)})),i.listen("error",(function(){e.ws=null,r.out("出现错误")})),i.listen("close",(function(){return e.ws=null})),i.listen("message",(function(t){var i=r.id(t.id),n=e.getSocketEventName(i);if(i!==r.id(e.codeIndex))return e.unlisten(n);e.fire(n,t.data)})),i.connect()}},getInfo:function(){if(!this.canHint())return;var t=this.editor,e=t.getCursor(),i=t.getTokenAt(e);return i.state=window.CodeMirror.innerMode(t.getMode(),i.state).state,{token:i,cur:e}},getHintData:function(t){var e=this._cacheHintData=this._cacheHintData||{};return e[t]||(e[t]={keyword:(l[t].keyword||"").split(";"),header:(l[t].header||"").split(";"),extra:(l[t].extra||"").split(";"),method:(l[t].method||"").split(";"),func:r.map((l[t].func||"").split(";"),(function(t){var e=t.split(">"),i=e.pop(),r=e.join(">");n.trim(r.split("(")[0]);return{display:r.length>50?r.substr(0,50)+"...":r,text:r,type:i}}))}),e[t]},getSocketEventName:function(t){return"NC_CODEMIRROR_CODE_HINT"+t},closeMenu:function(){var t=this.editor;try{t.state.completionActive&&t.state.completionActive.close()}catch(e){}},canHint:function(){var t=this.parent,e=this.editor,i=e.getCursor(),o=e.getTokenAt(i);if(!this.canUse)return;var a=r.id(t.valLangue()),s=c.getHintLang();if(!a||!r.contains(s,a))return;var l=o.type,d=o.string;if(/\b(?:string|comment)\b/.test(l))return;if(!n.trim(d))return;return!0},fireEditor:function(){var t=this,e=t.parent;t.fire.apply(t,arguments),e.fire.apply(e,arguments)},isStartWith:function(t,e){return 0===t.indexOf(e)},server:function(t,e,i){var n=this,r=n.parent,o=n.codeIndex;n.getSocket((function(t){if(t&&o===n.codeIndex){var a=n.getSocketEventName(o);n.one(a,i),t.clearSendList(),t.send({code:n.editor.getValue(),line:e.line+1,col:e.ch+1,lang:r.valLangue(),id:o})}}))},wrapListItem:function(t){return{text:t.text+(t.method,""),displayText:t.display,ext:t.ext,render:function(t,e,i){t.innerHTML=(i.ext?'<span style="float:right;margin-left:20px;">'+i.ext+"</span>":"")+i.displayText}}},wrapResult:function(t,e,i){var n=this,o=CodeMirror.Pos;return r.isArray(t)&&0!==t.length?{list:t,from:o(i.line,e.start),to:o(i.line,e.end),_handlers:{shown:[function(){n.fireEditor("codeHintShown")}],select:[function(){n.fireEditor("codeHintSelect")}],pick:[function(){n.fireEditor("codeHintPick")}],close:[function(){n.fireEditor("codeHintClose")}]}}:null},wrapHint:function(t){var e=this;return function(i){var n;return r.bind(t,e)((function(t){n=t,r.isFunction(i)&&(e.lastHintList=t,i(t))})),e.lastHintList=n,n}}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(46),s=i(43),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){this.editor=t.editor,this.parent=t.parent,this.initDb(),this.initSwitch()},initDb:function(){var t=this.db=a.create("codeEditorCache"),e=a.get("codeEditorHintStatus"),i=a.get("codeEditorTabSpaceStatus");e!==undefined&&null!==e&&(t.set("settingHint",e),a.remove("codeEditorHintStatus"));i!==undefined&&null!==i&&(t.set("settingTabSpace",i),a.remove("codeEditorTabSpaceStatus"))},initSwitch:function(){var t=n(['<div class="format-setting">','<a href="javascript:void(0);" class="icon-cog"></a>','<ul class="dropdown-menu js-switch"></ul>',"</div>"].join(""));this.getEl().append(t);var e=t.find(".js-switch");this.createHint(e),this.createTab(e),this.createSpaceCount(e)},createHint:function(t){var e=this.parent,i=e.rawConfig,n=this.db;if({keyword:1,all:1}[i.codeHint||""]){var r=n.get("settingHint");r=!(r!==undefined&&!r);var o=this.createSwitch(t,"代码自动补全",r);o.listen("change",(function(){a(o.isChecked())})),a(r)}function a(t){n.set("settingHint",!!t),e.execPlugin("hint","start",!!t)}},createTab:function(t){var e=this.parent,i=(e.rawConfig,e.getEl()),n=this.db,r=n.get("settingTabSpace");r=!(r!==undefined&&!r);var o=this.createSwitch(t,"空格tab提示",r);function a(t){n.set("settingTabSpace",!!t),i[t?"removeClass":"addClass"]("cm-nc-tab-space-close")}o.listen("change",(function(){a(o.isChecked())})),a(r)},createSpaceCount:function(t){var e=this.parent,i=this.db,o=n(['<li style="width:180px;">','<div class="code-typography-item">','<span class="code-typography-txt">Tab长度</span>','<span class="code-typography-oprt"><a href="javascript:void(0);" class="typography-oprt js-space-action" data-type="-">-</a><span class="js-result">'+s()+'</span><a href="javascript:void(0);" class="typography-oprt js-space-action" data-type="+">+</span></span>',"</div>","</li>"].join("")),a=o.find(".js-result");function s(){return{2:2,4:4,8:8}[i.get("settingSpaceCount")]||4}t.append(o),o.on("click",".js-space-action",(function(t){var o=n(t.currentTarget),c=n.trim(o.attr("data-type")),l=s(),d=[2,4,8],u=r.indexOf(d,l)+("-"===c?-1:1),h=d[u=Math.min(Math.max(0,u),d.length-1)];a.html(h),h!==l&&(i.set("settingSpaceCount",h),e.editor.setOption("indentUnit",h))}))},createSwitch:function(t,e,i){var r=n('<li style="width:180px;"><a href="javascript:void(0);"></a></li>');return t.append(r),new s({renderTo:r.find("a"),text:e,checked:i})},getEl:function(){return this.parent.getEl().find(".js-head-tool")}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(4),s=t.exports=o.create();r.extend(s.prototype,{initialize:function(t){this.editor=t.editor,this.parent=t.parent,this.systemCase=t.parent.rawConfig.selfTestSystemCase||[],this.elMap={},this.isInTest=!1,this.hasSystemCase=this.systemCase.length>0,this.parent.rawConfig.noSelfTest||this.initAction()},initAction:function(){var t=this,e=t.parent.getEl();e.on("click",".js-self-test",(function(){t.enterTest()})),e.on("click",".js-exit-self-test",(function(){t.exitTest()})),e.on("click",".js-more-self-test",(function(){t.popupExplain()})),e.on("click",".js-system-list a.test-tag",(function(e){var i=+n(e.currentTarget).attr("data-index")||0;t.fillCase(i)}))},val:function(){var t=this.elMap;return{inTest:!!this.isInTest,input:t.inputIpt?t.inputIpt.val():"",output:t.outputIpt?t.outputIpt.val():""}},enterTest:function(){var t=this.parent,e=t.getEl(),i=this.elMap;if(!this.isInTest){if(!i.content){var n=this._createMask(),r=this._createContent();e.append(n),e.append(r),i.mask=n,i.content=r,i.head=r.find(".js-head"),i.body=r.find(".js-body"),i.input=r.find(".js-input"),i.output=r.find(".js-output"),i.inputIpt=r.find(".js-input textarea"),i.outputIpt=r.find(".js-output textarea"),i.listDv=r.find(".js-system-list")}this.isInTest=!0,i.mask.show(),i.content.show(),i.inputIpt.focus(),this.resize(),t.fire("enterSelfTest")}},exitTest:function(){var t=this.parent,e=this.elMap;e.mask&&e.mask.hide(),e.content&&e.content.hide(),this.isInTest&&t.fire("exitSelfTest"),this.isInTest=!1},resize:function(){if(this.isInTest){var t=this.elMap,e=t.content,i=t.head,n=t.body,r=t.input,o=t.output,a=t.inputIpt,s=t.outputIpt,c=t.listDv;n.outerHeight(e.height()-i.outerHeight());var l=n.height()-(this.hasSystemCase?c.outerHeight():""),d=n.width();r.outerWidth(d).outerHeight(l/2),o.outerWidth(d).outerHeight(l/2),a.outerWidth(r.width()).outerHeight(r.height()),s.outerWidth(o.width()).outerHeight(o.height())}},fillCase:function(t){var e=this.systemCase[t],i=this.elMap;e&&(i.inputIpt.val(e.input||""),i.outputIpt.val(e.output||""))},popupExplain:function(){var t=this.parent.rawConfig;new a({title:"代码自测功能使用提示",hasNoFooter:!0,width:600,content:['<div class="pop-code-notice">','<div class="pop-info-tips">'+t.selfTestWarning+"</div>","<p>1.填写输入数据和你期待的结果</p>","<p>2.点击“自测调试”，如果你输入的数据得到的实际输出与你期待的输出一致，则表示你的测试数据通过，会有如下提示：</p>",'<img src="//uploadfiles.nowcoder.com/images/20180823/56_1535005008976_AD4F6DE9FF11BCC9697747A2B50BC911" style="width:550px;height:100px;" />',"<p>如果你输入的数据得到的实际输出与你期待的输出不一致，则表示你的测试数据不通过，会有如下提示：</p>",'<img src="//uploadfiles.nowcoder.com/images/20180823/56_1535005392947_E44F06C1B49DDAE84EB477856E41381F" style="width:550px;height:100px;" />',"</div>",'<div class="submit-btnbox"><a href="javascript:void(0);" class="btn btn-primary js-close-popup">关闭提示</a></div>'].join("")})},_createMask:function(){return n('<div style="position:absolute;z-index:9;left:0;top:0;background:#000;width:100%;height:100%;filter:alpha(opacity:30);opacity:0.3;"></div>')},_createContent:function(){var t=this.hasSystemCase?'<div class="self-test-tags js-system-list">使用示例自测'+r.map(this.systemCase,(function(t,e){return'<a class="test-tag" href="javascript:void(0);" data-index="'+e+'">示例'+(e+1)+"</a>"})).join("")+"</div>":"";return n(['<div class="self-test-main" style="position:absolute;z-index:10;left:0;top:0;width:100%;height:100%;font-size:14px;overflow:hidden;">','<div class="js-head self-test-hd">','<span>根据本题要求输入你自测的用例，<a href="javascript:void(0);" class="link-green js-more-self-test">点击了解更多</a></span>','<a href="javascript:void(0);" class="link-green float-right js-exit-self-test">返回代码编辑器</a>',"</div>",'<div class="js-body self-test-bd">','<div class="js-input self-test-item" style="padding:0 0 5px 0;display:block;">','<textarea style="resize:none;" placeholder="输入数据"></textarea>',"</div>",'<div class="js-output self-test-item" style="padding:5px 0 0 0;display:block;">','<textarea style="resize:none;" placeholder="你期待的输出结果"></textarea>',"</div>",t,"</div>","</div>"].join(""))}})},function(t,e,i){var n=i(2),r=i(6),o=i(18),a=i(3),s=(i(0),i(58)),c=i(15),l=i(31),d=i(4),u=t.exports=a.create();a.mix(u,r,{_template:['<div class="">','<div class="subject-upload">','<div class="subject-upload-inner">','<span class="js-upload-wrap"><a class="btn-upload2 js-upload-btn" href="javascript:void(0);"></a></span>','<a class="btn-upload2 js-upload-btn-bak" style="display:none;" href="javascript:void(0);"></a>','<span class="subject-upload-text">#{desc}</span>',"</div>",'<div class="subject-upload-inner js-upload-progress" style="display:none;"></div>',"</div>",'<div class="subject-info" style="display:none;">','<div class="alert alert-danger js-run-info"></div>',"</div>",'<div class="subject-action clearfix">','<div class="subject-next">','<a href="javascript:void(0);" class="js-submit-code btn btn-primary" style="width:150px;">#{runTxt}</a>',"</div>","</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.uploadFile=null,this.uploadFileId=[],this.progressEl=t.find("div.js-upload-progress"),this.runInfoEl=t.find("div.js-run-info"),this.initUpload()}},{name:"click .js-submit-code",handler:function(t){this.runCode(t)}},{name:"click .js-upload-btn-bak",handler:function(){d.alert("正在判题中，判题完成后才能再次提交")}}]},{initialize:function(t){this.fileReset=!1},initUpload:function(){var t=this,e=t.rawConfig,i=t.getEl();t.upload=new s({target:t,holderEl:i.find("a.js-upload-btn"),type:c.uploadType.data,fileType:e.fileType||"*.txt",fileSizeLimit:e.fileSize||5,fileQueueLimit:1,btn:{image:"//uploadfiles.nowcoder.com/images/20170720/56_1500535196899_0D6F0B229817E61B74168FFDD350D585",width:150,height:45},uploadSuccess:function(e,n){t.uploadFile=n,t.fileReset=!0,i.find("span.subject-upload-text").html("已上传"+n.fileName+"("+n.fileSize+")"),t.runInfoEl.parent().hide()}})},runCode:function(t){var e=this,i=e.uploadFile,r=e.rawConfig,a=n(t.currentTarget);if(!i)return void d.alert("请先提交文件");if(e.isRuning)return void d.alert("正在判题中");if(!e.fileReset)return void d.alert("请不要重复提交运行同一文件");if(o.mark(a))return;function s(){e.hideUpload(!1),e.isRuning=!1,o.clear(a)}e.fileReset=!1,e.isRuning=!0,e.hideUpload(),e.showMemo("正在提交文件...","info","submit"),l.codeDmRun({body:{qid:r.qid,url:i.url},call:function(t){e.runTimer&&window.clearTimeout(e.runTimer),e.showMemo("正在判题...","info","status"),e.runTimer=setTimeout((function(){var i=arguments.callee;l.codeDmStatus({query:{submissionId:t.submissionId},call:function(t){var n=(t=t||{}).status,r=t.desc,o=t.memo;if(5===n){var a=r+"\n";if(t.needDownload){var c=t.downloadMemoName?t.downloadMemoName:"";a+='<div><a class="link-green" target="_blank" href="/downloadDataMingMemo?submissionId='+t.submissionId+"&filename="+c+'">点击下载结果</a></div>'}else t.isComplete?a+=o:(a+=o,a+='<div><a class="link-green" target="_blank" href="/completeDataMiningSubmissionInfo?submissionId='+t.submissionId+'">查看全部</a></div>');e.showMemo(a,"info","complete"),e.runTimer=null,s()}else if(0===n||23===n||19===n||100===n)e.runTimer=setTimeout(i,1e3),e.showMemo("正在判题...\n"+(r||"")+"\n"+(o||""),"info","wait");else{a=(r||"")+"\n"+(o||"");e.showMemo(a,"","complete"),e.runTimer=null,s()}},error:function(t){e.showMemo(t.msg||"出现错误，请重试","","error"),s()}})}),1e3)},error:function(t){e.showMemo(t.msg||"出现错误，请重试","","error"),s()}})},showMemo:function(t,e,i){var n=this.rawConfig,r=this.runInfoEl,o="info"===e?"alert-danger":"alert-info",a="info"===e?"alert-info":"alert-danger";r.removeClass(o).addClass(a),n.fixMemo&&(t=n.fixMemo(t,e)||t),r.html(t.replace(/\n/g,"<br />")).show(),r.parent().show()},hideUpload:function(t){var e=n(".js-upload-btn-bak"),i=n(".js-upload-wrap");!1===t?(e.hide(),i.css("position","static"),i.css("top",0)):(i.css("position","absolute"),i.css("top","-100000px"),e.show())},_getData:function(){var t=this.rawConfig;return{desc:t.desc||"上传数据结果文件，格式仅限txt文件",runTxt:t.runTxt||"运行"}}})},function(t,e,i){var n=i(62),r=i(2),o=i(0),a=i(6),s=i(3),c=i(8),l=i(10),d=i(74),u=i(207),h=(i(85),i(4)),p=i(15),f=i(31),g=i(246),v=i(130),m=t.exports=s.create();s.mix(m,a,{_template:['<div class="code-editor-wrap">','<div class="code-editor-head clearfix js-header">',"#{languageStr}","#{previewStr}","#{pluginStr}","</div>",'<div class="code-font js-container">','<div class="code-font js-editor" style="display:inline-block;"></div>','<div class="js-iframe-container" style="display:none;background:#fff;border:1px solid #272822;border-top:none;position:relative;">','<a href="javascript:void(0);" class="self-test-close js-close-preview" style="position:absolute;right:0;top:0;"></a>','<iframe class="js-iframe" style="width:100%;height:100%;" frameborder="0" hidefocus="true"></iframe>',"</div>","</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig,i=t.getEl();t.initPlugin((function(){t.editorEl=i.find(".js-editor"),t.iframeBak=i.find(".js-iframe").get(0).cloneNode(),t.initEditor(),a.setEvents(),t.initTab(),t.changeMode(),t.initAutoSize(),e.openPreview&&t.showPreview()}))}},{name:"click .js-go-preview",handler:function(t){this.showPreview(!this.isInPreview)}},{name:"click .js-close-preview",handler:function(){this.showPreview(!1)}}],loadDep:function(t){n.use(["ncPlugin/codemirror/style/codemirror.css","ncPlugin/codemirror/style/theme/monokai.css","ncPlugin/codemirror/codemirror"],t)}},{initialize:function(t){this._fixConf(t),this.initData(t),this.pluginSelected=[],this.isInPreview=!1,this.codeSubmit=new u},initData:function(t){var e=this;e.languageSelected="",e.codeMap={html:"",css:"",javascript:""},o.forEach(t.languages,(function(t){var i=t.text;t.checked&&(e.languageSelected=i),e.codeMap[i]=t.code||""}))},initPlugin:function(t){n.use(["ncPlugin/codemirror/mode/clike/clike","ncPlugin/codemirror/addon/edit/matchbrackets","ncPlugin/codemirror/addon/edit/closebrackets"],t)},initEditor:function(){this.editor=CodeMirror(this.editorEl.get(0),{theme:"monokai",indentUnit:4,lineNumbers:!0,mode:"text/javascript",matchBrackets:!0,autoCloseBrackets:!0,extraKeys:{Tab:function(t){var e=t.somethingSelected();e&&t.indentSelection("add"),!e&&t.replaceSelection("    ","end","+input")}}})},initTab:function(){var t,e=this,i=e.rawConfig,n=e.getEl().find("ul.js-tabs li"),a=n.find(".js-refresh-code");c.tab({el:n,change:function(t){var i=r(t.currentTarget),n=i.attr("data-language");e.codeMap[e.languageSelected]=e.getValue();var o=e.languageSelected===n;e.languageSelected=n,o||(e.changeMode(),a.hide(),i.find(".js-refresh-code").css("display","inline-block"))}}),a.on("click",(function(t){var n=r(t.currentTarget).closest("li").attr("data-language"),a=o.find(i.languages,(function(t){return t.text===n}));a&&h.confirm("刷新后"+n+"代码框将重置为初始状态，正在编辑的代码将清空，但不会影响已提交的代码，确定刷新吗？",(function(){e.codeMap[n]=a.code||"",e.languageSelected=n,e.changeMode()}))})),e.editor.on("changes",(function(){e.codeMap[e.languageSelected]=e.getValue(),window.clearTimeout(t),t=window.setTimeout((function(){return e.updatePreview()}),500)}))},initAutoSize:function(){var t=this,e=t.rawConfig,i=t.getEl();t.height=i.height(),t.toolbarHeight=i.find("div.js-header").outerHeight(),!e.noAutoSize&&t.editor.on("changes",(function(){return t.autoSize()})),t.autoSize()},bindIframe:function(){var t=this,e=t._bindIframeCb=t._bindIframeCb||{},i=t.getEl(".js-iframe").get(0),n=i.contentDocument||i.contentWindow.document,r=n.parentWindow||n.defaultView;function o(t,i,n){var r=t.addEventListener;t.removeEventListener&&e[i]&&t.removeEventListener(i,e[i]),e[i]=n,r&&t.addEventListener(i,n,!1),!r&&t.attachEvent&&t.attachEvent("on"+i,n)}o(r,"focus",(function(){return t.fire("afterFocusIframe")})),o(r,"blur",(function(){return t.fire("afterBlurIframe")})),o(n,"click",(function(){return t.fire("afterFocusIframe")}))},showPreview:function(t){var e=this.rawConfig,i=this.getEl(),n=i.find("div.js-iframe-container"),r=i.find(".js-go-preview");r.length>0&&(t=!1!==t,this.isInPreview=t,r.html(t?"收起":"预览"),r.removeClass(t?"ico-review-code":"ico-unfold-review").addClass(t?"ico-unfold-review":"ico-review-code"),n.css("display",t?"inline-block":"none"),this.updatePreview(),this[e.noAutoSize?"resize":"autoSize"]())},updatePreview:function(t){var e=this.rawConfig;if(!this.isInPreview)return;var i=this.codeMap,n=e.noTemplate?i.html:l.execTpl(["<!DOCTYPE html>","<html>","<head>",'<meta charset="utf-8">',"<title>nowcoder preview</title>","<style>#{css}</style>","</head>","<body>","#{html}","</body>","<script>#{javascript}<\/script>","</html>"].join(""),{css:i.css,html:i.html,javascript:"try {\n"+(i.javascript||"")+"\n} catch(e) {}"});if(this.lastPreviewHtml===n&&!t)return;this.lastPreviewHtml=n;var o,a=this.getEl().find(".js-iframe").get(0);try{o=a.contentDocument||a.contentWindow.document}catch(c){var s=this.iframeBak.cloneNode();r(a).replaceWith(s),o=(a=s).contentDocument||a.contentWindow.document}o.open("text/html","replace"),o.write(n),o.close(),this.bindIframe()},changeMode:function(t){var e=this,i=e.editor,r={html:{plugin:"htmlmixed",name:"text/html"},javascript:{plugin:"javascript",name:"text/javascript"},css:{plugin:"css",name:"text/css"}}[t=t||e.languageSelected];r&&n.use("ncPlugin/codemirror/mode/"+r.plugin+"/"+r.plugin,(function(){i.setOption("mode",{name:r.name});var n=e.codeMap[t];i.setValue(n),e.rawConfig.forceUpdatePreview&&e.updatePreview(!0)}))},valLangue:function(){return d.langFE},valCode:function(){return this.getJsonStr()},getValue:function(){return this.editor.getValue()},getJsonStr:function(){var t=this.rawConfig.plugins,e=this.codeMap;e[this.languageSelected]=this.getValue();var i={css:e.css,js:e.javascript,html:e.html,libs:[]};return o.forEach(this.pluginSelected,(function(e){var n=t[e];n&&n.value&&i.libs.push(n.value)})),JSON.stringify(i)},resize:function(t,e){var i=this.getEl(),n=i.find(".js-header"),r=i.find(".js-container"),a=i.find(".js-editor"),s=i.find(".js-iframe-container"),c=(i.find(".js-iframe"),!!this.isInPreview);o.id(t)&&i.outerWidth(t),o.id(e)&&i.outerHeight(e),t=i.width(),e=i.height()-n.outerHeight(),r.outerWidth(t),r.outerHeight(e),t=r.width(),e=r.height(),a.outerWidth(c?t/2:t).outerHeight(e),s.outerWidth(c?t/2:t).outerHeight(e),this.editor.setSize("100%",a.height())},autoSize:function(){if(this.rawConfig.noAutoSize)return;try{this._editorScrollEl=this._editorScrollEl||r(this.editor.getScrollerElement()),this._editorSizerEl=this._editorSizerEl||this._editorScrollEl.find("div.CodeMirror-sizer");var t=window.parseInt(this._editorSizerEl.css("min-height")||this._editorSizerEl.height(),10);t=Math.max(this.height,t+this.toolbarHeight),this.resize("100%",t)}catch(e){}},runCode:function(){var t=this,e=(i=t.rawConfig).runCode;if(t.getJsonStr().length>1e5)return void h.alert("啊，代码不要这么长嘛，人家受不了了~");var i=t.rawConfig,n=!!(e=i.runCode||{}).questionId,r=i.getUrlSubmitCode?i.getUrlSubmitCode(n):"",o=i.getUrlGetCodeStatus?i.getUrlGetCodeStatus(n):"";t.codeSubmit[n?"submitSelfCode":"submitTestCode"]({urlSubmitCode:r||f[n?"codeSubmitUrl":"codeRunUrl"](),urlGetCodeStatus:o||f.codeStatusUrl(),data:{pid:e.pid,tid:e.tid,qid:e.qid,questionId:e.questionId,content:t.getJsonStr(),language:d.langFE},extCodeParam:i.runExtParam,extStatusParam:i.statusExtParam,feedback:function(e,i){t.showResult(e,i)},cbGetCaptcha:function(t){g.show({type:p.captcha.runCode,url:i.captchaUrl,call:t,cancel:t})},cbGetCaptchaError:function(e){t.fire("runCodeError",e)},cbSubmitCodeBefore:function(e){t.fire("beforeRunCode")},cbSubmitCodeComplete:function(e){t.fire("runCodeSubmit",e)},cbSubmitCodeError:function(e){t.fire("runCodeError",e)},cbStatusCodeBefore:function(){t.fire("beforeReqStatus")},cbStatusCodeSuccess:function(e){t.fire("runCodeSuccess",e),t.fire("runCodeFinish",e)},cbStatusCodeFail:function(e){t.fire("runCodeDanger",e),t.fire("runCodeFinish",e)},cbStatusCodeError:function(e){t.fire("runCodeError",e)}})},showResult:function(t,e){var i=this.rawConfig.tipEl;if(!t||!r.trim(t))return i.html(""),void i.parent().hide();i.removeClass(e?"alert-info":"alert-danger").addClass(e?"alert-danger":"alert-info"),i.html(t.replace(/\n/g,"<br />")).show(),i.parent().show()},resetCode:function(t){var e=this.rawConfig,i=this.getEl(),n=this.codeMap;n.html=t.html,n.css=t.css,n.javascript=t.js;var a=[],s=i.find(".js-header ul.dropdown-menu li label.checkbox"),c=o.toMap(t.libs,(function(t){return{key:t,value:!0}}));o.forEach(e.plugins,(function(t,e){var i=!!c[t.value];t.checked=i,i&&a.push(e),r(s[e])[i?"addClass":"removeClass"]("checked")})),this.pluginSelected=a,this.showPreview(!!this.isInPreview),this.changeMode()},_getData:function(t){return{languageStr:this._getTabStr(),previewStr:this._getPreviewStr(),pluginStr:this._getPluginStr()}},_getTabStr:function(){var t=this.rawConfig,e='<ul class="edit-tabs js-tabs clearfix">',i={};return o.forEach(t.languages,(function(t){i[t.text]=!0,e+=l.execTpl(['<li data-language="#{text}" class="edit-tab-item #{cls}">','<a href="javascript:void(0);" class="edit-tab-value">#{text}</a>','<a href="javascript:void(0);" class="ico-fresh js-refresh-code" title="还原模板代码" style="#{style}"></a>',"</li>"].join(""),{text:t.text,cls:t.checked?"selected":"",style:t.checked?"":"display:none;"})})),e+="</ul>"},_getPreviewStr:function(){var t=this.rawConfig;return o.find(t.languages,(function(t){return{html:1,css:1}[t.text]}))?'<a href="javascript:void(0);" class="ico-review-code js-go-preview">预览</a>':""},_getPluginStr:function(){var t=this,e=t.rawConfig,i=e.plugins=e.plugins||[p.FELib[1],p.FELib[2]];if(0===i.length)return"";var n=new v({text:"前端插件",size:"small",cls:"fixed-right",options:i,clickItemNoHide:!0,listeners:{render:function(){this.getEl().find(".dropdown-toggle").css("paddingTop",5).css("paddingBottom",5)}}});return n._renderOptions=function(){if(!this.menuRendered){var e=this.getEl(),i=o.map(this.rawConfig.options,(function(e,i){return e.checked&&t.pluginSelected.push(i),l.execTpl('<li><label class="checkbox #{cls}"><span class="icons"></span> <input type="checkbox" /> #{text}</label></li>',{cls:e.checked?"checked":"",text:e.text})})).join("");e.find("ul.dropdown-menu").html(i),this.menuRendered=!0}},n.select=function(e){var i=this.rawConfig.options;if((e=o.id(e))&&!(+e>=i.length)){e=+e;var n=t.pluginSelected,a=!o.contains(n,e);if(a&&n.push(e),!a&&(n=o.without(n,e)),t.pluginSelected=n,this.menuRendered)return o.forEach(this.itemElList,(function(t,e){return r(t).find("label.checkbox")[o.contains(n,e)?"addClass":"removeClass"]("checked")}));i[e].checked=!a}},n.html()},_fixConf:function(t){var e=o.json(t.supportLang,{}),i=e.input||[],n=e.libs;(function(){if(i.length>0){var e=o.toMap(t.languages,(function(t){return{key:t.text,value:t}})),n=o.map(i,(function(t){var i=p.FEInput[t];return e[i]||{text:i}}));t.languages=n}})(),function(){var e=["html","css","javascript"],i={},n=!1,r=!1;o.forEach(t.languages,(function(t){o.contains(e,t.text)&&(n=!0,r=r||!!t.checked,i[t.text]=t)})),n||(i=o.toMap(e,(function(t){return{key:t,value:{text:t,checked:"javascript"===t}}})));var a=[];o.forEach(e,(function(t){var e=i[t];e&&(!r&&(e.checked=!0),a.push(e),r=!0)})),t.languages=a}(),function(){if(n){var e=[];o.forEach(n,(function(t){return p.FELib[t]&&e.push(p.FELib[t])})),t.plugins=e}}()}})},function(t,e,i){var n=i(2),r=i(6),o=i(18),a=i(3),s=i(0),c=i(58),l=i(15),d=i(31),u=i(4),h=t.exports=a.create();a.mix(h,r,{_template:['<div class="">','<div class="subject-upload">','<div class="subject-upload-inner">','<span class="js-upload-wrap"><a class="btn-upload2 js-upload-btn" href="javascript:void(0);"></a></span>','<a class="btn-upload2 js-upload-btn-bak" style="display:none;" href="javascript:void(0);"></a>','<span class="subject-upload-text">上传数据结果文件,仅限 5M 以内的 jar 文件</span>',"</div>",'<div class="subject-upload-inner js-upload-progress" style="display:none;"></div>',"</div>",'<div class="subject-info" style="display:none;">','<div class="alert alert-danger js-run-info"></div>',"</div>",'<div class="subject-action clearfix">','<div class="subject-next">','<a href="javascript:void(0);" class="js-submit-code btn btn-primary">运行</a>',"</div>","</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.uploadFile=null,this.uploadFileId=[],this.progressEl=t.find("div.js-upload-progress"),this.runInfoEl=t.find("div.js-run-info"),this.initUpload()}},{name:"click .js-submit-code",handler:function(t){this.runCode(t)}},{name:"click .js-upload-btn-bak",handler:function(){u.alert("正在判题中，判题完成后才能再次提交")}}]},{initialize:function(t){this.fileReset=!1},initUpload:function(){var t=this,e=t.getEl();t.upload=new c({target:t,holderEl:e.find("a.js-upload-btn"),type:l.uploadType.data,fileType:"*.jar",fileSizeLimit:5,fileQueueLimit:1,btn:{image:"//uploadfiles.nowcoder.com/images/20170720/56_1500535196899_0D6F0B229817E61B74168FFDD350D585",width:150,height:45},uploadSuccess:function(i,n){t.uploadFile=n,t.fileReset=!0,e.find("span.subject-upload-text").html("已上传"+n.fileName+"("+n.fileSize+")"),t.runInfoEl.parent().hide()}})},runCode:function(t){var e=this,i=e.uploadFile,r=e.rawConfig,a=n(t.currentTarget);if(!i)return void u.alert("请先提交文件");if(e.isRuning)return void u.alert("正在判题中");if(!e.fileReset)return void u.alert("请不要重复提交运行同一文件");if(o.mark(a))return;function c(){e.hideUpload(!1),e.isRuning=!1,o.clear(a)}e.fileReset=!1,e.isRuning=!0,e.hideUpload(),e.showMemo("正在提交文件...","info"),d.codeBigDataRun({body:{qid:r.qid,url:i.url},call:function(t){e.runTimer&&window.clearTimeout(e.runTimer),e.showMemo("正在判题...","info");var i=0;e.runTimer=setTimeout((function(){var n=arguments.callee;d.codeBigDataStatus({query:{submissionId:t.submissionId},call:function(t){var r=t.data||{};if(3===r.status){var o="判题完成\n"+r.memo,a=r.outputUrl;a&&a.length>0&&(o+="\n\n",s.forEach(a,(function(t,e){o+='<a href="'+t+'" target="_blank">点击下载输出结果'+(a.length>1?e+1:"")+"</a>\n"}))),e.showMemo(o,"info"),e.runTimer=null,c()}else e.runTimer=setTimeout(n,1e3),e.showMemo(0===i?"正在选择计算资源...":"正在判题...\n"+(r.memo||""),"info"),i++},error:function(){e.showMemo("出现错误，请重试"),c()}})}),1e3)},error:function(t){e.showMemo("出现错误，请重试"),c()}})},showMemo:function(t,e){var i=this.runInfoEl,n="info"===e?"alert-danger":"alert-info",r="info"===e?"alert-info":"alert-danger";i.removeClass(n).addClass(r),i.html(t.replace(/\n/g,"<br />")).show(),i.parent().show()},hideUpload:function(t){!1===t?(n(".js-upload-btn-bak").hide(),n(".js-upload-wrap").css({position:"static",top:0})):(n(".js-upload-wrap").css({position:"absolute",top:"-100000px"}),n(".js-upload-btn-bak").show())}})},function(t,e,i){t.exports=i(28)(32)},function(t,e,i){var n=i(2),r=i(3),o=i(0),a=t.exports=r.create(),s=document.createElement("INPUT"),c="createTextRange"in s||"selection"in document;s=null;var l=c?"\r\n":"\n",d=/^(?:\r|\n)/,u=/(?:\r|\n)$/,h={strong:/^__([\s\S]+?)__(?!_)$|^\*\*([\s\S]+?)\*\*(?!\*)$/,strongPart:/__([\s\S]+?)__(?!_)|\*\*([\s\S]+?)\*\*(?!\*)/g,em:/^\b_((?:__|[\s\S])+?)_\b$|^\*((?:\*\*|[\s\S])+?)\*(?!\*)$/,emPart:/\b_((?:__|[\s\S])+?)_\b|\*((?:\*\*|[\s\S])+?)\*(?!\*)/g,del:/^~~(?=\S)([\s\S]*?\S)~~$/,delPart:/~~(?=\S)([\s\S]*?\S)~~/g,link:/^\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)$/,linkPart:/\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)/g,image:/^!\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)$/,imagePart:/!\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)/g,lineCode:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)$/,lineCodePart:/(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/g,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)$/,list:/^( *)((?:[*+-]|\d+\.)) [\s\S]+?(?:\n+(?=\1?(?:[-*_] *){3,}(?:\n+|$))|\n+(?= *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$))|\n{2,}(?! )(?!\1(?:[*+-]|\d+\.) )\n*|\s*$)/,quote:/^( *>[^\n]+(\n(?! *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$))[^\n]+)*\n*)+/,quotePart:/^ *> ?/gm,code:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/},p="粗体内容",f="斜体内容",g="删除内容",v="链接说明",m="图片说明",w="请在这里输入代码",b="请在这里输入标题",y="无序列表内容",x="有序列表内容",C="请在这里输入引用内容";o.extend(a.prototype,{initialize:function(t){this.input=n(t.input)},isIE:c,CANCEL:"cancel",ADD:"add",focus:function(t){var e=this.getSelection();!0===t?this.input.caret(e.start):!1===t?this.input.caret(e.end):this.input.range(e.start,e.end)},getSelection:function(){return this.input.range()},setSelection:function(t,e){var i=this,n=arguments.length;1===n?i.input.caret(t):2===n&&(i.input.focus(),i.input.range(t,e))},replaceSelection:function(t,e){if(null===(t=this.filterText(t)))return;var i=this.getSelection().start;this.input.range(t),e?this.setSelection(i,this.getSelection().end):this.focus(!1)},getContent:function(){return this.input.val()},insert:function(t,e){if(!(t=this.filterText(t)))return;"before"===e?this.input.caret(this.range().start):"after"===e&&this.input.caret(this.range().end);this.replaceSelection(t)},enlarge:function(t){var e=t.content,i=t.reg,n=t.start,r=t.end,o=e.length,a=s(e,i,n,r,e.length);a.match||t.noCross||((a=s(e,i,n,n,o)).match?a.end=Math.max(r,a.end):(a=s(e,i,r,r,o)).match&&(a.start=Math.min(n,a.start)),a.crossMatch=a.match);return a;function s(e,i,n,r,o){var a,s,c,l,d,u,h;for(a=n;a>=0;a--){for(s=r;s<=o;s++)if(c=e.substr(a,s-a),i.test(c)){if(l=a,d=s,u=!0,!t.greedMatch)break}else if(u){h=!0;break}if(u&&!t.greedMatch||h)break}return{start:l,end:d,match:u}}},enlargeBlock:function(t){var e=t.content,i=t.reg,n=t.start,r=t.end,o=e.length,a=s(e,i,n,r,e.length);a.match||t.noCross||((a=s(e,i,n,n,o)).match?a.end=Math.max(r,a.end):(a=s(e,i,r,r,o)).match&&(a.start=Math.min(n,a.start)),a.crossMatch=a.match);return a;function s(e,i,n,r,o){var a,s,c,l,d,u,h;for(a=n;a>=0;a--)for(s=r;s<=o;s++)if(c=e.substr(a,s-a),h=i.exec(c)){if(a+h[0].length<t.start||a>t.end)break;l=a,d=a+h[0].length,u=!0}if(u){for(;"\n"===e[l]||"\r"===e[l];)l++;for(;"\n"===e[d-1]||"\r"===e[d-1];)d--}return{start:l,end:d,match:u}}},enlargeLine:function(t){var e,i,n,r=t.content,o=t.start,a=t.end;for(;d.test(r.substr(o,a-o))&&o<a;)o+=1;for(e=o;e>=0;e--){if(n=r.substr(e,a-e),d.test(n)){o=e+1;break}o=e}for(e=a,i=r.length;e<=i;e++){if(n=r.substr(o,e-o),u.test(n)){a=e-1;break}a=e}return{start:Math.min(o,t.start),end:Math.max(a,t.end)}},applyInline:function(t){var e,i,n,r,a,s=t.typeReg,c=(t.tips,t.content),l=t.selection,d=this.enlarge({content:c,reg:s,start:l.start,end:l.end,greedMatch:t.greedMatch});d.crossMatch&&(d.match=!1,l.start=Math.min(d.start,l.start),l.end=Math.max(d.end,l.end),l.length=Math.max(0,l.end-l.start),l.text=c.substr(l.start,l.end-l.start));d.match?(r=d.start,a=d.end,e=c.substr(r,a-r),s.exec(e),i=e.replace(t.partReg,t.replace),e=this.replace(c,r,a,i),n=this.CANCEL):(r=l.start,a=l.end,e=l.length>0?l.text.replace(t.partReg,t.replace):o.isFunction(t.tips)?t.tips(l):t.tips||t.normal,i=t.parse(e),e=this.replace(c,r,a,i),n=this.ADD);return{content:e,text:i,start:r,end:r+i.length,length:i.length,type:n}},applyInBlock:function(t){var e,i,n,r,o=t.content,a=this.enlargeBlock({content:o,reg:t.typeReg,start:t.start,end:t.end});a.match?(e=a.start,i=a.end):(e=t.start,i=t.end);var s=this.enlargeLine({content:o,start:e,end:i}),c=o.substr(e,i-e),h=c;d.test(c)||e===s.start||(h=l+l+c,n=!0);u.test(c)||i===s.end||(h+=l+l,r=!0);var p=n||r;o=p?this.replace(o,e,i,h):o,n&&(e+=2*l.length,i+=2*l.length);return{change:p,content:o,start:e,end:i,match:a.match&&!a.crossMatch}},eachLine:function(t){var e=this.getSelection().text.replace(/\r\n|\r/g,"\n"),i=t.filter,n=t.call;this.replaceSelection(e,!0);var r=this.getContent(),a=this.getSelection(),s=this.enlargeLine({content:r,start:a.start,end:a.end});t.fullLine&&this.setSelection(s.start,s.end);a=this.getSelection();var c=r.substr(s.start,s.end-s.start).split("\n"),l=[],d=a.start-s.start,u=c[c.length-1].length+a.end-s.end;if(i)l=o.map(c,(function(t,e){var n=0===e?Math.max(d,0):0,r=e+1==c.length?u:t.length;return i(c,t,e,n,r)}));var h=o.map(l,(function(t){return t.content})).join("\n");r=this.replace(r,s.start,s.end,h),this.input.val(r);for(var p=0,f=l.length-1;f>=0&&!t.noIgnoreLine&&0===l[f].end;f--)p++;var g=a.start-(d-l[0].start),v=l[l.length-1],m=s.start+h.length-(v.content.length-v.end)-p;n&&n(g,m,l)},strong:function(){var t=this;t.eachLine({filter:function(e,i,r,o,a){return""===n.trim(i)&&e.length>1?t.createSelection(i,o,a):t.applyInline({content:i,selection:t.createSelection(i,o,a),tips:p,typeReg:h.strong,partReg:h.strongPart,replace:function(t,e,i,n,r){return(i=e||i)===p?"":i},parse:function(t){return"**"+t+"**"}})},call:function(e,i,n){var r=t.fixPos(e,e+2,i,i-2,n);t.setSelection(r.start,r.end)}})},em:function(){var t=this;t.eachLine({filter:function(e,i,r,o,a){return""===n.trim(i)&&e.length>1?t.createSelection(i,o,a):t.applyInline({content:i,selection:t.createSelection(i,o,a),tips:f,typeReg:h.em,partReg:h.emPart,replace:function(t,e,i,n,r){return(i=e||i)===f?"":i},parse:function(t){return"*"+t+"*"}})},call:function(e,i,n){var r=t.fixPos(e,e+1,i,i-1,n);t.setSelection(r.start,r.end)}})},del:function(){var t=this;t.eachLine({filter:function(e,i,r,o,a){return""===n.trim(i)&&e.length>1?t.createSelection(i,o,a):t.applyInline({content:i,selection:t.createSelection(i,o,a),tips:g,typeReg:h.del,partReg:h.delPart,replace:function(t,e,i,n,r){return(i=e||i)===g?"":i},parse:function(t){return"~~"+t+"~~"}})},call:function(e,i,n){var r=t.fixPos(e,e+2,i,i-2,n);t.setSelection(r.start,r.end)}})},link:function(t){var e=this;if(""===(t=n.trim(e.filterText(t)||"")))return;var i="";e.eachLine({filter:function(r,o,a,s,c){return""===n.trim(o)&&r.length>1?e.createSelection(o,s,c):e.applyInline({content:o,selection:e.createSelection(o,s,c),tips:v,typeReg:h.link,partReg:h.linkPart,replace:function(t,e,i,n,r,o){return e===v?"":e},parse:function(e){return 0===a&&(i=e),"["+e+"]("+t+") "}})},call:function(t,n,r){var o=r[0].type===e.ADD?t+1:t;e.setSelection(o,i?o+i.length:n)}})},image:function(t){var e=this;if(""===(t=n.trim(e.filterText(t)||"")))return;var i="";e.eachLine({filter:function(r,o,a,s,c){return""===n.trim(o)&&r.length>1?e.createSelection(o,s,c):e.applyInline({content:o,selection:e.createSelection(o,s,c),tips:m,typeReg:h.image,partReg:h.imagePart,replace:function(t,e,i,n,r,o){return e===m?"":e},parse:function(e){return 0===a&&(i=e),"!["+e+"]("+t+' "图片标题") '}})},call:function(t,n,r){var o=r[0].type===e.ADD?t+2:t;e.setSelection(o,i?o+i.length:n)}})},lineCode:function(){var t=this;t.eachLine({filter:function(e,i,r,o,a){return""===n.trim(i)&&e.length>1?t.createSelection(i,o,a):t.applyInline({content:i,selection:t.createSelection(i,o,a),tips:w,typeReg:h.lineCode,partReg:h.lineCodePart,replace:function(t,e,i,n,r){return i===w?"":i},parse:function(t){return"`"+t+"`"}})},call:function(e,i,n){var r=t.fixPos(e,e+1,i,i-1,n);t.setSelection(r.start,r.end)}})},heading:function(){var t,e=this,i=b;e.eachLine({fullLine:!0,noIgnoreLine:!0,filter:function(r,a,s,c,l){return 0===s&&(t=o.every(r,(function(t){return""===n.trim(t)}))),""===n.trim(a)?t&&0===s?{content:"### "+i,text:"### "+i,start:c,end:c+4+i.length,length:4+i.length}:e.createSelection(a,c,l):e.applyInline({content:a,selection:e.createSelection(a,c,l),tips:i,typeReg:h.heading,partReg:h.heading,greedMatch:!0,replace:function(t,e,n,r,o){return n===i||" "===n?"":n},parse:function(t){return"### "+t}})},call:function(i,n,r){var o=r[0].type===e.ADD||t?i+4:i;e.setSelection(o,n)}})},ul:function(){var t,e=this,i=e.getSelection(),n=e.getContent(),r=e.applyInBlock({content:n,typeReg:h.list,start:i.start,end:i.end});r.match&&(r.change&&e.input.val(r.content),e.setSelection(r.start,r.end));e.eachLine({fullLine:!0,noIgnoreLine:!0,filter:function(i,n,r,a,s){return 0===r&&(t=o.every(i,(function(t){return h.list.test(t)}))),e.applyInline({content:n,selection:e.createSelection(n,a,s),tips:y,typeReg:h.list,partReg:h.list,greedMatch:!0,replace:function(e,i,n,r,o,a,s,c){return t?l=/^ *(\d+\.) +/.test(e)?"- "+((l=e.replace(/^ *(\d+\.) +/,""))===x?y:l):(l=e.replace(/^ *([*+-]) +/,""))===y?"":l:"- "+e.replace(/^ *([*+-]) +/,"");var l},parse:function(t){return"- "+t}})},call:function(t,i,n){var r=e.fixPos(t,t+2,i,i,n);e.setSelection(r.start,r.end)}})},ol:function(){var t,e=this,i=e.getSelection(),n=e.getContent(),r=e.applyInBlock({content:n,typeReg:h.list,start:i.start,end:i.end});r.match&&(r.change&&e.input.val(r.content),e.setSelection(r.start,r.end));e.eachLine({fullLine:!0,noIgnoreLine:!0,filter:function(i,n,r,a,s){return 0===r&&(t=o.every(i,(function(t){return h.list.test(t)}))),e.applyInline({content:n,selection:e.createSelection(n,a,s),tips:x,typeReg:h.list,partReg:h.list,greedMatch:!0,replace:function(e,i,n,o,a,s,c,l){return t?(/^ *([*+-]) +/.test(e)?(d=e.replace(/^ *([*+-]) +/,""),d=r+1+". "+(d===y?x:d)):d=(d=e.replace(/^ *(\d+\.) +/,""))===y||d===x?"":d,d):((/^ *([*+-]) +/.test(e)||/^ *(\d+\.) +/.test(e))&&(e=e.replace(/^ *([*+-]) +/,"")),r+1+". "+e);var d},parse:function(t){return r+1+". "+t}})},call:function(t,i,n){var r=e.fixPos(t,t+3,i,i,n);e.setSelection(r.start,r.end)}})},blockCode:function(){var t,e,i=this.getSelection(),n=this.getContent(),r=this.applyInBlock({content:n,typeReg:h.code,start:i.start,end:i.end});if(r.match){r.change&&this.input.val(r.content),this.setSelection(r.start,r.end),i=this.getSelection();var o=h.code.exec(i.text)[3];/^\n+|\n+$/g.test(o)&&(o=o.replace(/^\n+|\n+$/g,"")),this.replaceSelection(o,!0)}else{var a=this.enlargeLine({content:n,start:i.start,end:i.end});this.setSelection(a.start,a.end),i=this.getSelection(),t=i.start+4,e="```\n"+(i.text||"")+"\n```",this.replaceSelection(e),this.setSelection(t,t+e.length-8)}},quote:function(){var t=this;t.eachLine({fullLine:!0,noIgnoreLine:!0,filter:function(e,i,n,r,o){return t.applyInline({content:i,selection:t.createSelection(i,r,o),tips:C,typeReg:h.quote,partReg:h.quotePart,replace:function(t){return""},parse:function(t){return"> "+t}})},call:function(e,i,n){var r=t.fixPos(e,e+2,i,i,n);t.setSelection(r.start,r.end)}})},filterText:function(t){return t||""===t?t+"":null},fixPos:function(t,e,i,n,r){return t=r[0].type===this.ADD?e:t,i=r[r.length-1].type===this.ADD?n:i,{start:t,end:i}},createSelection:function(t,e,i){return{content:t,start:e,end:i,length:i-e,text:i===e?"":t.substr(e,i-e)}},replace:function(t,e,i,n){var r=t.split("");return r.splice(e,i-e,n),n=r.join(""),r.length=0,n}})},function(t,e,i){var n=i(2),r=i(3),o=i(0),a=i(4),s=i(25),c=i(54),l=i(139),d=i(15),u=i(248),h=t.exports=r.create();o.extend(h.prototype,{initialize:function(t){this.editor=t.editor,this.selection=this.editor.selection},preview:function(){var t=this.editor;t.showPreview(!t.isInPreview)},bold:function(){this.selection.strong()},italic:function(){this.selection.em()},codeblock:function(){this.selection.blockCode()},bockquote:function(){this.selection.quote()},insertorderedlist:function(){this.selection.ol()},insertunorderedlist:function(){this.selection.ul()},removeformat:function(){var t=this.editor,e=t.val(),i=0,r="";for(;i<5;){e=e.replace(/(\s*)<(\/)?([\w\-:]+)((?:\s+|(?:\s+[\w\-:]+)|(?:\s+[\w\-:]+=[^\s"'<>]+)|(?:\s+[\w\-:"]+="[^"]*")|(?:\s+[\w\-:"]+='[^']*'))*)(\/)?>(\s*)/g,(function(t,e,i,r,o,a,s){return{strong:1,em:1,ul:1,ol:1}[r=n.trim(r).toLowerCase()]?"":"li"===r?"<p>":t})),r=u.html2md(e),e=t.getMdHtml(r),i++}t.text(r)},link:function(){this.selection.link("http://www.nowcoder.com")},image:function(){var t=this.editor;new a({title:"插入图片",content:['<div class="form-group">','<label class="control-label">图片链接</label>','<div class="control-group"><input type="text"/></div>','<div style="position:relative;display:inline-block;line-height:42px;font-size:14px;margin-left:15px;">','<a style="display:block;" href="javascript:void(0);" class="link-green js-md-image-upload">上传图片</a>',"</div>","</div>"].join(""),render:function(){var t=this.getEl(),e=this.urlIpt=s.transform(t.find("div.control-group"));c.show({target:t.find(".js-md-image-upload"),url:"/uploadImage?type=1&watermark=true",type:d.uploadType.image,fileType:"*.jpg;*.JPG;*.png;*.PNG;*.gif;*.GIF;*.bmp;*.BMP;*.jpeg;*.JPEG",fileSize:5,call:function(t){e.val(t.url)}})},ok:function(){var e=n.trim(this.urlIpt.val());if(!e)return this.urlIpt.setErrorTips("请输入图片链接"),!0;t.selection.image(e),t.fire("afterChange")},cancel:function(){}})},math:function(){var t=this,e=t.editor;l.formula({useLaTex:!1,call:function(i){t.selection.image(i),e.fire("afterChange")}})}})},function(t,e,i){i(2);var n=i(3),r=i(0),o=t.exports=n.create();r.extend(o.prototype,{initialize:function(t){var e=this,i=e.editor=t.editor;e.selection=i.selection,e.list=[],e.index=0,e.canRecord=!0,i.listen("destroy",(function(){e.list.length=0,e.index=0}))},record:function(t){var e=this.editor;if(!this.canRecord)return;var i=this.list,n=e.text();i.length=Math.min(this.index+1,i.length);var r=i[this.index];if(!r||r.content!==n&&(t||Math.abs(r.content.length-n.length)>3)){var o=this.selection.getSelection();i.push({content:n,selection:o}),this.index=i.length-1}},redo:function(){var t=this,e=t.editor,i=t.list,n=t.index+1;if(n>=i.length)return;t.disable((function(){var i=t.list[n];e.text(i.content||""),t.index=n;var r=i.selection;r&&t.selection.setSelection(r.start||0,r.end||0),t.selection.focus()}))},undo:function(){var t=this,e=t.editor,i=t.index-1;if(i<0)return;t.disable((function(){var n=t.list[i];e.text(n.content||""),t.index=i;var r=n.selection;r&&t.selection.setSelection(r.start||0,r.end||0),t.selection.focus()}))},disable:function(t){var e=this.editor;this.canRecord=!1,t&&t.call(e),this.canRecord=!0}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(4),s=i(249),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){if(t.rawConfig.noUploadRemote)return;var e=!1;function i(){if(!e){var i=t.text(),o=[];i.replace(/\!\[.*?\]\((.*?)\)/gi,(function(t,e){return e=n.trim(e),(e=n.trim(e.split(/\s+/)[0]))&&o.push(e),t}));var c=(o=r.uniq(o)).length;if(s.canUpload(o)){var l=0,d=s.isUploaded(o)?null:new a({hasNoTitle:!0,hasNoFooter:!0,noUnique:!0,content:'<div style="font-size:14px;text-align:center;">图片上传中...</div>'});e=!0,r.forEach(o,(function(i){s.upload(i,(function(r){if(r&&i!==r){var o=t.text(),a=o.replace(/\!\[.*?\]\((.*?)\)/gi,(function(t,e){return(e=n.trim(e)).indexOf(i)>=0&&(t=t.replace(i,r)),t}));o!==a&&t.text(a)}++l>=c&&(e=!1,d&&d.close())}))}))}}}t.listen("draftChange",i),i()}})},function(t,e,i){i(2);var n=i(0),r=i(3),o=i(8),a=i(58),s=i(60),c=t.exports=r.create();n.extend(c.prototype,{initialize:function(t){var e;if(t.rawConfig.noPasteUpload)return;function i(){return e||(e=s.show({})).popup.listen("close",(function(){e=null})),e}o.bindPaste(document,t.iptEl,(function(e,r){var o=n.find(e,(function(t){return"file"===t.kind&&/image/.test(t.type||"")})),s=o?o.getAsFile():null;s&&(r.preventDefault(),new a({url:"/uploadImage?type=1&watermark=true",progress:function(t){i().showProgress("正在上传："+t+"%",t)},error:function(){i().showError("上传失败")},call:function(e){i().close(),t.selection.image(e.url),t.history.record(),t.fire("afterChange")}}).uploadBlob(s,(new Date).getTime()+"."+s.type.split("/").pop()))}))}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=(i(8),i(11),i(57)),s=(i(130),t.exports=o.create());r.extend(s.prototype,{initialize:function(t){this.editor=t,this.initHover(),this.initTips(),this.initFix()},initHover:function(){this.editor.toolbarEl.find("span.ke-outline").mouseenter((function(t){n(t.currentTarget).addClass("ke-on")})).mouseleave((function(t){var e=n(t.currentTarget);!e.attr("data-on")&&e.removeClass("ke-on")}))},initTips:function(){var t=this.editor,e=t.toolbarEl.find("span.ke-outline");a.titleEl(e,{verReverse:!0},(function(e){t.pushChild(e)}))},initFix:function(){var t=this.editor,e=t.rawConfig,i=!e.noToolbarFixed,n=+e.toolbarFixedTop||0,r=t.toolbarEl;i&&n&&r.css("top",n),!i&&r.css("position","relative")}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=(i(18),i(4),i(130)),s=t.exports=o.create();r.extend(s.prototype,{initialize:function(t){var e=this;if(e.editor=t,!t.rawConfig.needChangeEditor)return;var i=n('<div class="simple-dropdown ke-change-code"></div>');t.toolbarEl.prepend(i),e.editorSelect=new a({renderTo:i,autoWidth:!0,options:[{text:"Markdown编辑器",value:"md",checked:!0},{text:"富文本编辑器",value:"html"}],change:function(){"html"===this.val()&&e.changeEditor()}})},changeEditor:function(){var t=this.editor,e=t.rawConfig,n=t.getEl(),o=i(250);if(r.isFunction(e.changeEditor))return e.changeEditor();o.loadDep((function(){var i=new o({renderTo:n,renderBy:"after",isAdmin:e.isAdmin,content:t.val(),needChangeEditor:!0,needAt:e.needAt,afterChangeEditor:e.afterChangeEditor,pressEnter:e.pressEnter,width:e.width,height:e.height,draftChange:e.draftChange,disabled:e.disabled,clickMask:e.clickMask,noToolbarFixed:e.noToolbarFixed,toolbarFixedTop:e.toolbarFixedTop,noAutoHeight:e.noAutoHeight,render:function(){t.destroy()}});e.afterChangeEditor&&e.afterChangeEditor.call(t,i),t.fire("changeEditor",i)})),n.hide()}})},function(t,e,i){var n=i(0);t.exports={getToolItems:function(t){var e="source,|,bold,italic,underline,forecolor,|,formatblock,bockquote,codeblock,insertorderedlist,insertunorderedlist,link,|,image,emoji,vote,|,table,subscript,superscript,math,removeformat";!t.isAdmin&&(e=e.replace("forecolor","").replace("link","")),!t.isVote&&(e=e.replace("vote",""));var i=e.split(",");return n.filter(i,(function(t){return!!t}))}}},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(10),s=(i(8),i(11),i(57)),c=(i(130),t.exports=o.create());r.extend(c.prototype,{initialize:function(t){this.editor=t,this.initFullScreen(),this.initTips(),this.initFix(),this.initCodeSelect()},initFullScreen:function(){var t=this.editor,e=t.rawConfig;if(e.fullScreen){var i=n('<a href="javaScript:void(0);" class="full-ico"></a>');t.getToolbarEl().append(i),i.on("click",e.fullScreen)}},initTips:function(){var t=this.editor,e=(t.rawConfig,t.getToolbarEl().find("span.ke-outline"));s.titleEl(e,{verReverse:!0},(function(e){t.pushChild(e)}))},initFix:function(){var t=this.editor,e=t.rawConfig,i=!e.noToolbarFixed,n=+e.toolbarFixedTop||0,r=t.getToolbarEl();i&&n&&r.css("top",n),!i&&r.css("position","relative")},initCodeSelect:function(){var t=this.editor;if(t.rawConfig.noCodeSelect)return;var e=n(t.getToolbarEl()),r=n('<span class="ke-outline ke-insert-box"><span class="ke-insert-code"><i class="icon-insert-code"></i> 插入代码</span></span>');e.prepend(r),r.on("click",(function(){i(325).show({call:function(e){n.trim(e.content)&&function(e,i){var n=t.keEditor;t.removePlaceHolder();var r='<pre class="prettyprint '+(e?"lang-"+e:"")+'">'+a.encodeHTML(i)+"</pre><br />";n.insertHtml(r).focus(),t.fire("afterChange")}(e.code,e.content)}})}))}})},function(t,e,i){var n,r=i(62),o=(i(2),i(6)),a=(i(0),i(3)),s=i(4),c=i(67),l=t.exports=a.create();a.mix(l,o,{_template:["<div>",'<div class="pop-note-title mb2"></div>','<div class="js-editor" style="height:320px;"></div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig;l.loadDep((function(){t.initSelect(),t.initCodeEditor(),t.editor.focus(),t.popup.fixPosition(),e.value&&t.val(e.value)}))}}],show:function(t){var e=new l(t=t||{});return s.wrap(e,{title:"插入程序代码",content:e.html(),width:720,okTxt:"确定",cancelTxt:"取消",ok:function(){var i=e.val();t.call&&t.call(i)}}),e},loadDep:function(t){r.use(["ncPlugin/codemirror/codemirror","ncPlugin/codemirror/style/codemirror.css","ncPlugin/codemirror/style/theme/monokai.css","ncPlugin/codemirror/mode/clike/clike","ncPlugin/codemirror/addon/edit/matchbrackets","ncPlugin/codemirror/addon/edit/closebrackets","ncPlugin/codemirror/addon/hint/showhint","ncPlugin/codemirror/addon/invisible/invisible"],(function(e){n=e,t&&t()}))}},{initSelect:function(t){var e=this,i=e.getEl();e.langSelect=new c({renderTo:i.find(".pop-note-title"),options:[{text:"C/C++",value:"cpp",checked:!0},{text:"Java",value:"java"},{text:"Python",value:"py"},{text:"JavaScript",value:"js"},{text:"PHP",value:"php"},{text:"Ruby",value:"rb"},{text:"C#",value:"cs"},{text:"Shell",value:"bsh"},{text:"CSS",value:"css"},{text:"HTML",value:"html"},{text:"XML",value:"xml"},{text:"ASP/VB",value:"vb"},{text:"Perl",value:"pl"},{text:"其他",value:""}],change:function(){e.fixCodePlugin()}})},initCodeEditor:function(){var t=this.getEl();this.editor=n(t.find(".js-editor").get(0),{theme:"monokai",indentUnit:4,lineNumbers:!0,showInvisibles:!0,mode:"text/x-csrc",matchBrackets:!0,autoCloseBrackets:!0,hintOptions:{completeSingle:!1,closeOnUnfocus:!0},extraKeys:{Tab:function(t){var e=t.somethingSelected();e&&t.indentSelection("add"),!e&&t.replaceSelection(new Array(5).join(" "),"end","+input")}}})},fixCodePlugin:function(){var t=this.langSelect,e=t?t.val():"",i=this.getCM(e),n=this.editor;n&&i&&i.plugin&&r.use("ncPlugin/codemirror/mode/"+i.plugin+"/"+i.plugin,(function(){n.setOption("mode",{name:i.name})}))},val:function(t){var e=this;if(0===arguments.length)return{code:e.langSelect.val(),content:(e.editor.getValue()||"").replace(/ /gi," ")};(t=t||{}).code&&e.langSelect.val(t.code),t.content&&e.editor.setValue(t.content||""),e.fixCodePlugin()},getCM:function(t){return t&&{vb:{plugin:"clike",name:"text/x-c++hdr"},cpp:{plugin:"clike",name:"text/x-c++hdr"},css:{plugin:"css",name:"text/css"},cs:{plugin:"clike",name:"text/x-c++hdr"},html:{plugin:"htmlmixed",name:"text/html"},java:{plugin:"clike",name:"text/x-java"},js:{plugin:"javascript",name:"text/javascript"},pl:{plugin:"clike",name:"text/x-java"},php:{plugin:"php",name:"application/x-httpd-php"},py:{plugin:"python",name:"text/x-python"},rb:{plugin:"ruby",name:"text/x-ruby"},bsh:{plugin:"clike",name:"text/x-c++hdr"},xml:{}}[t]||{}}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(4),s=i(130),c=i(209),l=t.exports=o.create();r.extend(l.prototype,{initialize:function(t){var e=this;if(e.editor=t,!t.rawConfig.needChangeEditor)return;var i=n('<div class="simple-dropdown ke-change-code"></div>');t.getToolbarEl().prepend(i),e.editorSelect=new s({renderTo:i,autoWidth:!0,options:[{text:"Markdown编辑器",value:"md"},{text:"富文本编辑器",value:"html",checked:!0}],change:function(){"md"===this.val()&&e.changeEditor()}})},changeEditor:function(){var t=this,e=t.editor,n=e.rawConfig,o=e.getEl(),s=e.val(),l=i(247);if(r.isFunction(n.changeEditor))return n.changeEditor();if(e.isEmpty())return l.loadDep((function(){d(l)}));function d(t){var i=new t({renderTo:o,renderBy:"after",isAdmin:n.isAdmin,content:t.html2md(s),needChangeEditor:!0,needAt:!!n.needAt,afterChangeEditor:n.afterChangeEditor,pressEnter:n.pressEnter,width:n.width,height:n.height,draftChange:n.draftChange,disabled:n.disabled,clickMask:n.clickMask,noToolbarFixed:n.noToolbarFixed,toolbarFixedTop:n.toolbarFixedTop,noAutoHeight:n.noAutoHeight,render:function(){e.destroy()}});n.afterChangeEditor&&n.afterChangeEditor.call(e,i),e.fire("changeEditor",i),o.hide()}l.loadDep((function(){var e=a.confirm('切换到 MarkDown 编辑器可能会丢失部分内容格式，确认切换？<a class="link-green" href="javascript:void(0);">预览转换后的效果</a>',(function(){d(l)}),(function(){t.editorSelect&&t.editorSelect.val("html")}));e&&e.getEl().find("a.link-green").on("click",(function(t){var e=l.html2md(s),i=l.md2html(e),n=window.open().document;n.open("text/html","replace"),n.write("<html><head><title>预览</title><style>"+c.css+"</style></head><body>"+i+"</body></html>"),n.close()}))}))}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(29),s=(i(10),i(86)),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){if(a.ie())return;var e=t.getEditorDoc();t.keEditor,e=n(e);t.listen("afterBlur",(function(){var e=t.val(),i=s.replaceLink(e);i!==e&&t.val(i)}))}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(8),s=i(19),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){var e,i=this,r=t.getEl(),o=n(['<div class="js-editor-img-bar editor-img-bar" style="display:none;width:60px;">','<a href="javascript:void(0);" title="放大" class="icon-zoom-in"></a>','<a href="javascript:void(0);" title="缩小" class="icon-zoom-out"></a>',"</div>"].join(""));n(document.body).append(o),t.listen("destroy",(function(){o.remove()}));var s=t.getEditorDoc();n(s).on("keydown",(function(t){window.clearTimeout(e),o.unbind("click").hide()})),n(s).on("click",(function(t){window.clearTimeout(e),o.unbind("click").hide();var c=t.target;i.canEdit(c)&&(e=window.setTimeout((function(){var t=c.width,e=c.height;if(t&&e){var i=a.getPosTop(c,s.body),l=a.getPosLeft(c,s.body),d=a.getPosTop(r),u=a.getPosLeft(r);o.css("top",d+i+40).css("left",u+l+1).show();var h=null;o.on("click","a.icon-zoom-in",(function(t){var e=n(c).width();n(c).removeAttr("width height").height("auto"),h=h||n(c).width("auto").width();var i=(Math.round(10*e/h)+1)/10;n(c).width(i>5?e:h*i)})),o.on("click","a.icon-zoom-out",(function(t){var e=n(c).width();n(c).removeAttr("width height").height("auto"),h=h||n(c).width("auto").width();var i=(Math.round(10*e/h)-1)/10;n(c).width(i<.1?e:h*i)}))}}),25))})),n(document.body).on("click",(function(t){var i=t.target;i===o.get(0)||n.contains(o.get(0),i)||(window.clearTimeout(e),o.unbind("click").hide())}))},canEdit:function(t){var e=n(t),i=n.trim(e.attr("src"));return i&&e.get(0)&&"img"===(e.get(0).tagName||"").toLowerCase()&&!s.getParam("tex",i)&&!e.attr("data-card-emoji")&&!e.attr("data-vote-id")}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=t.exports=o.create();r.extend(a.prototype,{initialize:function(t){var e=t.rawConfig,i=t.getEditorDoc(),r=n(i.body),o=t.getEditor(),a=e.placeholder;a&&(r.attr("data-placeholder",a),t.listen("afterChange",s),s());function s(){var t=o.isEmpty();r[t?"addClass":"removeClass"]("show-placeholder")}}})},function(t,e,i){i(2);var n=i(0),r=i(3),o=i(8),a=i(58),s=i(60),c=t.exports=r.create();n.extend(c.prototype,{initialize:function(t){var e=t.rawConfig;if(e.noPasteUpload)return;var i,r=t.getEditor(),c=t.getEditorDoc();function l(){return i||((i=s.show({})).popup.listen("close",(function(){return i=null})),i)}o.bindPaste(c,c.body,(function(t,i){var o=n.find(t,(function(t){return"file"===t.kind&&/image/.test(t.type||"")})),s=o?o.getAsFile():null;s&&(i&&i.preventDefault&&i.preventDefault(),new a({url:e.pasteUploadUrl||"/uploadImage?type=1&watermark=true",progress:function(t){l().showProgress("正在上传："+t+"%",t)},error:function(){l().showError("上传失败")},call:function(t){l().close(),r.exec("insertimage",t.url)}}).uploadBlob(s,(new Date).getTime()+"."+(s.type||"").split("/").pop()))}))}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(4),s=i(249),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){if(t.rawConfig.noUploadRemote)return;var e=!1;function i(){if(!e){var i=t.getEditorDoc(),o=n(i.body).find("img"),c=o.length;if(0!==c){var l=r.map(o,(function(t){return n.trim(n(t).attr("src"))}));if(s.canUpload(l)){var d=s.isUploaded(l)?null:new a({hasNoTitle:!0,hasNoFooter:!0,noUnique:!0,content:'<div style="font-size:14px;text-align:center;">图片上传中...</div>'});e=!0;var u=0;r.forEach(o,(function(t){t=n(t);var i=n.trim(t.attr("src"));s.upload(i,(function(n){n&&n!==i&&(t.attr("src",n),t.attr("data-ke-src",n)),++u>=c&&(e=!1,d&&d.close())}))}))}}}}t.listen("draftChange",i),i()}})},function(t,e,i){i(2);var n=i(0),r=i(3),o=t.exports=r.create();n.extend(o.prototype,{initialize:function(t){}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(19),s=(i(4),i(139)),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){var e=this.action=(t.rawConfig||{}).toolAction||{};this.initMath(t),this.initEmoji(t),this.initVote(t);var i=t.getEditor();r.forEach(e,(function(t,e){i._handlers[e]=[t]}))},initMath:function(t){this.action.clickToolbarmath=function(){s.formula({useLaTex:!0,call:function(e){t.getEditor().exec("insertimage",e)},callLaTex:function(e){t.getEditor().insertHtml(e)}})},n(t.getEditorDoc()).on("click","img",(function(e){var i=n(e.currentTarget),r=i.attr("src"),o=a.getParam("tex",r);o&&s.formula({useLaTex:!0,value:o,valueLaTex:"$ "+o+" $",eidtor:t,call:function(t){i.attr("src",t).attr("data-ke-src",t)},callLaTex:function(t){i.replaceWith(t)}})}))},initEmoji:function(t){this.action.clickToolbaremoji=function(){};var e=t.getEditor(),n=e&&e.toolbar?e.toolbar.get("emoji"):null;if(n&&n.get(0)){var r=i(42).show({target:n.get(0),call:function(t){e.insertHtml(t.html)}});t.pushChild(r)}},initVote:function(t){var e=t.rawConfig;if(!e.cbEditVote)return;var i=n(t.getEditorDoc());this.action.clickToolbarvote=function(){e.cbEditVote({call:function(e){!function(e){var n=i.find("img[data-vote-id]");if(e&&n.get(0))n.attr("data-vote-id",e);else if(e){var r="https://static.nowcoder.com/images/vote-placeholder.png";e&&t.getEditor().insertHtml('<img src="'+r+'" data-vote-id="'+e+'" data-ke-src="'+r+'" /><div><br /></div>')}}(e)}})},i.on("click","img[data-vote-id]",(function(t){var i=n(t.currentTarget),r=n.trim(i.attr("data-vote-id"));r&&e.cbEditVote({voteId:r,call:function(t){i.attr("data-vote-id",t)}})}))}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=t.exports=o.create();r.extend(a.prototype,{initialize:function(t){var e,i,r=t.rawConfig;if(r.draftChange){var o=window.setInterval(a,1600);t.listen("destroy",(function(){window.clearInterval(o)}))}function a(){t.waitCreated((function(){try{var o=(new Date).getTime();if(e){if(o-e>800){var a=i||"",s=n.trim(t.iframeHtml());e=o,i=s,s!==a&&(t.fire("draftChange"),r.draftChange&&r.draftChange.call(t,t.val()))}}else e=o}catch(c){}}))}t.listen("afterChange",a)}})},function(t,e,i){var n=i(2),r=i(0),o=i(8),a=i(3),s=t.exports=a.create();r.extend(s.prototype,{initialize:function(t){if(t.rawConfig.noAutoHeight)return;var e=t.getEditorEl(),i=o.getScrollParent(e);i=n(i||window);var r=t.val();t.listen("afterChange",(function(){var e=t.val();if(r!==e){r=e;try{t.autoHeight(i)}catch(n){}}})),r&&n(t.getEditorDoc()).one("click",(function(){t.autoHeight(i)}))}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(17),s=i(44),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){if(this.editor=t,!t.rawConfig.needAt)return;this.id=r.ascId(),this.initIpt(t)},initIpt:function(t){var e,i=this,r=s.getPool(i.id),o=n(t.getEditorDoc()),a=n(t.getEditorWin()),c=n(o).find("body");function l(){window.clearTimeout(e),e=window.setTimeout((function(){i.analyze()}),150)}function d(t){i.cancelAt()&&t.preventDefault()}o.on("click",l),o.on("focus",l),o.on("keydown",(function(t){window.clearTimeout(e);var n=+t.keyCode;if({37:"left",38:"top",39:"right",40:"down",16:"shift",17:"ctrl",18:"option",91:"cmd"}[n]||!i.cancelAt())return{38:1,40:1,13:1}[n]?13===n&&r.isListMenuShow?t.preventDefault():void 0:l();t.preventDefault()})),a.on("blur",(function(){window.clearTimeout(e),e=window.setTimeout((function(){s.showList(i.id)}),150)})),c.on("paste",d),c.on("cut",d),c.on("copy",d)},analyze:function(){var t=this,e=t.editor,i=e.keEditor,n=t.getAtInfo();if(!n)return s.showList(t.id);var r=t.getPos(n.range);s.showList(t.id,{ipt:e.getEditorDoc(),text:n.text,pos:r,ext:{top:5},ok:function(n){var r=e.getEditorDoc(),o=t.getAtInfo().range;a.isInDev(),n.id;i.insertHtml('​<a data-card-uid="'+n.id+'" href="javascript:void(0);">@'+n.nickname+'</a>&nbsp;<span id="jsNcAtTmpSpan"></span>'),o.deleteContents();try{var s=r.getElementById("jsNcAtTmpSpan");(o=r.createRange()).selectNodeContents(s),o.collapse(!1);var c=e.getEditorWin().getSelection();c.removeAllRanges(),c.addRange(o),s.parentNode.removeChild(s)}catch(l){}}})},getAtInfo:function(){var t=this.editor.keEditor.cmd.range;if(!t.collapsed)return;if(this.getAtNodeByRange(t))return;var e,i=t.shrink().down().startContainer.data||"",n=t.startOffset-1,r=-1;for(;n>=0&&("@"===(e=i[n])&&(r=n),"@"!==e&&!/\s/.test(e));)n--;if(-1===r)return;if(r>0&&/[1-9a-z]/gi.test(i[r-1]))return;var o=t.cloneRange();return o.setStart(t.startContainer,r),{index:r,text:i.substring(r+1,t.startOffset),full:i.substring(r,t.startOffset),range:o}},getPos:function(t){var e=this.editor,i=t.doc,r=i.createDocumentFragment(),o=i.getElementById("ncAtTmpHockSpan");o||((o=i.createElement("span")).id="ncAtTmpHockSpan");o.innerHTML="@",r.appendChild(o),t.insertNode(r);var a=e.getElPos(o),s=n(o).outerHeight();return o.parentNode.removeChild(o),{top:a.top+s,left:a.left}},cancelAt:function(){var t=this.editor.keEditor;t.cmd.selection();var e=t.cmd.range,i=e.collapsed,n=this.getAtNodeByRange(e),r=i?n:this.getAtNodeByRange(e,!0);if(!n&&!r)return;var o=n,a=n!==r&&r?r:null,s=e.createBookmark();return o&&this.removeNode(o,!0),a&&this.removeNode(a,!0),e.moveToBookmark(s),t.select(),!0},getAtNodeByRange:function(t,e){var i=t[e?"endContainer":"startContainer"],n=t[e?"endOffset":"startOffset"];if(1===i.nodeType){var r=i.childNodes;if(n=n>0?n-1:0,r.length>n)return this.getAtNode(r[n])}return this.getAtNode(i)},getAtNode:function(t){for(;t;){var e=(t.nodeName||"").toLowerCase(),i=(t.className,t.getAttribute?t.getAttribute("data-card-uid"):"");if("a"===e&&(i||""===i))break;t=t.parentNode}return t},removeNode:function(t,e){var i,n=(t||{}).parentNode;if(n){if(e&&t.hasChildNodes())for(;i=t.firstChild;)n.insertBefore(i,t);n.removeChild(t)}return t}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=i(17),s=i(51),c=t.exports=o.create();r.extend(c.prototype,{initialize:function(t){if(this.editor=t,!t.rawConfig.needSubject)return;this.id=r.ascId(),this.initIpt(t)},initIpt:function(t){var e,i=this,r=s.getPool(i.id),o=n(t.getEditorDoc()),a=n(t.getEditorWin()),c=n(o).find("body");function l(){window.clearTimeout(e),e=window.setTimeout((function(){return i.analyze()}),150)}function d(t){i.cancelSubject()&&t.preventDefault()}o.on("click",l),o.on("focus",l),o.on("keydown",(function(t){window.clearTimeout(e);var n=+t.keyCode;return!{37:"left",38:"top",39:"right",40:"down",16:"shift",17:"ctrl",18:"option",91:"cmd"}[n]&&i.cancelSubject()?t.preventDefault():{38:1,40:1,13:1}[n]?13===n&&r.isListMenuShow?t.preventDefault():void 0:l()})),a.on("blur",(function(){window.clearTimeout(e),e=window.setTimeout((function(){return s.showList(i.id)}),150)})),c.on("paste",d),c.on("cut",d),c.on("copy",d)},analyze:function(){var t=this,e=t.editor,i=e.keEditor,n=t.getSubjectInfo();if(!n)return s.showList(t.id);var r=t.getPos(n.range);s.showList(t.id,{ipt:e.getEditorDoc(),text:n.text,pos:r,ext:{top:5},ok:function(n){var r=e.getEditorDoc(),o=t.getSubjectInfo().range;a.isInDev(),n.id;i.insertHtml('​<a data-card-subject-id="'+n.id+'" href="javascript:void(0);">#'+n.content+'#</a>&nbsp;<span id="jsNcSubjectTmpSpan"></span>'),o.deleteContents();try{var s=r.getElementById("jsNcSubjectTmpSpan");(o=r.createRange()).selectNodeContents(s),o.collapse(!1);var c=e.getEditorWin().getSelection();c.removeAllRanges(),c.addRange(o),s.parentNode.removeChild(s)}catch(l){}}})},getSubjectInfo:function(){var t=this.editor.keEditor.cmd.range;if(!t.collapsed)return;if(this.getSubjectNodeByRange(t))return;var e,i=t.shrink().down().startContainer.data||"",n=t.startOffset-1,r=-1;for(;n>=0&&("#"===(e=i[n])&&(r=n),"#"!==e&&!/\s/.test(e));)n--;if(-1===r)return;if(r>0&&/[1-9a-z]/gi.test(i[r-1]))return;var o=t.cloneRange();return o.setStart(t.startContainer,r),{index:r,text:i.substring(r+1,t.startOffset),full:i.substring(r,t.startOffset),range:o}},getPos:function(t){var e=this.editor,i=t.doc,r=i.createDocumentFragment(),o=i.getElementById("ncSubjectTmpHockSpan");o||((o=i.createElement("span")).id="ncSubjectTmpHockSpan");o.innerHTML="#",r.appendChild(o),t.insertNode(r);var a=e.getElPos(o),s=n(o).outerHeight();return o.parentNode.removeChild(o),{top:a.top+s,left:a.left}},cancelSubject:function(){var t=this.editor.keEditor;t.cmd.selection();var e=t.cmd.range,i=e.collapsed,n=this.getSubjectNodeByRange(e),r=i?n:this.getSubjectNodeByRange(e,!0);if(!n&&!r)return;var o=n,a=n!==r&&r?r:null,s=e.createBookmark();return o&&this.removeNode(o,!0),a&&this.removeNode(a,!0),e.moveToBookmark(s),t.select(),!0},getSubjectNodeByRange:function(t,e){var i=t[e?"endContainer":"startContainer"],n=t[e?"endOffset":"startOffset"];if(1===i.nodeType){var r=i.childNodes;if(n=n>0?n-1:0,r.length>n)return this.getSubjectNode(r[n])}return this.getSubjectNode(i)},getSubjectNode:function(t){for(;t;){var e=(t.nodeName||"").toLowerCase(),i=(t.className,t.getAttribute?t.getAttribute("data-card-subject-id"):"");if("a"===e&&(i||""===i))break;t=t.parentNode}return t},removeNode:function(t,e){var i,n=(t||{}).parentNode;if(n){if(e&&t.hasChildNodes())for(;i=t.firstChild;)n.insertBefore(i,t);n.removeChild(t)}return t}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=(i(18),i(130),t.exports=o.create());r.extend(a.prototype,{initialize:function(t){var e=this;if(t.rawConfig.noShowExplain)return;var i=t.toolbarEl,r=t.bodyEl,o=n('<a class="ico-to-markdown">Markdown语法</a>');i.prepend(o),o.on("click",(function a(){var t=r.find(".js-explain"),i=t.get(0),n=i&&"none"!==t.css("display");n&&t.hide(),n||(i||(t=e.getExplain(),r.append(t),t.on("click",".pop-close",a)),t.show())}))},getExplain:function(){return n(['<div class="markdown-explain js-explain" style="display:none;">','<a href="javascript:void(0);" class="pop-close" title="关闭"></a>','<p class="markdown-explain-txt"><span class="tit">格式</span><span class="txt">语法</span></p>',"<ul>",'<li class="js-insert-md" data-type="h1"><a href="javascript:void(0);"><span class="tit bold">H1</span><span class="txt"># 标题</span></a></li>','<li class="js-insert-md" data-type="h2"><a href="javascript:void(0);"><span class="tit bold">H2</span><span class="txt">## 标题</span></a></li>','<li class="js-insert-md" data-type="h3"><a href="javascript:void(0);"><span class="tit bold">H3</span><span class="txt">### 标题</span></a></li>',"</ul>","<ul>",'<li class="js-insert-md" data-type="hr"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown1"></i></span><span class="txt">---分割线</span></a></li>','<li class="js-insert-md" data-type="strong"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown2"></i></span><span class="txt">**加粗**</span></a></li>','<li class="js-insert-md" data-type="em"><a href="javascript:void(0);"><span class="tit italic">斜</span><span class="txt">*斜体*</span></a></li>',"</ul>","<ul>",'<li class="js-insert-md" data-type="code"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown3"></i></span><span class="txt">`行内代码`</span></a></li>','<li class="js-insert-md" data-type="blockcode"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown4"></i></span><span class="txt">```代码块```</span></a></li>',"</ul>","<ul>",'<li class="js-insert-md" data-type="ul"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown5"></i></span><span class="txt">- 列表</span></a></li>','<li class="js-insert-md" data-type="ol"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown6"></i></span><span class="txt">1.有序列表</span></a></li>',"</ul>","<ul>",'<li class="js-insert-md" data-type="blockquote"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown7"></i></span><span class="txt">> 引用内容</span></a></li>','<li class="js-insert-md" data-type="link"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown8"></i></span><span class="txt">[链接标题](URL)</span></a></li>','<li class="js-insert-md" data-type="image"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown9"></i></span><span class="txt">![图片说明](URL)</span></a></li>',"</ul>",'<a href="https://www.nowcoder.com/discuss/179680" target="_blank" class="explain-more">详细说明 &gt;</a>',"</div>"].join(""))}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=t.exports=o.create();r.extend(a.prototype,{initialize:function(t){var e,i=this,r=t.rawConfig;if(r.noSyncScroll||!r.noAutoHeight)return;function o(){i.cache={}}i.editor=t,i.iptEl=t.iptEl,i.iframeBody=n(t.iframeDoc.body),i.iframeWin=n(t.iframeWin),i.previewEl=t.previewEl,o(),i.initBakEl(),t.listen("updatePreview",o),t.listen("resize",o),t.listen("showPreview",(function(t){t&&(o(),i.iptEl.trigger("scroll"))})),i.iptEl.on("scroll",(function(){i.lockScrollSide("preview",(function(){window.clearTimeout(e),t.isInPreview&&(e=window.setTimeout((function(){var t=i.getEditorScroll();i.setPreviewScroll(t)}),256))}))})),i.iframeWin.on("scroll",(function(){i.lockScrollSide("editor",(function(){window.clearTimeout(e),t.isInPreview&&(e=window.setTimeout((function(){var t=i.getPreviewScroll();i.setEditorScroll(t)}),256))}))}))},getEditorScroll:function(){this.initCache();var t,e,i=this.cache,n=i.lineNum,o=this.iptEl.scrollTop(),a=i.contentLineTop;r.forEach(n,(function(i){if(!(a[i-1]<o))return e=i,r.BREAK;t=i}));var s=0;if(t&&e&&t!==e){var c=a[t-1],l=a[e-1];s=(o-c)/(l-c)}return{lastMarker:t,nextMarker:e,percent:s}},setEditorScroll:function(t){var e=this;e.initCache();var i=e.cache.contentLineTop,n=i[t.lastMarker-1],r=i[t.nextMarker-1];e.lockScrollSide("editor",(function(){var i=n+(r-n)*t.percent;e.editorAnimate&&e.editorAnimate.stop(),e.editorAnimate=e.iptEl.animate({scrollTop:i},128)}))},getPreviewScroll:function(){this.initCache();var t=this.cache,e=this.iframeWin.scrollTop(),i=0,n=0,o=t.contentLineCount,a=t.previewMaxScroll,s=t.lineEl,c=t.lineNum;r.forEach(s,(function(t,s){var l=t.offsetTop,d=c[s];if(!(l<e))return o=d,a=l,r.BREAK;i=d,n=l}));var l=0;n!==a&&(l=(e-n)/(a-n));return{lastMarker:i,nextMarker:o,percent:l}},setPreviewScroll:function(t){var e=this;e.initCache();var i=e.cache,n=0,r=i.previewMaxScroll;if(t.lastMarker){var o=i.lineNumMap[t.lastMarker];n=i.lineEl[o].offsetTop}if(t.nextMarker){o=i.lineNumMap[t.nextMarker];r=i.lineEl[o].offsetTop}var a=n+(r-n)*t.percent;e.lockScrollSide("preview",(function(){e.previewAnimate&&e.previewAnimate.stop(),e.previewAnimate=e.iframeBody.animate({scrollTop:a},128)}))},initBakEl:function(){if(this.bakDv)return this.bakDv;var t=this.iptEl.get(0),e=null!==window.mozInnerScreenX&&window.mozInnerScreenX!==undefined,i=document.createElement("div"),n=document.createElement("span");i.appendChild(n),document.body.appendChild(i);var r=i.style,o=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",r.display="none",r.overflow=e?t.scrollHeight>parseFloat(o.height)?"scroll":r.overflow:"hidden",r.direction=o.direction,r.boxSizing=o.boxSizing,r.width=o.width,r.height=o.height,r.overflowX=o.overflowX,r.overflowY=o.overflowY,r.borderTopWidth=o.borderTopWidth,r.borderRightWidth=o.borderRightWidth,r.borderBottomWidth=o.borderBottomWidth,r.borderLeftWidth=o.borderLeftWidth,r.borderStyle=o.borderStyle,r.paddingTop=o.paddingTop,r.paddingRight=o.paddingRight,r.paddingBottom=o.paddingBottom,r.paddingLeft=o.paddingLeft,r.fontStyle=o.fontStyle,r.fontVariant=o.fontVariant,r.fontWeight=o.fontWeight,r.fontStretch=o.fontStretch,r.fontSize=o.fontSize,r.fontSizeAdjust=o.fontSizeAdjust,r.lineHeight=o.lineHeight,r.fontFamily=o.fontFamily,r.textAlign=o.textAlign,r.textTransform=o.textTransform,r.textIndent=o.textIndent,r.textDecoration=o.textDecoration,r.letterSpacing=o.letterSpacing,r.wordSpacing=o.wordSpacing,r.tabSize=o.tabSize,r.MozTabSize=o.MozTabSize,this.bakDv=i,this.bakSpan=n},initCache:function(){var t=this;!t.cache&&(t.cache={});var e=t.cache;if(e.inited)return;e.inited=!0;var i=t.iptEl.get(0),n=i.value.split("\n");e.contentLineCount=n.length,e.iframeBodyHeight=t.iframeBody.outerHeight(),e.previewElHeight=t.previewEl.outerHeight(),e.previewMaxScroll=e.iframeBodyHeight-e.previewElHeight;var o=e.lineEl=t.iframeBody.find("[data-line]");a=[],s={},r.forEach(o,(function(t,e){var i=+t.getAttribute("data-line");a.push(i),s[i]=e})),e.lineNum=a,e.lineNumMap=s,function(){var o=window.getComputedStyle?window.getComputedStyle(i):i.currentStyle,a=e.contentLineTop={},s=t.bakDv,c="";r.forEach(n,(function(t){c+="<span>"+(t||".")+"</span>\n"})),s.innerHTML=c,s.style.display="block",s.style.width=o.width,s.style.height=o.height;var l=parseFloat(o.borderTopWidth)||0,d=s.getElementsByTagName("span");r.forCount(e.contentLineCount,(function(t){var e=d[t];a[t]=e.offsetTop+l})),s.innerHTML="",s.style.display="none"}();var a,s},lockScrollSide:function(t,e){var i=this;i.scrollingSide&&i.scrollingSide!==t||(i.scrollingSide=t,window.clearTimeout(i.sideClearTimer),i.sideClearTimer=window.setTimeout((function(){i.scrollingSide=null}),512),e&&e())}})},function(t,e,i){var n=i(2),r=i(0),o=i(3),a=t.exports=o.create();r.extend(a.prototype,{initialize:function(t){var e,i=this;if(t.rawConfig.noHighlight)return;var o=!1,a=t.iptEl,s=n(t.iframeDoc.body);function c(){o=!0,window.clearTimeout(e),e=window.setTimeout(l,250)}function l(){if(d(),o&&t.isInPreview){var e=a.val(),n=a.range(),c=n.start,l=n.end,u=(c=i.getPosLine(e,n.start),l=i.getPosLine(e,n.end),c===l);u&&s.find("[data-line="+c+"]").addClass("md-highlight"),!u&&r.forCount(l-c+1,(function(t){s.find("[data-line="+(c+t)+"]").addClass("md-highlight")}))}}function d(){window.clearTimeout(e),s.find(".md-highlight").removeClass("md-highlight")}t.listen("updatePreview",l),a.on("focus",c),a.on("click",c),a.on("blur",(function(){o=!1,d()}))},getPosLine:function(t,e){return t.substring(0,e).split("\n").length}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=function(t,e){return t===e},r=function(t,e,i){var r=t.length,o=e.length,a=r+o,s=Array.apply(null,{length:o+r+1}).map((function(){return[]})),c=[],l=-1;i=i||n,c[a+1]=0;for(var d=0;d<=a&&-1===l;d++)for(var u,h,p,f=-d;f<=d&&-1===l;f+=2){for(f===-d||f!==d&&c[f-1+a]<c[f+1+a]?(u=c[f+1+a],p=3):(u=c[f-1+a]+1,p=2),h=u-f,s[u][h]=p;u<r&&h<o&&i(t[u],e[h]);)h++,s[++u][h]=0;c[f+a]=u,u>=r&&h>=o&&(l=d)}return s},o=function(t,e,i){var n,o,a,s,c,l=function(t,e,i){for(var n=[],r=[],o=t.length,a=e.length;o>0||a>0;)switch(i[o][a]){case 0:n.unshift(t[o-1]),r.unshift(0),o-=1,a-=1;break;case 1:n.unshift(t[o-1]),r.unshift(e[a-1]),o-=1,a-=1;break;case 2:n.unshift(t[o-1]),r.unshift(-1),o-=1,a-=0;break;case 3:n.unshift(-1),r.unshift(e[a-1]),o-=0,a-=1}return{src:n,target:r}}(t,e,r(t,e,i)),d=l.src,u=l.target,h=function(t){return-1!==t},p=[];for(s=u.length-1;s>=0;){for(c=s;0!==u[c]&&c>=0;c--);c<s&&(n=d.slice(0,c+1).filter(h).length,o=d.slice(c+1,s+1).filter(h).length,a=u.slice(c+1,s+1).filter(h),p.unshift(a.length?[n,o,a]:[n,o])),s=c-1}return p},a=o,s=function(t,e,i){i="string"==typeof i?i:"";var n=t.split(i),r=e.split(i),a=o(n,r);return a.forEach((function(t){t[2]&&(t[2]=t[2].join(i))})),{splitter:i,diff:a}},c=i(0),l={parse:function(t,e){var i=this,n=(t.diff||"").split(/\n(?!\\ No newline at end of file)/),r={head:{},body:[],addLine:0,delLine:0},o=0,l=[],d=[];if(""===n[n.length-1]&&n.pop(),function(t){var e=t[t.length-1].split("↵"),i=t[t.length-2].split("↵");if("+"!==e[0].slice(0,1)||"-"!==i[0].slice(0,1))return;if(e[0].slice(1)!==i[0].slice(1))return;t.pop(),t.pop(),t.push(" "+e[0].slice(1)),t.push(2===e.length?"-":"+"),2===e.length&&t.push("+")}(n),/(---)|(\+\+\+)/.test(n[0])){var u=n.shift(),h=n.shift();r.head.old=u.replace(/(--- "?a\/).+/,"$1"+t.oldPath)+(4===u.indexOf('"')?'"':""),r.head.update=h.replace(/(\+\+\+ "?b\/).+/,"$1"+t.newPath)+(4===h.indexOf('"')?'"':"")}var p={},f=0,g=0;return c.forEach(n,(function(t,e){if(/^@@/.test(t)){p={lines:[]},r.body.push(p);var i=t.split(" @@"),o=/-(\d+),?(\d*)\s\+(\d+),?(\d*)/.exec(i[0]||"")||[];return p.oldBeginIndex=f=+o[1]||0,p.newBeginIndex=g=+o[3]||0,void v(i[0]+" @@"+i[1])}v(t),e===n.length-1&&m()})),r;function v(t){var e=function(t){var e={};t=t.split("\n")[0],/^@/.test(t)?e={code:0,type:"mark",oldIndex:"...",newIndex:"..."}:/^\s/.test(t)?(e={code:1,type:"normal",oldIndex:f,newIndex:g},g++,f++):/^\+/.test(t)?(e={code:2,type:"add",oldIndex:"",newIndex:g},g++,r.addLine++):/^-/.test(t)?(e={code:3,type:"del",oldIndex:f,newIndex:""},f++,r.delLine++):"\\ No newline at end of file"===t&&(e={code:4,type:"end",oldIndex:"...",newIndex:"..."});return c.extend(e,{text:e.code?i.encodeHTML(t.slice(1)):i.encodeHTML(t)}),e}(t),n=4===e.code,a=e.code;return o&&1!==o||3!==a?(1===o||2===o)&&2===a&&d.length<l.length?(o=2,void d.push(e)):(1!==o&&2!==o||n||m(),void(!n&&p.lines.push(e))):(o=1,void l.push(e))}function m(){c.forEach(l,(function(t,i){var n=d[i];if(n)if(e){var r=s(t.text,n.text,"");t.diff=[],n.diff=[];h=0;c.forEach(r.diff,(function(e){var i=e[0],r=e[1],o=e[2];r&&t.diff.push([i,-r]),o&&n.diff.push([i+h,o.length]),h=h-r+(o||"").length}))}else{var o=t.text.split(/(\W)/),l=n.text.split(/(\W)/),u=a(o,l);t.diff=[],n.diff=[];var h=0;c.forEach(u,(function(e){var i=e[0],r=e[1],a=e[2]||[],s=o.slice(0,i).join("").length,c=o.slice(i,i+r).join("").length,l=a.join("");c&&t.diff.push([s,-c]),l&&n.diff.push([s+h,l.length]),h=h-c+(l||"").length}))}p.lines.push([t,n])})),o=0,l=[],d=[]}},highlightLine:function(t){if(!t.diff)return t;var e=t.text;return c.forReverse(t.diff,(function(i){var n=i[0],r=i[1],o=n+Math.abs(r);e=e.slice(0,n)+'<span class="'+t.type+'-diff">'+e.slice(n,o)+"</span>"+e.slice(o)})),t.text=e,t},encodeHTML:function(t){return t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}};var d=i(0);var u={props:["diff","isSelfTest"],data:function(){var t=this,e=t.diff,i=[];return i.push([t.getInfo({type:0,num:"...",text:e.head.old}),t.getInfo({type:0,num:"...",text:e.head.update})]),d.forEach(e.body,(function(e){d.forEach(e.lines,(function(e,n){var r=d.isArray(e),o=r?l.highlightLine(e[0]):e,a=r&&e[1]?l.highlightLine(e[1]):e,s=t.getInfo(t.getConf(o,!0),0===o.code),c=0===a.code?"":t.getInfo(t.getConf(a));i.push([c,s])}))})),{items:i}},methods:{getConf:function(t,e){return!t||2===t.code&&e||3===t.code&&!e?{type:0,num:" ",text:" "}:{type:t.code,num:e?t.oldIndex:t.newIndex,text:t.text}},getInfo:function(t,e){var i=["code-position","diff-code-normal","diff-code-add","diff-code-del","code-position"],n=t.type;return{num:t.num,mainWidth:e?"94%":"44%",colspan:e?3:1,cls:i[n]+" txt-center",textCls:i[n]+" fn-left",symbol:[" "," ","+","-"," "][n],text:t.text}},getDesc:function(t){var e=d.map(/-(\d+),?(\d*)\s\+(\d+),?(\d*)/.exec(t||"")||[],(function(t){return parseInt(t,10)}));return"你期望输出的第 "+e[3]+" 至 "+(e[3]+e[4]-1)+" 行与实际输出的第 "+e[1]+" 至 "+(e[1]+e[2]-1)+" 行有不同"}}},h=i(1),p=Object(h.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"diff-detail-wrap"},[i("div",{staticClass:"diff-detail-hd clearfix"},[i("span",{staticClass:"pop-diff-item"},[t._v(t._s(t.isSelfTest?"你期望的输出":"标准输出"))]),t._v(" "),i("span",{staticClass:"pop-diff-item"},[t._v(t._s(t.isSelfTest?"实际输出":"你的输出"))])]),t._v(" "),i("div",{staticClass:"diff-detail-bd nc-git-code clearfix"},[i("table",{staticClass:"diff-code-table"},[i("tbody",t._l(t.items,(function(e,n){return i("tr",{key:n},[t._l(e,(function(e,r){return[e&&n>0?[i("td",{key:"td1"+r,"class":e.cls,attrs:{width:"6%"},domProps:{innerHTML:t._s(e.num)}}),t._v(" "),i("td",{key:"td2"+r,"class":e.textCls,attrs:{width:e.mainWidth,colspan:e.colspan}},[/^@@/.test(e.text)?[i("span",[t._v(t._s(t.getDesc(e.text)))])]:i("span",{staticClass:"diff-cont"},[i("span",{staticClass:"pretty-code C++ js-code",domProps:{innerHTML:t._s(e.text)}})])],2)]:t._e()]}))],2)})),0)])])])}),[],!1,null,null,null).exports,f=i(27),g=i(0),v=i(4);var m={show:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=this,i=f.extend(e),n=new i(t);return v.wrap(n,{width:960,title:"输出对比",hasNoFooter:!1,ok:function(){}}),n},props:["content","isSelfTest"],components:{Double:p},data:function(){var t=this.content;return g.isString(t)&&(t=[{diff:t}]),g.isObject(t)&&(t=[t]),{items:g.map(t,(function(t){return l.parse(t)}))}}},w=Object(h.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pop-content pop-diff-wrapper"},t._l(t.items,(function(e,n){return i("Double",{key:n,attrs:{diff:e,isSelfTest:t.isSelfTest}})})),1)}),[],!1,null,null,null);e["default"]=w.exports},,function(t,e,i){"use strict";i.r(e);var n=i(105),r=i(31),o=i(4);var a={props:["isShow"],components:{VueStatus:n.a},data:function(){return{timerPing:null,timerExpire:null,isLoading:!0,isExpire:!1,code:"",error:""}},mounted:function(){this.actionRefresh()},methods:{startPing:function(){var t=this;window.clearTimeout(t.timerPing),t.timerPing=window.setTimeout((function(){if(t.isExpire)return t.startPing();r.scanPingAppScanned({query:{code:t.code},call:function(){return o.tips("扫码成功，正在跳转...",(function(){return t.$emit("submit")}))},error:function(e){if(2!==e.code)return t.startPing();window.clearTimeout(t.timerExpire),t.isExpire=!0}})}),2e3)},actionRefresh:function(){var t=this;window.clearTimeout(t.timer),t.isLoading=!0,r.scanGetCode({type:"GEt",call:function(e){var i=e.data;t.code=i.code,t.error="",t.timerExpire=window.setTimeout((function(){return t.isExpire=!0}),1e3*+i.expireSecs),t.startPing()},error:function(e){return t.error=e.msg},always:function(){t.isLoading=!1,t.isExpire=!1}})}}},s=i(1),c=Object(s.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pop-scan-wrapper"},[t.isLoading?i("div",{staticClass:"login-qrcode-wrapper fn-center"},[i("VueStatus",{attrs:{loading:!0}})],1):[i("div",{staticClass:"login-qrcode-wrapper"},[i("div",{staticClass:"login-qrcode"},[t.isExpire||t.error?i("div",{staticClass:"qrcode-mask"},[i("p",[t._v(t._s(t.isExpire?"二维码已失效":t.error))]),t._v(" "),i("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:t.actionRefresh}},[t._v("点击刷新")])]):t._e(),t._v(" "),i("img",{attrs:{src:"/qrcode/to-pc-code?code="+t.code}})]),t._v(" "),i("img",{staticClass:"guide-img",attrs:{src:"//static.nowcoder.com/fe/style/images/common/res/popup/1.png",alt:""}}),t._v(" "),t._m(0)]),t._v(" "),t._e()]],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"scan-box"},[e("div",{staticClass:"icon-nc-scan"}),this._v(" "),e("div",{staticClass:"scan-tips"},[e("p",[this._v("打开"),e("a",{staticClass:"link-green",attrs:{href:"https://www.nowcoder.com/app",target:"_blank"}},[this._v("牛客手机APP")])]),e("p",[this._v("扫一扫登录")])])])}],!1,null,null,null).exports,l=i(62),d=i(2),u=i(0),h=i(10),p=i(19),f=i(11),g=i(4),v=i(25),m=i(15),w=i(17),b=i(31),y=i(113),x=document.createElement("A"),C=i(27);var k={ncPopup:function(t){var e=new(C.extend(this))(t);return g.wrap(e,{width:650,hasNoFooter:true,hasNoTitle:true}).listen("close",(function(){return e.$emit("close")})),e},props:["href","register"],components:{Scan:c},data:function(){return{isScanLoaded:!1,isScan:!1,mode:!1===this.register?"login":"register",openBigDay:"",loginType:"password",isLogining:!1,isRegistering:!1,loginCpn:{},registerCpn:{},wxHref:"",qqHref:"",wbHref:"",rrHref:"",dbHref:"",gitHref:""}},mounted:function(){var t=this;t.$nextTick((function(){t.initScan(),t.initCpn(),t.initCaptcha(),t.initShareHref(),t.getPublicKey(null,!0)}))},methods:{initScan:function(){var t=this,e=t.$watch("isScan",(function(i){i&&(t.isScanLoaded=!0,e())}))},initCpn:function(){var t=this,e=t.$refs;t.loginCpn={account:v.transform(e.loginAccount),pwd:v.transform(e.loginPwd),zip:y.initPhoneZip({renderTo:e.loginCountry}),accountPhone:v.transform(e.loginAccountPhone),captcha:v.transform(e.loginCaptcha)};var i=t.registerCpn={zip:y.initPhoneZip({renderTo:e.regCountry,showNow:!0}),account:v.transform(e.regAccount),captcha:v.transform(e.regCaptcha),pwd:v.transform(e.regPwd),pwd2:v.transform(e.regPwdRepeat)};function n(){d.trim(i.account.val())&&t.checkRegisterAccount()}i.zip.listen("change",n),i.account.listen("blur",n),i.pwd.listen("blur",u.bind(t.checkRegisterPwd,t)),i.pwd2.listen("blur",u.bind(t.checkRegisterPwd,t))},initCaptcha:function(){var t=this,e=t.registerCpn,i=t.loginCpn;t.registerAuthCaptcha=y.initCaptcha({btn:t.$refs.regCaptchaBtn,cpn:t,isPhone:!0,check:u.bind(t.checkRegisterAccount,t),val:function(){return""+d.trim(e.zip.val())+d.trim(e.account.val())}}),y.initCaptcha({btn:t.$refs.loginCaptchaBtn,cpn:t,isPhone:!0,check:function(n){y.checkPhone({zip:i.zip,phone:i.accountPhone,needRegister:!0,call:function(r,o){if(o.isError||o.isRegister)return n&&n(!o.isError);i.accountPhone.setNone();var a=g.confirm("该手机还没注册，是否立即注册？",(function(){t.actionMode("register"),e.zip.val(i.zip.val()),e.account.val(i.accountPhone.val()),e.captcha.val(""),t.registerAuthCaptcha&&t.registerAuthCaptcha.send(),n&&n(!1)}),(function(){return n&&n(!1)}));a.okBtn.html("立即注册"),a.cancelBtn.html("暂不注册")}})},val:function(){return""+d.trim(i.zip.val())+d.trim(i.accountPhone.val())}})},initShareHref:function(){var t=this,e=t.href,i={};(e=e&&e!==window.location.href?e:"")&&(x.href=e),i.callBack=e?x.href:undefined;var n=window.location.hostname;"www.nowcoder.com"!==n&&(i.callBackHostName=n);var r=w.isInHttps()?"https://":"http://";t.wxHref=p.addParam({callBack:window.location.href},"/oauth2/login/wechat_mp_index"),t.qqHref="https://graph.qq.com/oauth2.0/authorize?client_id=101003590&response_type=code&state=web&redirect_uri="+p.addParam(i,r+"www.nowcoder.com/oauth2/qqconfig"),t.wbHref="https://api.weibo.com/oauth2/authorize?client_id=3023520088&response_type=code&state=web&scope=follow_app_official_microblog&redirect_uri="+p.addParam(i,r+"www.nowcoder.com/oauth2/sinaconfig"),t.rrHref="https://graph.renren.com/oauth/authorize?client_id=33356a41ddac4028a9ad64925e68c0e0&redirect_uri=http://www.nowcoder.com/oauth2/rrconfig&response_type=code&state=web",t.dbHref="https://www.douban.com/service/auth2/auth?client_id=075c6b46242f18c8161541d26c8d4a58&redirect_uri=http://www.nowcoder.com/oauth2/dbconfig&response_type=code&state=web",t.gitHref="https://github.com/login/oauth/authorize?client_id=1c539827b9400016d0c9&scope=user:email&redirect_uri="+p.addParam(i,"http://www.nowcoder.com/oauth2/gitconfig")+"&response_type=code&state=web",b.getOauthState({type:"GET",call:function(e){return t.wbHref="https://api.weibo.com/oauth2/authorize?client_id=3023520088&response_type=code&state="+(e.data||"web")+"&scope=follow_app_official_microblog&redirect_uri="+p.addParam(i,r+"www.nowcoder.com/oauth2/sinaconfig")}})},clear:function(){u.forEach(this.loginCpn,(function(t){return t.setNone&&t.setNone()})),u.forEach(this.registerCpn,(function(t){return t.setNone&&t.setNone()}))},val:function(t){var e=this.loginCpn,i=this.registerCpn;if(this.isRegister){var n={zip:o=d.trim(i.zip.val())||"+86",phone:(t?o:"")+d.trim(i.account.val()),code:d.trim(i.captcha.val()),password:d.trim(i.pwd.val()),pwd2:d.trim(i.pwd2.val())};return t&&(n.cipherPwd=this.encrypt(n.password),n.method=1,delete n.zip,delete n.password,delete n.pwd2),n}var r=this.isPassword,o=d.trim(e.zip.val())||"+86",a=d.trim(e[r?"account":"accountPhone"].val());n={zip:o,email:t&&!r?(o||"")+a:a,code:d.trim(e.captcha.val()),pwd:d.trim(e.pwd.val()),remember:this.$refs.loginRember.checked?"true":"false"};t&&(r&&(n.cipherPwd=this.encrypt(n.pwd),delete n.code),delete n.zip,delete n.pwd);return n},check:function(t){var e=this.val(),i=this.loginCpn,n=this.registerCpn,r=this.isRegister,o=this.isPassword,a=!0;if(r)return e.code||(n.captcha.setErrorTips("验证码不能为空"),a=!1),a=this.checkRegisterPwd(!0)&&a,this.checkRegisterAccount((function(e){t&&t(a&&e)}));o?(h.isEmail(e.email)||h.isPhone(e.email)||/^\+\d+$/.test(e.email)||(i.account.setErrorTips("请输入正确的邮箱或手机"),a=!1),e.pwd||(i.pwd.setErrorTips("密码不能为空"),a=!1)):(("+86"===e.zip?h.isPhone(e.email):/\d+$/.test(e.email))||(i.accountPhone.setErrorTips("请输入正确的手机"),a=!1),e.code||(i.captcha.setErrorTips("验证码不能为空"),a=!1));t&&t(a)},checkRegisterAccount:function(t){y.checkPhone({zip:this.registerCpn.zip,phone:this.registerCpn.account,call:t})},checkRegisterPwd:function(t){var e=this.registerCpn;return y.checkPwd({ipt1:e.pwd,ipt2:e.pwd2,isSubmit:t})},encrypt:function(t){var e=new window.NCJSEncrypt;return e.setPublicKey(this.publicKey||""),e.encrypt(d.trim(t))},getPublicKey:function(t,e){var i=this;!function(t){i.publicKey&&t&&t(),!i.publicKey&&b.getLoginPublicKey({type:"GET",call:function(n){var r=n.data||{},o=r.rsaPublicKey;if(i.openBigDay=r.openBigDay,!o)return!e&&g.alert("获取公钥出错，请联系牛客工作人员");i.publicKey=o,t&&t()},error:function(t){return!e&&g.alert(t.msg)}})}((function(){return function(t){window.NCJSEncrypt&&t&&t(),!window.NCJSEncrypt&&l.use("//static.nowcoder.com/nc/jslib/jsencrypt.min.js",(function(){f.waitUtil({times:250,condition:function(){return!!window.NCJSEncrypt},call:t,error:function(){return!e&&g.alert("获取加密文件出错，请重试")}})}))}(t)}))},actionMode:function(t){this.mode=t||"register",this.clear(),this.popup&&this.popup.fixPosition()},actionLoginType:function(t){this.loginType=t,this.popup&&this.popup.fixPosition()},actionSubmit:function(t){t.preventDefault(),this[this.isRegister?"actionRegister":"actionLogin"]()},actionRegister:function(){var t=this;t.clear(),t.check((function(e){e&&t.getPublicKey((function(){t.isRegistering||(t.isRegistering=!0,b.register({body:t.val(!0),call:function(){return t.$emit("register")},error:function(e){var i=t.registerCpn,n=e.msg||"";n.indexOf("密码")>=0?(i.pwd.setErrorTips(n),i.pwd2.setErrorTips(n)):n.indexOf("验证码")>=0?i.captcha.setErrorTips(n):g.alert(n)},always:function(){return t.isRegistering=!1}}))}))}))},actionLogin:function(){var t=this;t.clear(),t.check((function(e){e&&t.getPublicKey((function(){t.isLogining||(t.isLogining=!0,b.login({body:t.val(!0),captcha:{type:m.captcha.login},call:function(){return t.$emit("login")},error:function(e){var i=t.loginCpn;if(!t.isPassword)return i.accountPhone.setErrorTips(e.msg);4===e.code?i.pwd.setErrorTips(e.msg||"密码不正确，请重试！"):i.account.setErrorTips(e.msg)},always:function(){return t.isLogining=!1}}))}))}))}},computed:{isRegister:function(){return"register"===this.mode},isLogin:function(){return"login"===this.mode},isPassword:function(){return"password"===this.loginType}}},E=Object(s.a)(k,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pop-content"},[i("a",{staticClass:"pop-close",attrs:{href:"javascript:void(0);",title:"关闭"}}),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"pop-reg-form clearfix"},[i("div",{staticClass:"login-type",staticStyle:{"z-index":"99"}},[t.isScan?i("a",{staticClass:"icon-nc-pclogin",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.isScan=!1}}},[i("span",{staticClass:"login-type-tips"},[t._v("牛客账号登录")])]):i("a",{staticClass:"icon-nc-codelogin",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.isScan=!0}}},[i("span",{staticClass:"login-type-tips"},[t._v("牛客APP扫码登录")])])]),t._v(" "),i("div",{staticClass:"input-section"},[t.isScanLoaded?i("Scan",{directives:[{name:"show",rawName:"v-show",value:t.isScan,expression:"isScan"}],on:{submit:function(e){return t.$emit("login")}}}):t._e(),t._v(" "),i("form",{directives:[{name:"show",rawName:"v-show",value:!t.isScan,expression:"!isScan"}],on:{submit:t.actionSubmit}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isRegister,expression:"isRegister"}]},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[t._v("手机号码")]),t._v(" "),i("div",{ref:"regAccount",staticClass:"control-group form-phone-fill"},[i("div",{ref:"regCountry",staticClass:"btn-group"}),i("input",{attrs:{type:"text",placeholder:"请输入手机号码"}})])]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[t._v("验证码")]),t._v(" "),i("div",{staticClass:"btn-group phone-code"},[i("div",{ref:"regCaptcha",staticClass:"control-group"},[i("input",{attrs:{type:"text",placeholder:"请输入验证码"}})]),t._v(" "),i("span",{staticClass:"input-group-btn"},[i("button",{ref:"regCaptchaBtn",staticClass:"btn btn-primary",staticStyle:{padding:"0 5px"}},[t._v("获取验证码")])])])]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[t._v("密码")]),t._v(" "),i("div",{ref:"regPwd",staticClass:"control-group"},[i("input",{attrs:{type:"password",placeholder:"请输入密码"}})])]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[t._v("重输密码")]),t._v(" "),i("div",{ref:"regPwdRepeat",staticClass:"control-group"},[i("input",{attrs:{type:"password",placeholder:"请重复输入密码"}})])]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-input-login"},[i("a",{staticClass:"btn btn-primary btn-block",attrs:{href:"javascript:void(0);"},on:{click:t.actionRegister}},[t._v("立即注册")])])]),t._v(" "),i("div",{staticClass:"pop-login-tips"},[t._v("已有牛客网账号？ "),i("a",{staticClass:"link-green",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.actionMode("login")}}},[t._v("立即登录")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}]},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isPassword,expression:"isPassword"}],staticClass:"form-group"},[i("label",{staticClass:"control-label"},[t._v("邮箱/手机")]),t._v(" "),i("div",{ref:"loginAccount",staticClass:"control-group"},[i("input",{attrs:{type:"text",placeholder:"请输入邮箱/手机号码"}})])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isPassword,expression:"isPassword"}],staticClass:"form-group"},[i("label",{staticClass:"control-label"},[t._v("密码")]),t._v(" "),i("div",{ref:"loginPwd",staticClass:"control-group"},[i("input",{attrs:{type:"password",placeholder:"请输入密码"}})])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isPassword,expression:"!isPassword"}],staticClass:"form-group"},[i("label",{staticClass:"control-label"},[t._v("手机号码")]),t._v(" "),i("div",{ref:"loginAccountPhone",staticClass:"control-group form-phone-fill"},[i("div",{ref:"loginCountry",staticClass:"btn-group"}),i("input",{attrs:{type:"text",placeholder:"请输入手机号码"}})])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isPassword,expression:"!isPassword"}],staticClass:"form-group"},[i("label",{staticClass:"control-label"},[t._v("验证码")]),t._v(" "),i("div",{staticClass:"btn-group phone-code"},[i("div",{ref:"loginCaptcha",staticClass:"control-group"},[i("input",{attrs:{type:"text",placeholder:"请输入验证码"}})]),t._v(" "),i("span",{staticClass:"input-group-btn"},[i("button",{ref:"loginCaptchaBtn",staticClass:"btn btn-primary",staticStyle:{padding:"0 5px"}},[t._v("获取验证码")])])])]),t._v(" "),i("div",{staticClass:"form-group about-pwd clearfix"},[i("div",{staticClass:"keep-pwd"},[i("label",[i("input",{ref:"loginRember",attrs:{type:"checkbox",checked:""}}),t._v(" 下次自动登录")])]),t._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:t.isPassword,expression:"isPassword"}],staticClass:"forget-pwd",attrs:{href:"/forgot-pwd"}},[t._v(" 忘记密码？")])]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-input-login"},[i("a",{staticClass:"btn btn-primary btn-block",attrs:{href:"javascript:void(0);"},on:{click:t.actionLogin}},[t._v("立即登录")])])]),t._v(" "),t.isPassword?t._e():i("div",{staticClass:"pop-login-tips"},[i("a",{staticClass:"link-green",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.actionLoginType("password")}}},[t._v("账号密码登录")])]),t._v(" "),t.isPassword?i("div",{staticClass:"pop-login-tips"},[i("a",{staticClass:"link-green",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.actionLoginType("sms")}}},[t._v("短信验证登录")])]):t._e(),t._v(" "),i("div",{staticClass:"pop-login-tips"},[t._v("还没有牛客网账号？ "),i("a",{staticClass:"link-green",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.actionMode("register")}}},[t._v("极速注册")])])]),t._v(" "),i("input",{staticClass:"nk-invisible",attrs:{type:"submit"}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isScan,expression:"!isScan"}],staticClass:"pop-login-wrapper"},[i("a",{staticClass:"nc-js-action-oauth pop-login-web pop-login-web1",attrs:{href:"javascript:void(0);","data-href":t.qqHref}}),t._v(" "),i("a",{staticClass:"nc-js-action-oauth pop-login-web pop-login-web2",attrs:{href:"javascript:void(0);","data-href":t.wxHref}}),t._v(" "),i("a",{staticClass:"nc-js-action-oauth pop-login-web pop-login-web3",attrs:{href:"javascript:void(0);","data-href":t.wbHref}}),t._v(" "),i("span",{staticClass:"pop-login-web pop-login-more"},[i("i",{staticClass:"icon-nc-more2"}),t._v(" "),i("div",{staticClass:"tooltip bottom tooltip-info"},[t._m(1),t._v(" "),i("div",{staticClass:"tooltip-inner"},[i("a",{staticClass:"nc-js-action-oauth pop-login-web pop-login-web5",attrs:{href:"javascript:void(0);","data-href":t.rrHref}})])])])])],1),t._v(" "),t.isRegister&&!t.isScan?i("p",{staticClass:"pop-reg-tips"},[t.openBigDay?[t._v("网站注册功能维护中，暂停注册，"+t._s(t.openBigDay)+"后开放")]:[t._v('点击"立即注册"按钮，或使用第三方网站账号登录，即表示你同意'),i("br"),i("a",{staticClass:"link-green",attrs:{href:"https://static.nowcoder.com/protocol/register.html",target:"_blank"}},[t._v("《注册协议》")]),t._v(" 和 "),i("a",{staticClass:"link-green",attrs:{href:"https://static.nowcoder.com/protocol/privacy-policy.html",target:"_blank"}},[t._v("《隐私政策》")])]],2):t._e()])])}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pop-reg-info"},[i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[i("span",{staticClass:"txt"},[t._v("1230+")]),i("span",{staticClass:"unit"},[t._v("套")])]),i("div",{staticClass:"cont"},[t._v("企业独家授权真题，在线做")])]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[i("span",{staticClass:"txt"},[t._v("18500+")]),i("span",{staticClass:"unit"},[t._v("篇")])]),i("div",{staticClass:"cont"},[t._v("校招/社招/实习面经，免费看")])]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[i("span",{staticClass:"txt"},[t._v("1000+")])]),i("div",{staticClass:"cont"},[t._v("名企学长学姐在线，帮你内推")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tooltip-arrow"},[e("i")])}],!1,null,null,null);e["default"]=E.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(105),r=i(124),o=i(172),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function s(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var c=i(2),l=i(18),d=i(0),u=i(10),h=i(4),p=i(31),f=i(15),g=i(113),v=i(27),m=i(139);var w={show:function(t){var e=(t=t||{}).propsData||{},i=new(v.extend(this))(t);return h.wrap(i,{title:e.title||"10s补全资料，解锁全部功能。",width:520,hasNoFooter:!0,close:e.closeCb}),i},components:{Status:n.a,Ipt:r.a,Select:o.a},props:["showEmoji","callCb","closeCb"],data:function(){var t=(new Date).getFullYear();return{isLoading:!0,error:"",name:"",eduLevel:"",school:"",workTime:"",jobCategory:[""],jobIds:[""],eduLevelOption:d.map(f.eduNames,(function(t){return{text:t,value:t}})),workTimeOption:d.map(d.range(4,1980-t,-1),(function(e){return{text:t+e,value:""+(t+e)}})),forbiddenName:"0",canEditName:!0,allJobs:[],jobCategoryOption:[],jobTypeOption:[],jobMap:{}}},mounted:function(){var t=this;t.jobIds=[],t.fetchData((function(e){var i=e.allJobs||[],n={};d.forEach(i,(function(t){return d.forEach(t.jobs,(function(t){return n[t.id]=t.name}))})),t.forbiddenName=d.id(e.forbiddenUpdateName),t.canEditName="0"===t.forbiddenName,t.allJobs=i,t.jobCategoryOption=d.map(i,(function(t){return{text:t.parent,value:t.parent}})),t.jobMap=n,t.name=c.trim(e.name),t.school=c.trim(e.school),t.eduLevel=c.trim(e.eduLevel),+e.workTime&&(t.workTime=""+e.workTime),t.jobIds=u.split(e.job,","),t.$nextTick((function(){t.initCpn(),t.initJob(),t.popup.fixPosition()}))}))},methods:{initCpn:function(){var t=this.$refs;g.initEduSchool({edu:t.eduLevel,school:t.school})},initJob:function(){var t=this,e=t.allJobs;r(),t.$watch("jobCategory",(function(i,n){var o=i.length,a=Math.max(o,n.length),c=t.isInWork;d.forCount(a,(function(n){if(!(n>=o)){var r=i[n];if(!r)return t.jobIds[n]=c?"":[];var a=d.find(e,(function(t){return t.parent===r}));t.jobTypeOption[n]=d.map(a.jobs,(function(t){return{text:t.name,value:t.id}})),t.jobTypeOption=[].concat(s(t.jobTypeOption))}})),r()})),t.$watch("isInWork",(function(e){e&&t.actionDel(1),t.jobIds.length=Math.min(t.jobIds.length,e?1:2),d.forEach(t.jobIds,(function(i,n){var r=d.isArray(i);t.jobIds[n]=e?r?i[0]||"":i||"":r?i:i?[i]:[]})),t.jobIds=[].concat(s(t.jobIds))}));var i=[],n=d.toMap(t.jobIds,(function(t){return{key:t}}));function r(){var i=d.map(t.jobCategory,(function(i,n){var r,o,a=[].concat(s(t.jobCategory));return a.splice(n,1),r=a,o=[],d.forEach(e,(function(t){d.contains(r,t.parent)||o.push({text:t.parent,value:t.parent})})),o}));JSON.stringify(i)!==JSON.stringify(t.jobCategoryOption)&&(t.jobCategoryOption=i)}d.forEach(e,(function(t){var e=[];d.forEach(t.jobs,(function(t){return n[t.id]&&e.push(t.id)})),e.length>0&&i.push({id:t.parent,items:e})})),i.sort((function(t,e){return e.items.length-t.items.length})),i.length=Math.min(i.length||1,t.isInWork?1:2),t.jobCategory=d.map(i,(function(t){return t.id})),t.jobIds=d.map(i,(function(e){return t.isInWork?e.items[0]||"":e.items}))},fetchData:function(t){var e=this;e.isLoading=!0,p.getBasicInfo({type:"GET",call:function(i){var n=i.data,r=n.basicInfo.educationInfo||"";e.isLoading=!1,t&&t({name:n.basicInfo.nickname,school:/填写/.test(r)?"":r,eduLevel:n.additionInfo.eduLevel,workTime:n.additionInfo.workTime,job:n.additionInfo.job,forbiddenUpdateName:d.id(n.forbiddenUpdateName),allJobs:n.allJobs})},error:function(t){return e.error=t.msg},always:function(){return e.isLoading=!1}})},check:function(t){var e=this,i=e.$refs,n=e.valData,r=e.isInWork,o=!0;function a(t,e){t&&t.setError&&t.setError(e),o=!1}!n.eduLevel&&a(i.eduLevel),!n.school&&a(i.school,"学校不能为空"),!n.workTime&&a(i.workTime),d.forEach(e.jobCategory,(function(t,n){var o=e.jobIds[n];!t&&a(i.jobCategory[n]),(r?!o:0===o.length||!d.every(o,(function(t){return!!t})))&&a(i.jobId[n])})),e.checkName((function(e){return t(o&&e)}))},checkName:function(t){var e=this.$refs.name,i=this.nameMap=this.nameMap||{},n=c.trim(this.name),r=i[n];if(!n)return o("起一个响亮的名字吧");if(n.length>25)return o("昵称不能大于25字符");if(!0===r)return o("昵称已经被占用");if(!1===r)return t&&t(!0);function o(i){e.setError(i),t&&t(!1)}p.checkNickName({query:{nickname:n},call:function(){i[n]=!1,t&&t(!0)},error:function(e){var r=2===e.code;i[n]=!!r||undefined,r?o("昵称已经被占用"):t&&t(!0)}})},checkSensitive:function(t,e){var i=this.$refs[t],n=c.trim(this[t]);m.checkSensitive({word:n,isStrong:"name"===t,call:function(n){e&&e(n),n&&(i.setNone(),"name"===t&&i.setError("昵称含有违禁词汇"))}})},actionClickJob:function(t,e){if(!this.workTime)return h.alert("请先选择毕业年份吧");if("type"===t&&!this.jobCategory[e])return h.alert("请先选择职位类别吧")},actionAdd:function(){this.jobCategory.push("")},actionDel:function(t){var e=this.jobCategory||[];if(t>=e.length)return;e.splice(t,1),this.jobIds.splice(t,1)},actionSubmit:function(){var t=this,e=t.$el;t.check((function(i){i&&!l.mark(e)&&p.completeness({body:t.valData,call:function(e){t.callCb&&t.callCb(a({},t.valData,{isInWork:t.isInWork})),t.popup.close()},error:function(t){return h.alert(t.msg)},always:function(){return l.clear(e)}})}))}},computed:{valData:function(){var t=[];return d.forEach(this.jobIds,(function(e){return d.isArray(e)?t=t.concat(e):t.push(e)})),t=d.filter(this.jobIds,(function(t){return!!t})),t=d.uniq(t),{name:c.trim(this.name),eduLevel:c.trim(this.eduLevel),school:c.trim(this.school),workTime:c.trim(this.workTime),job:t.join(",")}},isInWork:function(){var t=new Date,e=t.getFullYear(),i=t.getMonth()+1,n=+this.workTime||0;return n&&n<e||n===e&&i>=8}}},b=i(1),y=Object(b.a)(w,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isLoading?i("Status",{attrs:{loading:!0}},[t._v("加载中...")]):t.error?i("Status",{domProps:{innerHTML:t._s(t.error)}}):i("div",{staticClass:"pop-info-complete-v2 clearfix"},[t.showEmoji?i("div",{staticClass:"fn-center mb4"},[i("img",{staticStyle:{width:"108px",height:"99px",display:"block",margin:"0px auto"},attrs:{src:"//static.nowcoder.com/fe/style/images/common/res/tips/8.png"}})]):t._e(),t._v(" "),i("div",{staticClass:"form-group"},[i("Ipt",{ref:"name","class":t.canEditName?"":"js-nc-title-tips",attrs:{placeholder:"昵称",isDisabled:!t.canEditName,title:t.canEditName?"":"2"===t.forbiddenName?"近期暂不支持修改昵称":"180天内只可修改1次",focusTips:t.canEditName?"180天内只可修改1次":""},on:{blur:function(e){return t.checkSensitive("name")}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),i("div",{staticClass:"form-group"},[i("Select",{ref:"eduLevel",attrs:{options:t.eduLevelOption,text:"最高学历"},model:{value:t.eduLevel,callback:function(e){t.eduLevel=e},expression:"eduLevel"}})],1),t._v(" "),i("div",{staticClass:"form-group"},[i("Ipt",{ref:"school",attrs:{placeholder:"你的学校"},model:{value:t.school,callback:function(e){t.school=e},expression:"school"}})],1),t._v(" "),i("div",{staticClass:"form-group"},[i("Select",{ref:"workTime",attrs:{options:t.workTimeOption,text:"毕业年份"},model:{value:t.workTime,callback:function(e){t.workTime=e},expression:"workTime"}})],1),t._v(" "),t._l(t.jobCategory,(function(e,n){return i("div",{key:n,staticClass:"complete-job-line",on:{click:function(e){return t.actionClickJob("line")}}},[i("Select",{ref:"jobCategory",refInFor:!0,attrs:{isDisabled:!t.workTime,options:t.jobCategoryOption[n],text:t.isInWork?"从事职位类别":(0===n?"":"第二")+"意向职位类别"},model:{value:t.jobCategory[n],callback:function(e){t.$set(t.jobCategory,n,e)},expression:"jobCategory[index]"}}),t._v(" "),t.isInWork?i("Select",{key:"one"+n,ref:"jobId",refInFor:!0,attrs:{isDisabled:!t.workTime||!t.jobCategory[n],options:t.jobTypeOption[n],text:t.isInWork?"从事职位":(0===n?"":"第二")+"意向职位"},nativeOn:{click:function(e){return e.stopPropagation(),t.actionClickJob("type",n)}},model:{value:t.jobIds[n],callback:function(e){t.$set(t.jobIds,n,e)},expression:"jobIds[index]"}}):i("Select",{key:"multi"+n,ref:"jobId",refInFor:!0,attrs:{isMulti:!0,isDisabled:!t.workTime||!t.jobCategory[n],options:t.jobTypeOption[n],text:t.isInWork?"从事职位":(0===n?"":"第二")+"意向职位"},nativeOn:{click:function(e){return e.stopPropagation(),t.actionClickJob("type",n)}},model:{value:t.jobIds[n],callback:function(e){t.$set(t.jobIds,n,e)},expression:"jobIds[index]"}}),t._v(" "),t.workTime&&!t.isInWork?[t.jobCategory.length<=1?i("a",{key:"add"+n,staticClass:"item-oprt icon-nc-plus js-nc-title-tips",attrs:{href:"javascript:void(0);",title:"新增第二志愿职位类别"},on:{click:t.actionAdd}}):t._e(),t._v(" "),t.jobCategory.length>1?i("a",{key:"del"+n,staticClass:"item-oprt icon-nc-minus js-nc-title-tips",attrs:{href:"javascript:void(0);",title:"删除本类意向职位"},on:{click:function(e){return t.actionDel(n)}}}):t._e()]:t._e()],2)})),t._v(" "),i("a",{staticClass:"btn btn-primary btn-lg",attrs:{href:"javascript:void(0);"},on:{click:t.actionSubmit}},[t._v("确定")])],2)],1)}),[],!1,null,null,null);e["default"]=y.exports}]]);